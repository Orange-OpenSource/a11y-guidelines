<!doctype html>
<html lang="en" dir="ltr" class="no-js">
  <head>
    <meta charset="utf-8">    
    <title>Swift generics and protocols - Orange digital accessibility guidelines</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="l2y2kYf6v887K8NW7L41pN29ueW0w5P02MJrUiP2JoA" />    
    
    <meta name="description" content="Discover language features in Swift 5.7 that can help you make generic code easier to write and understand. Learn how you can use Swift 5.7 to design advanced abstractions using protocols.">
            
    <link rel="preconnect" href="https://code.jquery.com" crossorigin="anonymous">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin="anonymous">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/HelvNeue55_W1G.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/HelvNeue75_W1G.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="alternate" type="application/rss+xml" title="Recommandations accessibilité Orange - Français" href="/feed-fr.xml" />
    <link rel="alternate" type="application/rss+xml" title="Orange digital accessibility guidelines - English" href="/feed-en.xml" />
    
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/assets/images/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/assets/images/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="mask-icon" href="/assets/images/safari-pinned-tab.svg" color="#563d7c">
    <link rel="icon" href="/assets/images/favicon.ico">
    
    <link href="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/css/boosted.min.css" rel="stylesheet" integrity="sha384-laZ3JUZ5Ln2YqhfBvadDpNyBo7w5qmWaRnnXuRwNhJeTEFuSdGbzl4ZGHAEnTozR" crossorigin="anonymous">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/a11y-light.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="/assets/tarteaucitron-boosted.css"></head>
  <body data-bs-spy="scroll" data-bs-offset="130" data-bs-target="#toc" style="position:relative;">
    

<header role="banner">
  <nav class="navbar navbar-dark navbar-expand-lg bg-dark supra" aria-label="Skip links - Switch language">
   <div class="container-lg">
      <ul id="avoidanceLinks" class="navbar-nav me-auto"><li class="nav-item">
      <a href="#main-menu" class="nav-link">Go to menu</a>
    </li><li class="nav-item">
      <a href="#main-content" class="nav-link">Go to content</a>
    </li><li class="nav-item hidden-if-no-js">
      <a href="#search-input" class="nav-link">Go to search</a>
    </li><li class="nav-item">
      <a href="#footer" class="nav-link">Go to footer</a>
    </li></ul>

      <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/en/" class="nav-link active" aria-current="true" lang="en">
        English
        </a>
      </li>
      <li class="nav-item">
        <a href="/fr/" class="nav-link" lang="fr">
        Français
        </a>
      </li></ul>
    </div>
  </nav>
  
  

<div class="navbar navbar-dark bg-dark navbar-expand-md">
  <nav id="main-menu" class="container-lg justify-content-md-start" role="navigation" aria-label="Main navigation">
    <a href="/en/" class="navbar-brand flex-grow-1 flex-md-grow-0" title="Orange, go to homepage">
      <img src="/assets/images/orange-logo.svg" alt="Orange, go to homepage" width="50" height="50">
    </a>

    <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#main-menu-list" aria-controls="main-menu-list" aria-expanded="false" aria-label="Navigation menu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse me-auto" id="main-menu-list">
      <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a href="/en/" class="nav-link">
  Home
</a>
            </li>
            <li class="nav-item">
              <a href="/en/planning/" class="nav-link">
  Planning
</a>
            </li>
            <li class="nav-item">
              <a href="/en/web/" class="nav-link">
  Web
</a>
            </li>
            <li class="nav-item">
              <a href="/en/mobile/android/" class="nav-link">
  Android
</a>
            </li>
            <li class="nav-item">
              <a href="/en/mobile/ios/" class="nav-link active" aria-current="true">
  iOS
</a>
            </li>
            <li class="nav-item">
              <a href="/en/content-and-communication/" class="nav-link">
  Content and communication
</a>
            </li>
            <li class="nav-item">
              <a href="/en/articles/" class="nav-link">
  Articles
</a>
            </li><li class="nav-item d-md-none">
  <span class="visually-hidden">Switch language</span>
  <ul class="d-flex list-inline">
      <li class="list-inline-item flex-grow-1">
        <a href="/en/" class="nav-link active" aria-current="true" lang="en">
        English
        </a>
      </li>
      <li class="list-inline-item flex-grow-1">
        <a href="/fr/" class="nav-link" lang="fr">
        Français
        </a>
      </li></ul>
</li>
      </ul>
    </div>

    <div id="search-input"></div>

  </nav>
</div>

  <nav id="secondary-navigation" class="o-nav-local border-bottom border-light navbar-light mb-1" role="navigation" aria-label="Secondary navigation">
  <div class="container-lg">
    <ul class="nav"><li class="nav-item">
              <a href="/en/mobile/ios/design/" class="nav-link">
  Design
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/development/" class="nav-link">
  Develop
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/test/" class="nav-link">
  Test
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/wcag-audit/" class="nav-link">
  Audit
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/toolbox/" class="nav-link">
  Toolbox
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/checklist/" class="nav-link">
  Must-haves
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/wwdc/" class="nav-link active" aria-current="true">
  WWDC
</a>
            </li></ul>
  </div>
</nav>
</header>
    <div class="container-lg pt-2">
      
      
        

<nav role="navigation" aria-labelledby="breadcrumb-label">
  <p id="breadcrumb-label" class="visually-hidden">You are here:</p>
  <ol class="breadcrumb">
      
        <li class="breadcrumb-item d-none d-sm-flex">
          <a class="breadcrumb-focus" href="/en/">Home</a>
        </li>
      
      
        <li class="breadcrumb-item d-none d-sm-flex">
          <a class="breadcrumb-focus" href="/en/mobile/ios/">iOS</a>
        </li>
      
      
        <li class="breadcrumb-item">
          <a class="breadcrumb-focus" href="/en/mobile/ios/wwdc/">WWDC</a>
        </li>
      
      
        <li class="breadcrumb-item d-none d-sm-flex" aria-current="page">
          Swift generics and protocols
        </li>
      </ol>
</nav>

      
      <div class="MobileDropdownNavigationContainer d-flex flex-column flex-sm-row justify-content-between">
        
        
          <nav id="mobile-toc" class="dropdown d-md-none" role="navigation" aria-labelledby="mobile-toc-dropdown-handler">
      <button type="button" class="btn btn-outline-secondary dropdown-toggle" id="mobile-toc-dropdown-handler" data-bs-toggle="dropdown" aria-expanded="false">
        On this page
      </button>
      <div class="dropdown-menu dropdown-menu-right"><a href="#polymorphism" class="dropdown-item text-wrap">Polymorphism</a><a href="#basics-for-generic-code" class="dropdown-item text-wrap">Basics for generic code</a><a href="#protocol" class="dropdown-item text-wrap">Protocol</a><a href="#some" class="dropdown-item text-wrap">Some</a><a href="#any" class="dropdown-item text-wrap">Any</a><a href="#hide-identify" class="dropdown-item text-wrap">Hide &amp; Identify</a></div>
    </nav>
        
      </div>
    </div>
    
  <div class="container-lg pt-4">
      <div class="row">
        
        <main id="main-content" class="col-md-9" role="main">
          
          <div class="mt-4">
          <h1>WWDC 2022: Swift generics and protocols</h1>
<p>Find hereafter a detailed summary of two videos that belong to a <a href="../../">taxonomy of some WWDC footages</a>.</p>
<p>The original videos are available on the <strong>official Apple website</strong> (<a href="https://developer.apple.com/videos/play/wwdc2022//110352/">session 110352</a>, <a href="https://developer.apple.com/videos/play/wwdc2022//110353/">session 110353</a>).</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols.png" alt="" class="img-fluid"></p>
<p>&quot;Generics are a fundamental tool for <strong>writing abstract code in Swift</strong>. Learn how you can identify opportunities for abstraction as your code evolves, evaluate strategies for writing one piece of code with many behaviors, and <strong>discover language features in Swift 5.7</strong> that can help you <strong>make generic code easier to write and understand</strong>.&quot;</p>
<p>&quot;Learn how you can <strong>use Swift 5.7 to design advanced abstractions using protocols</strong>. We'll show you how to <strong>use existential types</strong>, explore how you can separate implementation from interface with <strong>opaque result types</strong>, and share the same-type requirements that can help you <strong>identify and guarantee relationships between concrete types</strong>.&quot;<br>
</br></p>
<p>The crucial terms used in this speech are indicated hereunder:</p>
<ul>
<li><button class="btn btn-link" onclick="location.href='#protocol'">Associated type</button></li>
<li><button class="btn btn-link" onclick="tabPanelFocus('AnyAssociateTypePosition_tab','AnyAssociateTypePosition')">Associated type in consuming/producing position</button></li>
<li><button class="btn btn-link" onclick="location.href='#ConstainedResultType'">Constrained existential/opaque result type</button></li>
<li><button class="btn btn-link" onclick="location.href='#any'">Existential type</button></li>
<li><button class="btn btn-link" onclick="location.href='#basics-for-generic-code'">Interface</button></li>
<li><button class="btn btn-link" onclick="location.href='#some'">Opaque type</button></li>
<li><button class="btn btn-link" onclick="location.href='#polymorphism'">Polymorphism</button></li>
<li><button class="btn btn-link" onclick="location.href='#hide-identify'">Primary associated type</button></li>
<li><button class="btn btn-link" onclick="location.href='#protocol'">Protocol</button></li>
<li><button class="btn btn-link" onclick="location.href='#SameTypeRequirement'">Same-type requirement</button></li>
<li><button class="btn btn-link" onclick="tabPanelFocus('AnyTypeErasure_tab','AnyTypeErasure')">Type erasure</button></li>
<li><button class="btn btn-link" onclick="tabPanelFocus('PolymorphismParametric_tab','PolymorphismParametric')">Type parameter</button></li>
<li><button class="btn btn-link" onclick="tabPanelFocus('AnyUnboxing_tab','AnyUnboxing')">Unboxing</button></li>
<li><button class="btn btn-link" onclick="location.href='#some'">Underlying type</button></li>
<li><button class="btn btn-link" onclick="tabPanelFocus('AnyTypeErasure_tab','AnyTypeErasure')">Upper bound</button></li>
</ul>
<p></br>Most of the illustrations are parts of the Apple presentations and may be available at the <code>Resources</code> section inside the <code>Overview</code> sheet of each video.<br>
</br>Hereafter, the underlined elements lead directly to the playback of the WWDC video at the appropriate moment.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols_1.png" alt="" class="img-fluid"></p>
<p>When code snippets turn out to be <a href="https://developer.apple.com/videos/play/wwdc2022/110352?time=184">iterative</a>, it might be interesting to implement some abstract code by using <strong>polymorphism</strong> in the first place.<br>
</br></p>
<h2 id="polymorphism" class="h2-focus"><a href="https://developer.apple.com/videos/play/wwdc2022/110352?time=231">Polymorphism</a> <a class="header-anchor" href="#polymorphism" id="heading-1890" aria-labelledby="heading-1890">#</a></h2>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-Polymorphism_1.png" alt="" class="img-fluid"></p>
<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active"
           data-bs-toggle="tab" 
           href="#PolymorphismAdHoc"
           id="PolymorphismAdHoc_tab"
           role="tab" 
           aria-selected="true">Ad-hoc</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#PolymorphismSubtype"
           id="PolymorphismSubtype_tab"
           role="tab" 
           aria-selected="false">Subtype</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#PolymorphismParametric"
           id="PolymorphismParametric_tab"
           role="tab" 
           aria-selected="false">Parametric</a>
    </li>
    </ul>
<div class="tab-content">
<div class="tab-pane show active" id="PolymorphismAdHoc" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=108">🎬</a></p>
<p>This kind of polymorphism relies on <strong>overloads</strong> to reach the initial goal.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-PolymorphismAdHoc.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="PolymorphismSubtype" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=304">🎬</a></p>
<p>Using subtypes brings about the creation of a parent class from which each global functions will be inherited.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-PolymorphismSubtype.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="PolymorphismParametric" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=416">🎬</a></p>
<p>To avoid potential problems with the subtype solution, a more generic code is set up by way of <strong>generic types</strong> through <strong>type parameters</strong> that specify and name a placeholder type with a pair of matching angle brackets.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-PolymorphismParametric.png" alt="" class="img-fluid"></p>
<p>In case of <a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=468">numerous added types</a>, this code design could quickly become cumbersome.</p>
</div>
</div>
</br></br>
<h2 id="basics-for-generic-code" class="h2-focus">Basics for generic code <a class="header-anchor" href="#basics-for-generic-code" id="heading-1891" aria-labelledby="heading-1891">#</a></h2>
<p>The best way to get rid of some problematic situations using polymorphism is based on <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=495">building an interface</a></strong> that won't take the implementation details into account.</p>
<h3 id="protocol"><a href="https://developer.apple.com/videos/play/wwdc2022/110352?time=524">Protocol</a> <a class="header-anchor" href="#protocol" id="heading-1892" aria-labelledby="heading-1892">#</a></h3>
<p>In this perspective, Swift leans on a protocol to <strong>describe the functionality of conforming types</strong> in conjuction with <strong>associated types</strong> acting as placeholders for concrete types inside this protocol.<br>
<img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-BasicsProtocol_1.png" alt="" class="img-fluid"></p>
<p>The best way to set up a refined conception is based on the <a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=666">powerful expression</a> of <strong>named type parameters and trailing <code>where</code> clauses</strong>...<br>
<img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-BasicsProtocol_2.png" alt="" class="img-fluid"></p>
<p>... whose code writing has been <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=749">enhanced</a> in <code>Swift</code> <code>5.7</code></strong>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-BasicsProtocol_3.png" alt="" class="img-fluid"></p>
<p>However, this improvement may be avoided in some <a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=1091">specific situations</a>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-BasicsProtocol_4.png" alt="" class="img-fluid"></p>
<h3 id="some">Some <a class="header-anchor" href="#some" id="heading-1893" aria-labelledby="heading-1893">#</a></h3>
<p>The <strong>abstract type</strong> prefixed by the <code>some</code> keyword was introduced in <code>Swift</code> <code>5.1</code> as an <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=868">opaque type</a></strong>...<br>
<img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-Some_1.png" alt="" class="img-fluid"></p>
<p>... that isn't analyzed the same way depending on its role that will give rise to different assessings of its <strong>underlying type</strong>.</p>
<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active"
           data-bs-toggle="tab" 
           href="#OpaqueTypeLocalVariable"
           id="OpaqueTypeLocalVariable_tab"
           role="tab" 
           aria-selected="true">Local&nbsp;variable</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#OpaqueTypeParameter"
           id="OpaqueTypeParameter_tab"
           role="tab" 
           aria-selected="false">Parameter</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#OpaqueTypeResult"
           id="OpaqueTypeResult_tab"
           role="tab" 
           aria-selected="false">Result</a>
    </li>
    </ul>
<div class="tab-content">
<div class="tab-pane show active" id="OpaqueTypeLocalVariable" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=969">🎬</a></p>
<p>As the underlying type must be fixed, it's impossible to modify the initial value of an opaque type when used for a local variable.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-SomeOpaqueTypeLocalVariable.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="OpaqueTypeParameter" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=997">🎬</a></p>
<p>Using <code>some</code> as parameter is <strong>new in <code>Swift</code> <code>5.7</code></strong> and offers the opportunity to <strong>provide various types of elements</strong>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-SomeOpaqueTypeParameter.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="OpaqueTypeResult" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=1018">🎬</a><br>
<img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-SomeOpaqueTypeResult_1.png" alt="" class="img-fluid"></p>
<p>When the underlying return type isn't the same across all return statements, the <strong>D</strong>omain-<strong>S</strong>pecific <strong>L</strong>anguage <strong>ViewBuilder</strong> handles this situation to make it work in <a href="https://developer.apple.com/videos/play/wwdc2022/110352?time=1048">SwiftUI</a>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-SomeOpaqueTypeResult_2.png" alt="" class="img-fluid"></p>
</div>
</div>
</br>
<p></br>An opaque type also permits to <strong>dive into the underlying type's properties</strong> <a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=1152">in a safe way</a>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-Some_2.png" alt="" class="img-fluid"></p>
<p>Using the <code>some</code> keyword implies having the <strong>same type</strong> for all the elements <a href="https://developer.apple.com/videos/play/wwdc2022/110352?time=1239">inside an array</a> (the underlying type is fixed and can't vary).</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-Some_3.png" alt="" class="img-fluid"></p>
<h3 id="any">Any <a class="header-anchor" href="#any" id="heading-1894" aria-labelledby="heading-1894">#</a></h3>
<p>The static type prefixed by the <code>any</code> keyword introduced in <code>Swift</code> <code>5.6</code> is appointed an <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=1300">existential type</a></strong> and is represented by a <strong>specific structure in memory</strong>.</p>
<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active"
           data-bs-toggle="tab" 
           href="#AnyTypeErasure"
           id="AnyTypeErasure_tab"
           role="tab" 
           aria-selected="true">Type&nbsp;erasure</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#AnyAssociateTypePosition"
           id="AnyAssociateTypePosition_tab"
           role="tab" 
           aria-selected="false">Associate&nbsp;type's&nbsp;position</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#AnyUnboxing"
           id="AnyUnboxing_tab"
           role="tab" 
           aria-selected="false">Unboxing</a>
    </li>
    </ul>
<div class="tab-content">
<div class="tab-pane show active" id="AnyTypeErasure" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352?time=1336">🎬</a></p>
<p>The idea of having the same representation for different concrete types is called <strong>type erasure</strong> and these concrete types known only at runtime are said to be erased at compile time⟹ <strong>same static type and different dynamic types</strong>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-AnyTypeErasure.png" alt="" class="img-fluid"></p>
<p>The type <code>'any</code> <code>ProtocolName'</code> is called the <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=256">upper bound</a></strong> of the associated type in the protocol referred to.</p>
</div>
<div class="tab-pane" id="AnyAssociateTypePosition" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=275">🎬</a></p>
<p>It's important to notice that the <code>type erasure</code> doesn't work the same way depending on the role the associated types act in the implementation.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-AnyAssociateTypePosition.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="AnyUnboxing" role="tabpanel">
<p><a alt="Click to playback the footage at the appropriate moment." href="https://developer.apple.com/videos/play/wwdc2022/110352/?time=1380">🎬</a></p>
<p>Let the compiler reveal the value stored inside a static type is <strong>new in <code>Swift</code> <code>5.7</code></strong> and is called <strong>unboxing</strong>.<br>
This compiler behavior aims at <strong>exposing the existential type content by passing this element to a function that takes an opaque type</strong>, which is crucial regarding a consuming position of an associate type.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-AnyUnboxing.png" alt="" class="img-fluid"></p>
</div>
</div>
</br>
<p></br>Using the <code>any</code> keyword entitles to <strong>store any concrete type dynamically</strong> within an array unlike the <code>some</code> keyword.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-Any.png" alt="" class="img-fluid"></p>
</br>
<h2 id="hide-identify" class="h2-focus">Hide &amp; Identify <a class="header-anchor" href="#hide-identify" id="heading-1895" aria-labelledby="heading-1895">#</a></h2>
<p>Protocols can now include <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=740">primary associated types</a></strong> to specify the type for a given associated type as a generic constraint.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-HideIdentity_1.png" alt="" class="img-fluid"><br>
<a id="ConstainedResultType"></a><br>
Moreover, <code>Swift</code> <code>5.7</code> offers an interesting new way for <strong>hiding implementation</strong> through the <strong><a href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=682">constrained opaque result types</a></strong> that are also available for existential types via the <a href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=801">constrained existential result types</a>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-HideIdentity_2.png" alt="" class="img-fluid"></p>
<p>When protocol definitions are too general, they may lead to <a href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=894">unfortunate relationships</a> between different groups of concrete types.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-HideIdentity_3.png" alt="" class="img-fluid"><br>
<a id="SameTypeRequirement"></a><br>
To clear up the impediments outlined by the previous situation, associating the <strong>protocol's <code>Self</code> type</strong> (which stands for the concrete conforming type) and the <strong>same-type requirement</strong> (written in a where clause) is definitely the <a href="https://developer.apple.com/videos/play/wwdc2022/110353/?time=1272">best way</a> to identify the fact that two different associated types designate the <strong>same concrete type</strong>.</p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols-HideIdentity_4.png" alt="" class="img-fluid"></p>
<p><img src="../../../../../images/iOSdev/wwdc22-SwiftGenericsProtocols_2.png" alt="" class="img-fluid"></p>

          </div>
        </main>
        
          <div class="col-md-3">
            <div class="StickySideNavigation">
              <nav id="toc" class="bg-200 p-3 d-none d-md-block" role="navigation" aria-labelledby="toc-title">
      <h2 id="toc-title">On this page</h2>
      <ul class="nav flex-column"><li class="nav-item position-relative">
            <a href="#polymorphism" class="nav-link text-muted">Polymorphism</a></li><li class="nav-item position-relative">
            <a href="#basics-for-generic-code" class="nav-link text-muted">Basics for generic code</a>
            <ul><li class="nav-item position-relative">
            <a href="#protocol" class="nav-link text-muted">Protocol</a></li><li class="nav-item position-relative">
            <a href="#some" class="nav-link text-muted">Some</a></li><li class="nav-item position-relative">
            <a href="#any" class="nav-link text-muted">Any</a></li></ul></li><li class="nav-item position-relative">
            <a href="#hide-identify" class="nav-link text-muted">Hide &amp; Identify</a></li>
      </ul>
    </nav>
            </div>
          </div>
        
      </div>
    </div>
    

<footer id="footer" class="o-footer" role="contentinfo">
  <div class="container-lg">
    <nav class="py-2" role="navigation">
      <ul class="nav align-items-center flex-column flex-sm-row"><li class="nav-item">
            <a href="/en/contact/" class="nav-link">
  Contact
</a>
          </li><li class="nav-item">
            <a href="/en/about/" class="nav-link">
  About
</a>
          </li><li class="nav-item">
            <a href="/feed-en.xml" class="nav-link">
  RSS feed
</a>
          </li><li class="nav-item">
            <a href="/en/accessibility/" class="nav-link">
  Accessibility: partially compliant
</a>
          </li><li class="nav-item">
            <a href="https://a11y-guidelines-orange.netlify.app/en/" class="nav-link">
  Pre-release on Netlify
</a>
          </li><li class="nav-item">
          <a href="https://www.netlify.com" class="nav-link" title="Deploys by Netlify">
            <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" width="89" height="40">
          </a>
        </li>
        <li class="nav-item ms-sm-auto">
          <a href="https://github.com/Orange-OpenSource/a11y-guidelines/issues/new?title=File%20path%20:%20'./src/en/mobile/ios/wwdc/nota11y/2022/22SwiftGenericsProtocols.md'" class="nav-link" rel="noopener noreferrer" target="_blank" title="Report an error on GitHub (new window)">
            Report an error on GitHub<span class="visually-hidden">&nbsp;(new window)</span><svg width="16" height="16" class="ms-1" viewBox="0 0 1000 1000" aria-hidden="true" focusable="false"><path class="cls-1" d="M374.908,308.958L600,309V109L921.719,430.9a74.988,74.988,0,0,1,0,106.044L600,859V659H325A150.027,150.027,0,0,0,175,809v81C98.941,830.528,50,737.929,50,633.891,50,454.436,195.466,308.958,374.908,308.958Z"/></svg>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</footer>

    <nav role="navigation" class="back-to-top" aria-label="Back to top">
      <a href="#top" class="back-to-top-link btn btn-icon btn-outline-secondary" title="Back to top">
        <span class="visually-hidden">Back to top</span>
      </a>
    </nav>
    <script src="/assets/vendors/tarteaucitronjs/tarteaucitron.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    
    
      <script src="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/js/boosted.bundle.min.js" integrity="sha384-3RoJImQ+Yz4jAyP6xW29kJhqJOE3rdjuu9wkNycjCuDnGAtC/crm79mLcwj1w2o/" crossorigin="anonymous"></script>
    
    
      <script src="/assets/vendors/highlightjs/highlight.js"></script>
    
    <script>
      const Application = {
        lang: "en",
        vendors: {
          highlightJS: true,
          highlightTitle: false
        }
      }
    </script>
    <script src="/assets/script.js"></script><script>
      var tarteaucitronForceLanguage = "en"
      tarteaucitron.init({"privacyUrl":"","hashtag":"#cookie-consent","cookieName":"cookie-consent","orientation":"bottom","showAlertSmall":false,"cookieslist":true,"adblocker":false,"showIcon":false,"AcceptAllCta":true,"highPrivacy":true,"handleBrowserDNTRequest":false,"removeCredit":false,"moreInfoLink":true,"useExternalCss":true,"readmoreLink":"/cookiespolicy","mandatory":false});var dataLayer = [{
          'site_name': 'accessibility-guidelines',
          'phase': 'prod'
        }];
        tarteaucitron.user.googletagmanagerId = "GTM-N3M5VXS";
        (tarteaucitron.job = tarteaucitron.job || []).push('googletagmanager');docsearch({"appId":"QML88ZHQMQ","apiKey":"92e5543d97d72ef6a3ba61b241a75b19","indexName":"a11y-guidelines-orange","container":"#search-input","searchParameters":{"facetFilters":["language:en"]},"placeholder":"Search in entire website","translations":{"button":{"buttonText":"Search in entire website","buttonAriaLabel":"Search in entire website"},"modal":{"searchBox":{"resetButtonTitle":"Clear the query","resetButtonAriaLabel":"Clear the query","cancelButtonText":"Cancel","cancelButtonAriaLabel":"Cancel"},"startScreen":{"recentSearchesTitle":"Recent","noRecentSearchesText":"No recent searches","saveRecentSearchButtonTitle":"Save this search","removeRecentSearchButtonTitle":"Remove this search from history","favoriteSearchesTitle":"Favorite","removeFavoriteSearchButtonTitle":"Remove this search from favorites"},"errorScreen":{"titleText":"Unable to fetch results","helpText":"You might want to check your network connection."},"footer":{"selectText":"to select","selectKeyAriaLabel":"Enter key","navigateText":"to navigate","navigateUpKeyAriaLabel":"Arrow up","navigateDownKeyAriaLabel":"Arrow down","closeText":"to close","closeKeyAriaLabel":"Escape key","searchByText":"Search by"},"noResultsScreen":{"noResultsText":"No results for","suggestedQueryText":"Try searching for","reportMissingResultsText":"Believe this query should return results?","reportMissingResultsLinkText":"Let us know."}}},"debug":false});
    </script>
    <div hidden>Anchor link</div>
    <!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples. Copyright (C) 2016 - 2025 Orange SA. See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENCE file). -->

  </body>
</html>
