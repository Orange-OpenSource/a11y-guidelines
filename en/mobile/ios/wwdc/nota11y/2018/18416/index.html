<!doctype html>
<html lang="en" dir="ltr" class="no-js" data-bs-theme="light">
  <head>
    <meta charset="utf-8">
    <title>iOS Memory Deep Dive - Orange digital accessibility guidelines</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="l2y2kYf6v887K8NW7L41pN29ueW0w5P02MJrUiP2JoA" />
    
    <meta name="description" content="Discover how memory graphs can be used.">
    
    <link rel="preconnect" href="https://code.jquery.com" crossorigin="anonymous">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin="anonymous">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/HelvNeue55_W1G.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/HelvNeue75_W1G.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="alternate" type="application/rss+xml" title="Recommandations accessibilitÃ© Orange - FranÃ§ais" href="/feed-fr.xml" />
    <link rel="alternate" type="application/rss+xml" title="Orange digital accessibility guidelines - English" href="/feed-en.xml" />
    
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/assets/images/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/assets/images/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="mask-icon" href="/assets/images/safari-pinned-tab.svg" color="#563d7c">
    <link rel="icon" href="/assets/images/favicon.ico">
    
    <link href="https://cdn.jsdelivr.net/npm/boosted@5.3.8/dist/css/boosted.min.css" rel="stylesheet" integrity="sha384-kwpgedOHSHo219WTezLqyMOgCWremFb5TML711U5X8c4TJMMBAyhHFf2gNv78IpY" crossorigin="anonymous">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/a11y-light.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="/assets/tarteaucitron-boosted.css"></head>
  <body data-bs-spy="scroll" data-bs-offset="130" data-bs-target="#toc" style="position:relative;">
    

<header role="banner">
  <nav class="navbar navbar-expand-lg supra" aria-label="Skip links - Switch language" data-bs-theme="dark">
   <div class="container-lg">
      <ul id="avoidanceLinks" class="navbar-nav me-auto"><li class="nav-item">
      <a href="#main-menu" class="nav-link">Go to menu</a>
    </li><li class="nav-item">
      <a href="#main-content" class="nav-link">Go to content</a>
    </li><li class="nav-item hidden-if-no-js">
      <a href="#search-input" class="nav-link">Go to search</a>
    </li><li class="nav-item">
      <a href="#footer" class="nav-link">Go to footer</a>
    </li></ul>

      <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/en/" class="nav-link active" aria-current="true" lang="en">
        English
        </a>
      </li>
      <li class="nav-item">
        <a href="/fr/" class="nav-link" lang="fr">
        FranÃ§ais
        </a>
      </li></ul>
    </div>
  </nav>

  

<div class="navbar navbar-expand-md" data-bs-theme="dark">
  <nav id="main-menu" class="container-lg justify-content-md-start align-items-center" role="navigation" aria-label="Main navigation">
    <a href="/en/" class="navbar-brand flex-grow-1 flex-md-grow-0" title="Orange, go to homepage">
      <img src="/assets/images/orange-logo.svg" alt="Orange, go to homepage" width="50" height="50">
    </a>

    <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#main-menu-list" aria-controls="main-menu-list" aria-expanded="false" aria-label="Navigation menu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse me-auto" id="main-menu-list">
      <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a href="/en/" class="nav-link">
  Home
</a>
            </li>
            <li class="nav-item">
              <a href="/en/planning/" class="nav-link">
  Planning
</a>
            </li>
            <li class="nav-item">
              <a href="/en/web/" class="nav-link">
  Web
</a>
            </li>
            <li class="nav-item">
              <a href="/en/mobile/android/" class="nav-link">
  Android
</a>
            </li>
            <li class="nav-item">
              <a href="/en/mobile/ios/" class="nav-link active" aria-current="true">
  iOS
</a>
            </li>
            <li class="nav-item">
              <a href="/en/content-and-communication/" class="nav-link">
  Content and communication
</a>
            </li>
            <li class="nav-item">
              <a href="/en/articles/" class="nav-link">
  Articles
</a>
            </li><li class="nav-item d-md-none">
  <span class="visually-hidden">Switch language</span>
  <ul class="d-flex list-inline">
      <li class="list-inline-item flex-grow-1">
        <a href="/en/" class="nav-link active" aria-current="true" lang="en">
        English
        </a>
      </li>
      <li class="list-inline-item flex-grow-1">
        <a href="/fr/" class="nav-link" lang="fr">
        FranÃ§ais
        </a>
      </li></ul>
</li>
      </ul>
    </div>

    <div id="search-input"></div>

  </nav>
</div>

  <nav id="secondary-navigation" class="o-nav-local border-bottom border-light navbar-light mb-1" role="navigation" aria-label="Secondary navigation">
  <div class="container-lg">
    <ul class="nav"><li class="nav-item">
              <a href="/en/mobile/ios/design/" class="nav-link">
  Design
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/development/" class="nav-link">
  Develop
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/test/" class="nav-link">
  Test
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/wcag-audit/" class="nav-link">
  Audit
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/toolbox/" class="nav-link">
  Toolbox
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/checklist/" class="nav-link">
  11 Essentials
</a>
            </li><li class="nav-item">
              <a href="/en/mobile/ios/wwdc/" class="nav-link active" aria-current="true">
  WWDC
</a>
            </li></ul>
  </div>
</nav>
</header>
    <div class="container-lg pt-2">
      
      
        

<nav role="navigation" aria-labelledby="breadcrumb-label">
  <p id="breadcrumb-label" class="visually-hidden">You are here:</p>
  <ol class="breadcrumb">
      
        <li class="breadcrumb-item d-none d-sm-flex">
          <a class="breadcrumb-focus" href="/en/">Home</a>
        </li>
      
      
        <li class="breadcrumb-item d-none d-sm-flex">
          <a class="breadcrumb-focus" href="/en/mobile/ios/">iOS</a>
        </li>
      
      
        <li class="breadcrumb-item">
          <a class="breadcrumb-focus" href="/en/mobile/ios/wwdc/">WWDC</a>
        </li>
      
      
        <li class="breadcrumb-item d-none d-sm-flex" aria-current="page">
          iOS Memory Deep Dive
        </li>
      </ol>
</nav>

      
      <div class="MobileDropdownNavigationContainer d-flex flex-column flex-sm-row justify-content-between">
        
        
          <nav id="mobile-toc" class="dropdown d-md-none" role="navigation" aria-labelledby="mobile-toc-dropdown-handler">
      <button type="button" class="btn btn-outline-secondary dropdown-toggle" id="mobile-toc-dropdown-handler" data-bs-toggle="dropdown" aria-expanded="false">
        On this page
      </button>
      <div class="dropdown-menu dropdown-menu-right"><a href="#memory-footprint" class="dropdown-item text-wrap">MemoryÂ footprint</a><a href="#tools-for-profiling-footprint" class="dropdown-item text-wrap">ToolsÂ forÂ profilingÂ footprint</a><a href="#instruments" class="dropdown-item text-wrap">Instruments</a><a href="#xcode" class="dropdown-item text-wrap">Xcode</a><a href="#command-line" class="dropdown-item text-wrap">Command-line</a><a href="#choice" class="dropdown-item text-wrap">Choice</a><a href="#images" class="dropdown-item text-wrap">Images</a><a href="#background-optimization" class="dropdown-item text-wrap">BackgroundÂ optimization</a><a href="#demo" class="dropdown-item text-wrap">Demo</a></div>
    </nav>
        
      </div>
    </div>
    
  <div class="container-lg pt-4">
      <div class="row">
        
        <main id="main-content" class="col-md-9" role="main">
          
          <div class="mt-4">
          <h1>WWDC 2018: iOS Memory Deep Dive</h1>
<p>Find hereafter a detailed summary of the above named video which belongs to a <a href="../../">taxonomyÂ ofÂ someÂ WWDCÂ footages</a>.</p>
<p>The original video is available on the <strong>official Apple website</strong> (<a href="https://developer.apple.com/videos/play/wwdc2018/416/">sessionÂ 416</a>).</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416.png" alt="" class="img-fluid"></p>
<p>&quot;Discover how <strong>memory graphs</strong> can be used to get a close up look at what is contributing to an <strong>app's memory footprint</strong>. Understand the true <strong>memory cost of an image</strong>. Learn some tips and tricks for <strong>reducing the memory footprint</strong> of an app.&quot;<br>
</br></br>The various contents of this video are indicated hereunder:</p>
<ul>
<li>
<p><a href="#memory-footprint">MemoryÂ footprint</a></p>
</li>
<li>
<p><a href="#tools-for-profiling-footprint">ToolsÂ forÂ profilingÂ footprint</a></p>
</li>
<li>
<p><a href="#images">Images</a></p>
</li>
<li>
<p><a href="#background-optimization">BackgroundÂ optimization</a></p>
</li>
<li>
<p><a href="#demo">Demo</a></p>
</li>
</ul>
<p></br>Most of the illustrations are parts of the Apple presentations and may be available at the <code>Resources</code> section inside the <code>Overview</code> sheet of each video.<br>
</br>Hereafter, the underlined elements lead directly to the playback of the WWDC video at the appropriate moment.<br>
</br></p>
<h2 id="memory-footprint" class="h2-focus"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=88">MemoryÂ footprint</a> <a class="header-anchor" href="#memory-footprint" id="heading-1966" aria-labelledby="heading-1966">#</a></h2>
<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active"
           data-bs-toggle="tab" 
           href="#MemoryFootprintOverview"
           id="MemoryFootprintOverview_tab"
           role="tab" 
           aria-selected="true">Overview</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#MemoryFootprintMemories"
           id="MemoryFootprintMemories_tab"
           role="tab" 
           aria-selected="false">Memories</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#MemoryFootprintFramework"
           id="MemoryFootprintFramework_tab"
           role="tab" 
           aria-selected="false">Framework</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#MemoryFootprintWarning"
           id="MemoryFootprintWarning_tab"
           role="tab" 
           aria-selected="false">Warning</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#MemoryFootprintLimit"
           id="MemoryFootprintLimit_tab"
           role="tab" 
           aria-selected="false">Limit</a>
    </li>
</ul>
<div class="tab-content">
<div class="tab-pane show active" id="MemoryFootprintOverview" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=100">ðŸŽ¬ (01:40)</a></p>
<p>Dealing with the memory footprint always points out the management of the <strong>memory pages</strong> that are detailed in this footage.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintOverview.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="MemoryFootprintMemories" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=203">ðŸŽ¬ (03:23)</a></p>
<p>An app's segments of memory are divided into three parts: <strong>dirty</strong>, <strong>compressed</strong> and <strong>clean</strong>.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintMemories_1.png" alt="" class="img-fluid"><br>
</br></p>
<p>The <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=297">memoryÂ compressor</a> is a good way to obtain more space with unused pages.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintMemories_2.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="MemoryFootprintFramework" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=267">ðŸŽ¬ (04:27)</a></p>
<p>A good practice is to use the singletons and the global initializers of the frameworks to alleviate the amount of dirty memory generated by their usage.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintFramework.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="MemoryFootprintWarning" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=346">ðŸŽ¬ (05:46)</a></p>
<p>A <strong>memory warning</strong> may be brought about by multiple reasons...<br>
<img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintWarning_1.png" alt="" class="img-fluid"></p>
<p>... and <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=385">purgingÂ theÂ cacheÂ memory</a> is not necessary the best way to follow.<br>
<img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintWarning_2.png" alt="" class="img-fluid"></p>
<p>Finally, the <strong><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=423">cacheÂ usage</a> is recommended</strong> but mustn't be overkill failing which the contrary goal might be reached.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintWarning_3.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="MemoryFootprintLimit" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=456">ðŸŽ¬ (07:36)</a></p>
<p>The <strong>app's footprint</strong> is clearly defined as the <strong>dirty</strong> and <strong>compressed</strong> memories.</p>
<p><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=473">ReachingÂ itsÂ limit</a> by raising an exception may be induced not only by these memory segments but also by the hardware and functional aspects.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-MemoryFootprintLimit.png" alt="" class="img-fluid"></p>
</div>
</div>
<p></br></br></p>
<h2 id="tools-for-profiling-footprint" class="h2-focus"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=520">ToolsÂ forÂ profilingÂ footprint</a> <a class="header-anchor" href="#tools-for-profiling-footprint" id="heading-1967" aria-labelledby="heading-1967">#</a></h2>
<h3 id="instruments"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=558">Instruments</a> <a class="header-anchor" href="#instruments" id="heading-1968" aria-labelledby="heading-1968">#</a></h3>
<p>Using the <strong>XcodeÂ Instruments</strong> is the best way to look into the app's footprint: the <strong>VMÂ Tracker</strong> (dirty and compressed memory) and the <strong>VMÂ MemoryÂ Trace</strong> (virtual memory system's performance) are introduced to understand their purposes.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsInstruments.png" alt="" class="img-fluid"></p>
<h3 id="xcode"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=621">Xcode</a> <a class="header-anchor" href="#xcode" id="heading-1969" aria-labelledby="heading-1969">#</a></h3>
<p>As noted sooner in the presentation, Xcode catches an <strong>EXC resource exception</strong> raised when the app's footprint reaches its limit.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsXcode_1.png" alt="" class="img-fluid"></p>
<p>The <strong>XcodeÂ MemoryÂ Debugger</strong> has a <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=639">newÂ design</a> to exploit the Memgraph file format that stores some <strong>information about the memory use</strong>.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsXcode_2.png" alt="" class="img-fluid"></p>
<h3 id="command-line">Command-line <a class="header-anchor" href="#command-line" id="heading-1970" aria-labelledby="heading-1970">#</a></h3>
<p>A number of the command-line tools can be used to analyze the Memgraphs in depth.</p>
<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active"
           data-bs-toggle="tab" 
           href="#ToolsCommandLineVmmap"
           id="ToolsCommandLineVmmap_tab"
           role="tab" 
           aria-selected="true">vmmap</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#ToolsCommandLineLeaks"
           id="ToolsCommandLineLeaks_tab"
           role="tab" 
           aria-selected="false">leaks</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#ToolsCommandLineHeap"
           id="ToolsCommandLineHeap_tab"
           role="tab" 
           aria-selected="false">heap</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#ToolsCommandLineMallocHistory"
           id="ToolsCommandLineMallocHistory_tab"
           role="tab" 
           aria-selected="false">malloc_history</a>
    </li>
</ul>
<div class="tab-content">
<div class="tab-pane show active" id="ToolsCommandLineVmmap" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=693">ðŸŽ¬ (11:33)</a></p>
<p>This tool <strong>displays the virtual memory regions</strong> that are allocated to the process whether they're writable or not.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsCommandLineVmmap_1.png" alt="" class="img-fluid"></p>
<p>The <strong><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=756">awkÂ scripts</a></strong> are also recommended to be inserted in the command lines to provide more efficient and readible results.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsCommandLineVmmap_2.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="ToolsCommandLineLeaks" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=808">ðŸŽ¬ (13:28)</a></p>
<p>The <code>leaks</code> command-line exposes the objects responsible for the dirty memories that can't be released.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsCommandLineLeaks.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="ToolsCommandLineHeap" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=854">ðŸŽ¬ (14:14)</a></p>
<p>The <code>heap</code> tool displays all kind of information regarding the object allocations in the process heap.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsCommandLineHeap.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="ToolsCommandLineMallocHistory" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=943">ðŸŽ¬ (15:43)</a></p>
<p>In order to <strong>log each object allocation in a Memgraph file</strong>, the <strong>mallocÂ stackÂ logging</strong> must be ticked in the diagnostics tab within the scheme editor using the <code>Live</code>Â <code>Allocations</code>Â <code>only</code> option.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsCommandLineMallocHistory_1.png" alt="" class="img-fluid"></p>
<p>The allocation address passed as an input parameter to the <code>malloc_history</code> command-line will provide <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=975">usefulÂ information</a> about the memory segments.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsCommandLineMallocHistory_2.png" alt="" class="img-fluid"></p>
</div>
</div>
<p></br></br></p>
<h3 id="choice"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1008">Choice</a> <a class="header-anchor" href="#choice" id="heading-1971" aria-labelledby="heading-1971">#</a></h3>
<p>The choice of the appropriate tool to use definitely depends on the goal to be reached.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ToolsChoice.png" alt="" class="img-fluid"><br>
</br></br></p>
<h2 id="images" class="h2-focus"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1067">Images</a> <a class="header-anchor" href="#images" id="heading-1972" aria-labelledby="heading-1972">#</a></h2>
<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active"
           data-bs-toggle="tab" 
           href="#ImagesOverview"
           id="ImagesOverview_tab"
           role="tab" 
           aria-selected="true">Overview</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#ImagesFormats"
           id="ImagesFormats_tab"
           role="tab" 
           aria-selected="false">Formats</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#ImagesSelection"
           id="ImagesSelection_tab"
           role="tab" 
           aria-selected="false">Selection</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link"
           data-bs-toggle="tab" 
           href="#ImagesDownsampling"
           id="ImagesDownsampling_tab"
           role="tab" 
           aria-selected="false">Downsampling</a>
    </li>
</ul>
<div class="tab-content">
<div class="tab-pane show active" id="ImagesOverview" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1070">ðŸŽ¬ (17:50)</a></p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesOverview_1.png" alt="" class="img-fluid"></p>
<p>The <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1115">completeÂ description</a> of the image processing is the basics to rule and understand the following steps of optimization.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesOverview_2.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="ImagesFormats" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1153">ðŸŽ¬ (19:13)</a></p>
<p>The <strong>understanding of the different formats</strong> for images is the key to have a better perception of some later potential troublesome effects due to unfortunate initial settings.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesFormats.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="ImagesSelection" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1253">ðŸŽ¬ (20:53)</a></p>
<p>The <strong>recommended use of the API</strong> will provide the most appropriate choice regarding the format.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesSelection_1.png" alt="" class="img-fluid"></p>
<p>Drawing a circle for a mask is the <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1297">suggestedÂ example</a> that exposes the reduce of memory usage with the above recommandations.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesSelection_2.png" alt="" class="img-fluid"></p>
</div>
<div class="tab-pane" id="ImagesDownsampling" role="tabpanel">
<p><a alt="Click to playback the video at the indicated time." href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1351">ðŸŽ¬ (22:31)</a></p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesDownsampling_1.png" alt="" class="img-fluid"></p>
<p>To <strong>avoid the memory spikes</strong>, it's highly recommended to <strong>use the ImageIO framework</strong> when <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1392">loadingÂ anÂ image</a> (displaying partial image during the loading process) or when its original size is huge.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-ImagesDownsampling_2.png" alt="" class="img-fluid"></p>
<p>While the CPU power is always operated in the downsampling process, it may be advisable to get the properly scaled image instead of initiating actions that will involve the processor to reach the same goal.</p>
</div>
</div>
<p></br></br></p>
<h2 id="background-optimization" class="h2-focus"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1425">BackgroundÂ optimization</a> <a class="header-anchor" href="#background-optimization" id="heading-1973" aria-labelledby="heading-1973">#</a></h2>
<p><img src="../../../../../images/iOSdev/wwdc18-416-BackgroundOptimization_1.png" alt="" class="img-fluid"></p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-BackgroundOptimization_2.png" alt="" class="img-fluid"></p>
<p><strong>App lifecycle</strong> and <strong>view controllers appearance cycle</strong> are the best places to handle the actions responsible for providing the most appropriate <strong>memory space</strong> to the system.</p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-BackgroundOptimization_3.png" alt="" class="img-fluid"></p>
<p><img src="../../../../../images/iOSdev/wwdc18-416-BackgroundOptimization_4.png" alt="" class="img-fluid"></p>
<p></br></br></p>
<h2 id="demo" class="h2-focus"><a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1540">Demo</a> <a class="header-anchor" href="#demo" id="heading-1974" aria-labelledby="heading-1974">#</a></h2>
<ul>
<li>
<p>Filter leaks in a Memgraph file âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1676">Xcode</a></p>
</li>
<li>
<p>Evaluate the number of potentially troublesome instances of objects âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1715">Xcode</a></p>
</li>
<li>
<p>Estimate the weigh of each generated objects (1/2) âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1746">Xcode</a></p>
</li>
<li>
<p>Estimate the weigh of each generated objects (2/2) âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1791">vmmapÂ --summary</a></p>
</li>
<li>
<p>Filter the memory allocation of a specific object âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1914">vmmapÂ |Â grep</a></p>
</li>
<li>
<p>Break down the contiguous regions of a big memory assignment âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=1991">vmmapÂ --verbose</a></p>
</li>
<li>
<p>Reach the detailed information about a memory address âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2083">leaksÂ --traceTree</a></p>
</li>
<li>
<p>Filter the detailed information about a memory address âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2166">Xcode</a></p>
</li>
<li>
<p>Highlight a problematic VM region from a memory address (1/2) âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2295">malloc-historyÂ --fullStacks</a></p>
</li>
<li>
<p>Highlight a problematic VM region from a memory address (2/2) âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2371">Xcode</a></p>
</li>
<li>
<p>Point out some problems using the memory report in the debug navigator âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2443">Xcode</a></p>
</li>
<li>
<p>Display the image memory size in the debugger âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2556">Xcode</a></p>
</li>
<li>
<p>Best code practice for scaling and rendering an image âŸ¹ <a href="https://developer.apple.com/videos/play/wwdc2018/416/?time=2725">Xcode</a></p>
</li>
</ul>
</br>
<p><img src="../../../../../images/iOSdev/wwdc18-416-Demo.png" alt="" class="img-fluid"><br>
</br></br></br></p>

          </div>
        </main>
        
          <div class="col-md-3">
            <div class="StickySideNavigation">
              <nav id="toc" class="bg-200 p-3 d-none d-md-block" role="navigation" aria-labelledby="toc-title">
      <h2 id="toc-title">On this page</h2>
      <ul class="nav flex-column"><li class="nav-item position-relative">
            <a href="#memory-footprint" class="nav-link text-muted">MemoryÂ footprint</a></li><li class="nav-item position-relative">
            <a href="#tools-for-profiling-footprint" class="nav-link text-muted">ToolsÂ forÂ profilingÂ footprint</a>
            <ul><li class="nav-item position-relative">
            <a href="#instruments" class="nav-link text-muted">Instruments</a></li><li class="nav-item position-relative">
            <a href="#xcode" class="nav-link text-muted">Xcode</a></li><li class="nav-item position-relative">
            <a href="#command-line" class="nav-link text-muted">Command-line</a></li><li class="nav-item position-relative">
            <a href="#choice" class="nav-link text-muted">Choice</a></li></ul></li><li class="nav-item position-relative">
            <a href="#images" class="nav-link text-muted">Images</a></li><li class="nav-item position-relative">
            <a href="#background-optimization" class="nav-link text-muted">BackgroundÂ optimization</a></li><li class="nav-item position-relative">
            <a href="#demo" class="nav-link text-muted">Demo</a></li>
      </ul>
    </nav>
            </div>
          </div>
        
      </div>
    </div>
    

<footer id="footer" class="o-footer" role="contentinfo">
  <div class="container-lg">
    <nav class="py-2" role="navigation">
      <ul class="nav align-items-center flex-column flex-sm-row"><li class="nav-item">
            <a href="/en/contact/" class="nav-link">
  Contact
</a>
          </li><li class="nav-item">
            <a href="/en/about/" class="nav-link">
  About
</a>
          </li><li class="nav-item">
            <a href="/feed-en.xml" class="nav-link">
  RSS feed
</a>
          </li><li class="nav-item">
            <a href="/en/accessibility/" class="nav-link">
  Accessibility: partially compliant
</a>
          </li><li class="nav-item">
            <a href="https://a11y-guidelines-orange.netlify.app/en/" class="nav-link">
  Pre-release on Netlify
</a>
          </li><li class="nav-item">
          <a href="https://www.netlify.com" class="nav-link" title="Deploys by Netlify">
            <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" width="89" height="40">
          </a>
        </li>
        <li class="nav-item ms-sm-auto">
          <a href="https://github.com/Orange-OpenSource/a11y-guidelines/issues/new?title=File%20path%20:%20'./src/en/mobile/ios/wwdc/nota11y/2018/18416.md'" class="nav-link" rel="noopener noreferrer" target="_blank" title="Report an error on GitHub (new window)">
            Report an error on GitHub<span class="visually-hidden">&nbsp;(new window)</span><svg width="16" height="16" class="ms-1" viewBox="0 0 1000 1000" aria-hidden="true" focusable="false"><path class="cls-1" d="M374.908,308.958L600,309V109L921.719,430.9a74.988,74.988,0,0,1,0,106.044L600,859V659H325A150.027,150.027,0,0,0,175,809v81C98.941,830.528,50,737.929,50,633.891,50,454.436,195.466,308.958,374.908,308.958Z"/></svg>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</footer>

    <nav role="navigation" class="back-to-top" aria-label="Back to top">
      <a href="#top" class="back-to-top-link btn btn-icon btn-outline-secondary" title="Back to top">
        <span class="visually-hidden">Back to top</span>
      </a>
    </nav>
    <script src="/assets/vendors/tarteaucitronjs/tarteaucitron.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    
    
      <script src="https://cdn.jsdelivr.net/npm/boosted@5.3.8/dist/js/boosted.bundle.min.js" integrity="sha384-lSjE7ZAWc1Wiua5r2jyHbPL07FiKkHPWCXugD3qTq4o4M4YZQzLTrDF1CXrjxU/m" crossorigin="anonymous"></script>
    
    
      <script src="/assets/vendors/highlightjs/highlight.js"></script>
    
    <script>
      const Application = {
        lang: "en",
        vendors: {
          highlightJS: true,
          highlightTitle: false
        }
      }
    </script>
    <script src="/assets/script.js"></script><script>
      var tarteaucitronForceLanguage = "en"
      tarteaucitron.init({"privacyUrl":"","hashtag":"#cookie-consent","cookieName":"cookie-consent","orientation":"bottom","showAlertSmall":false,"cookieslist":true,"adblocker":false,"showIcon":false,"AcceptAllCta":true,"highPrivacy":true,"handleBrowserDNTRequest":false,"removeCredit":false,"moreInfoLink":true,"useExternalCss":true,"readmoreLink":"/cookiespolicy","mandatory":false});var dataLayer = [{
          'site_name': 'accessibility-guidelines',
          'phase': 'prod'
        }];
        tarteaucitron.user.googletagmanagerId = "GTM-N3M5VXS";
        (tarteaucitron.job = tarteaucitron.job || []).push('googletagmanager');docsearch({"appId":"QML88ZHQMQ","apiKey":"92e5543d97d72ef6a3ba61b241a75b19","indexName":"a11y-guidelines-orange","container":"#search-input","searchParameters":{"facetFilters":["language:en"],"attributesToHighlight":["title","content"]},"placeholder":"Search in entire website","translations":{"button":{"buttonText":"Search in entire website","buttonAriaLabel":"Search in entire website"},"modal":{"searchBox":{"resetButtonTitle":"Clear the query","resetButtonAriaLabel":"Clear the query","cancelButtonText":"Cancel","cancelButtonAriaLabel":"Cancel"},"startScreen":{"recentSearchesTitle":"Recent","noRecentSearchesText":"No recent searches","saveRecentSearchButtonTitle":"Save this search","removeRecentSearchButtonTitle":"Remove this search from history","favoriteSearchesTitle":"Favorite","removeFavoriteSearchButtonTitle":"Remove this search from favorites"},"errorScreen":{"titleText":"Unable to fetch results","helpText":"You might want to check your network connection."},"footer":{"selectText":"to select","selectKeyAriaLabel":"Enter key","navigateText":"to navigate","navigateUpKeyAriaLabel":"Arrow up","navigateDownKeyAriaLabel":"Arrow down","closeText":"to close","closeKeyAriaLabel":"Escape key","searchByText":"Search by"},"noResultsScreen":{"noResultsText":"No results for","suggestedQueryText":"Try searching for","reportMissingResultsText":"Believe this query should return results?","reportMissingResultsLinkText":"Let us know."}}},"debug":false});
    </script>
    <div hidden>Anchor link</div>
    <!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples. Copyright (C) 2016 - 2026 Orange SA. See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENCE file). -->

  </body>
</html>
