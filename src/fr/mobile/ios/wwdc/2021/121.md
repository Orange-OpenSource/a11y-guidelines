---
title: "WWDC 2021 : Optimiser VoiceOver dans un contexte riche en donn√©es"
displayToc: true
---

# WWDC 2021 : Optimiser VoiceOver dans un contexte riche en donn√©es

Cette pr√©sentation visualisable sur le **site d√©veloppeur officiel d'<span lang="en">Apple</span>** ([session 121](https://developer.apple.com/videos/play/wwdc2021/10121/)) explique comment **pr√©senter un ensemble complexe de donn√©es** avec <span lang="en">VoiceOver</span> en utilisant la fonctionnalit√© **fournisseur de contenu personnalis√©** disponible depuis iOS&nbsp;14.

![](../../../../images/iOSdev/wwdc21-121.png)
<br><br>Les th√®mes abord√©s ainsi que leur r√©f√©rence temporelle au sein de la vid√©o sont d√©crits ci-dessous&nbsp;:

- [Introduction](#introduction-0020) (00:20)

- [Fonctionnement](#fonctionnement-0229) (02:29)

- [Programmation avec UIKit](#programmation-avec-uikit-0457) (04:57)

- [Programmation avec SwiftUI](#programmation-avec-swiftui-0743) (07:43) ‚üπ **nouveaut√© iOS&nbsp;15**

<br><br>
## [Introduction (00:20)](https://developer.apple.com/videos/play/wwdc2021/10121/?time=20)
L'utilisation de <span lang="en">VoiceOver</span> pour pr√©senter un ensemble de donn√©es peut devenir rapidement tr√®s probl√©matique si on veut absolument vocaliser chacun des √©l√©ments affich√©s sans que cela ne soit r√©ellement le souhait de l'utilisateur.
![](../../../../images/iOSdev/wwdc21-121-Intro1.png)
Pour bien comprendre le **fournisseur de contenu personnalis√©**, une application [initialement sans cette fonctionnalit√©](https://developer.apple.com/videos/play/wwdc2021/10121/?time=37) est expos√©e pour mettre en avant les manquements √† combler et optimiser ainsi son utilisation future.

Pour impl√©menter cette fonctionnalit√©, il est imp√©ratif d'importer le <span lang="en">framework&nbsp;`Accessibility`</span> (disponible depuis iOS&nbsp;14) qui va permettre d'utiliser le protocole **[AXCustomContentProvider](https://developer.apple.com/documentation/accessibility/axcustomcontentprovider)** ainsi que la classe **[AXCustomContent](https://developer.apple.com/documentation/accessibility/axcustomcontent)**.
<a href="https://developer.apple.com/videos/play/wwdc2021/10121/?time=110">
    
![Acc√®s √† l'extrait de la vid√©o mentionnant le protocole et la classe utilis√©es.](../../../../images/iOSdev/wwdc21-121-Intro2.png)
<br><br>
## [Fonctionnement (02:29)](https://developer.apple.com/videos/play/wwdc2021/10121/?time=149)
L'impl√©mentation du **fournisseur de contenu personnalis√©** est imm√©diatement mise en √©vidence par une [`vocalisation sp√©cifique`](https://developer.apple.com/videos/play/wwdc2021/10121/?time=155) r√©alis√©e automatiquement par <span lang="en">VoiceOver</span> qui, par ce biais, sugg√®re l'utilisation du rotor pour obtenir de plus amples informations si besoin.

![](../../../../images/iOSdev/wwdc21-121-Using1.png)
L'utilisateur est ainsi averti que des informations compl√©mentaires sont disponibles en s√©lectionnant l'item du rotor intitul√© `Plus de contenus`.
Il suffit ensuite de faire glisser un doigt verticalement pour faire d√©filer successivement chacune des informations propos√©es&nbsp;‚üπ&nbsp;[üé¨](https://developer.apple.com/videos/play/wwdc2021/10121/?time=192)

![](../../../../images/iOSdev/wwdc21-121-Using2.png)

La fonctionnalit√© **fournisseur de contenu personnalis√©** doit √™tre activ√©e par l'utilisateur dans ses r√©glages pour √™tre d√©tect√©e par le lecteur d'√©cran&nbsp;‚üπ&nbsp;[üé¨](https://developer.apple.com/videos/play/wwdc2021/10121/?time=264)

![](../../../../images/iOSdev/wwdc21-121-Using3.png)
<br><br>
## [Programmation avec UIKit (04:57)](https://developer.apple.com/videos/play/wwdc2021/10121/?time=297)
Pour impl√©menter le **fournisseur de contenu personnalis√©** √† l'exemple propos√©, quelques √©tapes indispensables sont n√©cessaires&nbsp;:

- importer le <span lang="en">framework&nbsp;`Accessibility`</span>,

- sp√©cifier l'adaptation au protocole `AXCustomContentProvider` pour le type d'√©l√©ment auquel la fonctionnalit√© va √™tre rattach√©e,

- d√©finir la propri√©t√© `accessibilityCustomContent` li√©e √† ce protocole en sp√©cifiant chacune des informations que le fournisseur de contenu personnalis√© sera susceptible de mentionner,

- regrouper l'ensemble de ces informations dans un tableau qui sera retourn√© par la propri√©t√© pr√©c√©dente.

![](../../../../images/iOSdev/wwdc21-121-UIKit1.png)

Le [r√©sultat](https://developer.apple.com/videos/play/wwdc2021/10121/?time=388) est tr√®s satisfaisant mais il peut-√™tre encore optimis√© si, lors de la s√©lection de l'√©l√©ment impact√©, on souhaite tout de m√™me mettre en avant une des informations cr√©√©es pr√©c√©demment&nbsp;‚üπ&nbsp;[üé¨](https://developer.apple.com/videos/play/wwdc2021/10121/?time=410)

![](../../../../images/iOSdev/wwdc21-121-UIKit2.png)

La <a href="../../../developpement/#fournisseur-de-contenu-personnalise" style="text-decoration: underline;">section&nbsp;d√©veloppement&nbsp;iOS</a> de ce site propose un √©ventuel compl√©ment d'informations avec une description r√©alis√©e l'an dernier √† l'issue de la WWDC20.

<br><br>
## [Programmation avec SwiftUI (07:43)](https://developer.apple.com/videos/play/wwdc2021/10121/?time=463)
La **nouveaut√© iOS&nbsp;15** de cette fonctionnalit√© introduite dans la version iOS pr√©c√©dente r√©side dans son **adaptation √† SwiftUI**.
![](../../../../images/iOSdev/wwdc21-121-SwiftUI1.png)

L'ensemble des informations √† d√©finir est beaucoup plus condens√©e qu'avec UIKit.
![](../../../../images/iOSdev/wwdc21-121-SwiftUI2.png)
<br><br><br>
