<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Recommandations accessibilité numérique Orange</title>
        
      
       <!-- Copyright © 2014 Monotype Imaging Inc. All rights reserved -->
      <link rel="stylesheet" href="/boosted/css/orangeHelvetica.css">
      <!-- Copyright © 2016 Orange SA. All rights reserved -->
      <link rel="stylesheet" href="/boosted/css/orangeIcons.css">
      <link rel="stylesheet" href="/boosted/css/boosted.css">

      <!-- Style pour la mise en forme des exemples de code -->
      <link rel="stylesheet" href="/css/dark.min.css">

      <!-- Styles perso -->
      <link rel="stylesheet" href="/css/reco.css">
      <link rel="stylesheet" href="./css/reco-custom.css">

      <script src="/js/jquery.min.js"></script>
      <script src="/js/jquery.validate.min.js"></script>
      <script src="./js/lunr.min.js"></script>
      <script src="./js/lunr.stemmer.support.js"></script>
      <script src="./js/lunr.fr.min.js"></script>      
      
      <!-- Favicons -->
      <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
      <link rel="icon" href="/images/favicon.ico">            
</head>
<body>
    <div class="skip-links sr-only">
        <a id="skip-nav" href="#sidebar">Aller à la navigation</a>
        <a id="skip-content" href="#content">Aller au contenu</a>
    </div>
    <header role="banner">
      <nav class="navbar navbar-dark navbar-fixed-top">
          <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
              <span class="sr-only">Menu de navigation</span>
              <span class="icon-menu"></span>
          </button>
          
              <a href="index.html" class="navbar-brand"><img src="/images/master_logo_rwd.svg" alt="Retour à l’accueil" title="Retour à l’accueil"/></a>
              <ul class="nav navbar-nav collapse navbar-toggleable-xs pull-xs-left" id="collapsingNavbar">
                  <li class="nav-item"><a class="nav-link" href="../index.html">Accueil</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../web/index.html">Web</a>
                  </li>
                  <li class="nav-item active mobile">
                    <a href="../mobile/index.html" 
                       class="nav-link">Mobile
                      </a>
                    <ul id="navigation" class="nav navbar-nav">
                        <li><a class="page-index" 
                               href="index.html">Présentation
                            </a>
                        </li>
                        <li><a class="page-criteria-android" 
                               href="criteria-android.html" 
                               aria-haspopup="true" 
                               aria-expanded="false">Android
                            </a>
                        </li>  
                        <li><a class="page-criteria-ios" 
                               href="criteria-ios.html" 
                               aria-haspopup="true" 
                               aria-expanded="false">iOS
                            </a>
                        </li>
                        <li><a class="page-mdan" 
                               href="mdan.html">Démonstrateur mDAN
                            </a>
                        </li>
                        <li><a class="page-links" 
                               href="links.html">Liens utiles
                            </a>
                        </li>
                        <li><a class="page-contact" 
                               href="contact.html">Contact
                            </a>
                        </li>
                        <li><a class="page-about" 
                               href="about.html">À propos
                            </a>
                        </li>                        
                    </ul>                                        
                  </li>   
                  <li class="nav-item"><a href="../others/index.html" class="nav-link">Contenu éditorial</a></li>
                  <li class="nav-item language hidden-sm-up">
                    <a href="#" class="nav-link active" aria-disabled="true" aria-label="version française">fr</a><a lang="en" aria-label="english version" href="../mobile_EN/index.html" class="nav-link">en</a>
                  </li>
              </ul> 
              <ul class="nav navbar-nav pull-xs-right" id="secondNavBar">        
                <li class="nav-item hidden-xs-down">
                  <span id="cdu">
                    <a href="http://confort-plus.orange.com/" target="_blank" 
                      title="Découvrir Confort + : extension navigateur permettant d’adapter le confort de lecture lors de la consultation d’un site web." 
                      aria-label="Découvrir Confort + : extension navigateur permettant d’adapter le confort de lecture lors de la consultation d’un site web (nouvelle fenêtre)">
                      Découvrir Confort
                      <span>+</span>
                    </a>
                  </span>
                </li>
                <li class="nav-item language hidden-xs-down">
                  <a href="#" class="nav-link active" aria-disabled="true" aria-label="version française">fr</a><a lang="en" aria-label="english version" href="../mobile_EN/index.html" class="nav-link">en</a> 
                </li>
                <li class="nav-item">
                    <a href="#searchbar" class="nav-link icon" id="searchIcon" data-toggle="collapse" aria-expanded="false" aria-controls="searchbar">
                        <span class="sr-only">Afficher la barre de recherche</span>
                        <span class="icon-search" aria-hidden="true"></span>
                    </a>                    
                </li>                
            </ul>             
          
          <form action="./search.html" class="navbar-form navbar-right collapse" role="search" id="searchbar">
            <label for="search">Rechercher</label>
            <input placeholder="Saisissez votre recherche" type="text" id="search" name="q">
            <button type="submit" class="btn btn-secondary icon">
              <span class="sr-only">Rechercher</span>
              <span class="icon-search" aria-hidden="true"></span>
            </button>
          </form>
      </nav>      
    </header>
    
    <nav>
      <span class="sr-only">Vous êtes ici&nbsp;: </span>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/mobile/index.html">Application mobile</a></li>
      </ol>
    </nav>
    
    <main role="main" class="container-fluid">
      <div class="row row-offcanvas row-offcanvas-left">       
        <div role="navigation" id="sidebar" class="col-xs-6 col-sm-3 sidebar-offcanvas">
        </div>
        <div class="col-xs-12 col-sm-9" id="content">          
          <h1 id="wwdc-2017-application-du-dynamic-type">WWDC 2017 : Application du Dynamic Type</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"iOS", "url": "./criteria-ios.html"},
                   {"label":"WWDC", "url": "./criteria-ios-wwdc.html"},
                   {"label":"2017 - Application du Dynamic Type"}
    ]);
    addSubMenu([
        {"label":"Critères de conception","url":"criteria-ios-conception.html"}, 
        {"label":"Guide pour les développeurs","url":"criteria-ios-dev.html"},
        {"label":"VoiceOver","url":"lecteur-ecran-voiceover.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"},
        {"label":"Tests","url":"criteria-ios-test.html"}
    ]);
});</script>

<p><span data-menuitem="criteria-ios"></span></p>
<p>Cette présentation visualisable sur le <strong>site développeur officiel d&#39;Apple</strong> (<a href="https://developer.apple.com/videos/play/wwdc2017/245/">session 245</a>) a pour but d&#39;expliquer ce qu&#39;est le <span lang="en">Dynamic Type</span> et comment le mettre en oeuvre par le biais de bonnes pratiques.
</br><img style="max-width: 200px; height: auto;" alt="" src="./images/iOSdev/wwdc17-logo.png" />
<img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245.png" />
</br></br>Les thèmes abordés ainsi que leur référence temporelle au sein de la vidéo sont décrits ci-dessous :</p>
<ul>
<li><a href="#TextStyles">Styles de texte</a> (06:06) ⟹ <strong>amélioration iOS 11</strong></li>
<li><a href="#CustomFonts">Police personnalisée</a> (08:17) ⟹ <strong>nouveauté iOS 11</strong></li>
<li><a href="#WebViews">Utilisation de pages web</a> (09:25)</li>
<li><a href="#WrapToMultipleLines">Affichage sur plusieurs lignes</a> (10:14)</li>
<li><a href="#AutoLayoutSystemSpacingConstraints">ConstraintEqualToSystemSpacingBelow</a> (11:31)</li>
<li><a href="#ScaledValue">ScaledValue</a> (12:56) ⟹ <strong>nouveauté iOS 11</strong></li>
<li><a href="#SideBySideText">Grossissement d&#39;éléments voisins</a> (13:36)</li>
<li><a href="#PreferredContentSizeCategory">PreferredContentSizeCategory</a> (15:23)</li>
<li><a href="#TableViewCells">Table view cells</a> (16:38)</li>
<li><a href="#Images">Images</a> (20:13)</li>
<li><a href="#Demo">Exemple</a> (24:32)</li>
</ul>
<p>Par la suite, le fait de cliquer sur un titre permet d&#39;ouvrir la vidéo de présentation <span lang="en">Apple</span> directement au moment indiqué.</p>
<p><a name="TextStyles"></a></p>
<h3 id="-styles-de-texte-06-06-https-developer-apple-com-videos-play-wwdc2017-245-time-366-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=366">Styles de texte (06:06)</a></h3>
<p>Avec iOS 11, <strong>tous les styles de texte s&#39;adaptent aux 5 tailles de texte disponibles en accessibilité</strong> ce qui n&#39;était le cas que pour le style <em>body</em> auparavant.
</br>Dans l&#39;<span lang="en">Interface Builder</span> de Xcode, il suffit d&#39;indiquer le style souhaité dans la partie <span lang="en">Attribute Inspector</span> et de cocher la case <span lang="en">Dynamic Type</span> qui permettra d&#39;adapter automatiquement la taille selon les réglages.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TextStyle_1.png" />
</br>Au niveau code, on obtient exactement le même résulat de la façon suivante :
</br><img style="max-width: 500px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TextStyle_2.png" /></p>
<p><a name="CustomFonts"></a></p>
<h3 id="-police-personnalis-e-08-17-https-developer-apple-com-videos-play-wwdc2017-245-time-497-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=497">Police personnalisée (08:17)</a></h3>
<p>L&#39;introduction de la classe <code>UIFontMetrics</code> en iOS 11 permet à une police personnalisée de respecter le comportement du grossissement de caractères.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-CustomFonts.png" /></p>
<p><a name="WebViews"></a></p>
<h3 id="-utilisation-de-pages-web-09-25-https-developer-apple-com-videos-play-wwdc2017-245-time-565-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=565">Utilisation de pages web (09:25)</a></h3>
<p>Afin d&#39;assurer une compatibilité entre le comportement attendu sur un <strong>terminal iOS</strong> utilisant le <span lang="en">Dynamic Type</span> et l&#39;<strong>affichage de pages web</strong> sur ce même type de terminal, il est possible d&#39;indiquer le style de texte souhaité au niveau CSS :
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-WebViews.png" /></p>
<p><a name="WrapToMultipleLines"></a></p>
<h3 id="-affichage-sur-plusieurs-lignes-10-14-https-developer-apple-com-videos-play-wwdc2017-245-time-614-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=614">Affichage sur plusieurs lignes (10:14)</a></h3>
<p>Afin d&#39;éviter la troncature d&#39;un texte trop long dans un <code>label</code> après grossissement, il est conseillé de mettre la valeur <code>0</code> dans le nombre de lignes à afficher, ce qui aura pour signification d&#39;afficher l&#39;ensemble des lignes.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-WrapToMultipleLines.png" /></p>
<p><a name="AutoLayoutSystemSpacingConstraints"></a></p>
<h3 id="-constraintequaltosystemspacingbelow-11-31-https-developer-apple-com-videos-play-wwdc2017-245-time-691-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=691">ConstraintEqualToSystemSpacingBelow (11:31)</a></h3>
<p>Dans la mise en place de contraintes graphiques entre deux éléments de type <code>label</code> s&#39;appuyant sur leur &#39;baseline&#39;, il est préférable de ne pas mettre de valeur fixe pour ne pas rencontrer la situation ci-dessous lors de grossissement de caractères :
</br><img style="max-width: 450px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-AutoLayoutsystemSpacingConstraints_1.png" />
</br>Une constante égale à &#39;Standard Value&#39; dans l&#39;<span lang="en">Interface Builder</span> de Xcode ou une définition programmatique de la contrainte utilisant <code>constraintEqualToSystemSpacingBelow</code> (nouveauté iOS 11) permet de résoudre ce problème.
</br><img style="max-width: 650px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-AutoLayoutsystemSpacingConstraints_2.png" /></p>
<p><a name="ScaledValue"></a></p>
<h3 id="-scaledvalue-12-56-https-developer-apple-com-videos-play-wwdc2017-245-time-776-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=776">ScaledValue (12:56)</a></h3>
<p>Introduite en iOS 11, la méthode <strong>scaledValue</strong> permet de déterminer la hauteur d&#39;un élement graphique contenant du texte selon le grossissement implémenté.
</br><img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-ScaledValue.png" />
</br>À utiliser par exemple pour un bouton contenant du texte dont la taille est liée au <span lang="en">Dynamic Type</span> et dont on souhaite connaître la hauteur.</p>
<p><a name="SideBySideText"></a></p>
<h3 id="-grossissement-d-l-ments-voisins-13-36-https-developer-apple-com-videos-play-wwdc2017-245-time-816-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=816">Grossissement d&#39;éléments voisins (13:36)</a></h3>
<p>Arrivé à un certain seuil de grossissement, des éléments verticalement voisins peuvent finir par devenir illisibles et même transformer une interface graphique initialement ergonomique en une juxtaposition grossière d&#39;objets.
</br>Dans ce cas, il est recommandé de passer à un alignement horizontal lorsque le grossisement problématique est atteint.
</br><img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-SideBySideText.png" /></p>
<p><a name="PreferredContentSizeCategory"></a></p>
<h3 id="-preferredcontentsizecategory-15-23-https-developer-apple-com-videos-play-wwdc2017-245-time-923-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=923">PreferredContentSizeCategory (15:23)</a></h3>
<p>Il existe <strong>2 familles</strong> bien distinctes qui contiennent les paliers de grossissement souhaités :</p>
<ul>
<li>La première comprend les <strong>7 seuils</strong> de base allant de <code>extraSmall</code> à <code>extraExtraExtraLarge</code>.</li>
<li>La seconde est <strong>spécifique à l&#39;accessibilité</strong> et doit être activée pour être prise en compte : elle comprend <strong>5 seuils</strong> qui vont de <code>accessibilityMedium</code> à <code>accessibilityExtraExtraExtraLarge</code>.</li>
</ul>
<p>Ces différents seuils sont accessibles depuis le <code>traitCollection</code> de la vue ou bien directement depuis l&#39;application par le biais de la méthode <strong>preferredContentSizeCategory</strong>.
</br><img style="max-width: 900px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-PreferredContentSizeCategory_1.png" />
</br>Il est possible de mettre en place des conditions pour savoir si un seuil de grossissement a été atteint de façon à faire un réarrangement graphique des éléments quand cela est nécessaire.
</br><img style="max-width: 650px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-PreferredContentSizeCategory_2.png" /></p>
<p><a name="TableViewCells"></a></p>
<h3 id="-table-view-cells-16-38-https-developer-apple-com-videos-play-wwdc2017-245-time-998-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=998">Table view cells (16:38)</a></h3>
<p>L&#39;utilisation de <span lang="en">table view cells</span> standards va permettre d&#39;adapter automatiquement la disposition d&#39;une cellule en fonction du <span lang="en">Dynamic Type</span> grâce au <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1058">cell-sizing</a>.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TableViews_1.png" />
</br>Dans le cadre de cellules personnalisées, il faut mettre en place les contraintes pour définir le rendu souhaité et laisser le <span lang="en">cell-sizing</span> opérer.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TableViews_2.png" /></p>
<p><a name="Images"></a></p>
<h3 id="-images-20-13-https-developer-apple-com-videos-play-wwdc2017-245-time-1213-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1213">Images (20:13)</a></h3>
<p>Le <span lang="en">Dynamic Type</span> permet aussi le grossissement des images à la fois sur les vues et les barres de tabulation.
</br>Les explications détaillées de ce point se trouvent dans la partie <a href="./criteria-ios-dev.html#taille-des-l-ments-graphiques">développement</a>.</p>
<p><a name="Demo"></a></p>
<h3 id="-exemple-24-32-https-developer-apple-com-videos-play-wwdc2017-245-time-1472-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1472">Exemple (24:32)</a></h3>
<p>Une application d&#39;exemple est proposée pour répondre aux questions que se posent les développeurs face aux éventuels problèmes rencontrés dans l&#39;implémentation du <span lang="en">Dynamic Type</span> (regarder l&#39;<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1506">introduction</a> avant de lire la suite) :</p>
<ul>
<li><strong>Pourquoi mon implémentation du <span lang="en">Dynamic Type</span> ne fonctionne-t-elle pas</strong> ?
<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1579">(26:19)</a> (aide = <span lang="en"><code>adjustsFontForContentSizeCategory</code></span> (code) ou <span lang="en"><code>Automatically Adjusts Font</code></span> (<span lang="en">Attribute Inspector</span>) + <span lang="en"><code>scaledFont</code></span> si police personnalisée)</li>
<li><strong>Comment modifier le positionnement des éléments pour adapter la lisibilité à la largeur maximale de texte</strong> ?
<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1681">(28:01)</a> (aide = mettre en place les contraintes à activer pour un positionnement vertical des éléments impactés + déterminer le moment auquel activer ces nouvelles contraintes avec <span lang="en"><code>preferredContentSizeCategory</code></span> + <span lang="en"><code>traitCollectionDidChange</code></span> pour être notifié d&#39;un changement de taille de texte)</li>
<li><strong>Comment adapter la taille de mes <span lang="en"><code>table view cells</code></span> à leur contenu</strong> ?
<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1863">(31:03)</a> (aide = <span lang="en"><code>UITableViewAutomaticDimension</code></span> + <span lang="en"><code>estimatedRowHeight</code></span>)</li>
<li><strong>Pourquoi la taille de mes images ne suit pas le grossissement de texte</strong> ? <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1931">(32:11)</a> (aide = <span lang="en"><code>adjustsImageSizeForAccessibilityContentSizeCategory</code></span>)</li>
<li><strong>Comment mettre une définition visuelle parfaite aux images après grossissement</strong> ? <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1987">(33:07)</a> (aide = <span lang="en"><code>Preserve Vector Data</code></span> dans l&#39;<span lang="en">Attribute Inspector</span> du .xcassets)</li>
<li><strong>Comment utiliser l&#39;instrument <span lang="en">Accessibility Inspector</span> pour vérifer le grossissement de texte</strong> ? <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=2096">(34:56)</a></li>
</ul>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
          
        </div>
      </div>
    </main>

    <a aria-hidden="true" id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Retour en haut de page" data-toggle="tooltip" data-placement="left"></a>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
    <script src="/boosted/js/boosted.min.js"></script>
    <script type="text/javascript" src="/js/reco.js"></script>
    <script type="text/javascript" src="/js/highlight.min.js"></script>
</body>
</html>
