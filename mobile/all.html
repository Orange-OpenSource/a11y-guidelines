<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Recommandations accessibilité Orange</title>
        
      
       <!-- Copyright © 2014 Monotype Imaging Inc. All rights reserved -->
      <link rel="stylesheet" href="../boosted/css/orangeHelvetica.css">
      <!-- Copyright © 2016 Orange SA. All rights reserved -->
      <link rel="stylesheet" href="../boosted/css/orangeIcons.css">
      <link rel="stylesheet" href="../boosted/css/boosted.css">

      <!-- Style pour la mise en forme des exemples de code -->
      <link rel="stylesheet" href="/css/dark.min.css">

      <!-- Styles perso -->
      <link rel="stylesheet" href="../css/reco.css">
      <link rel="stylesheet" href="./css/reco-custom.css">

      <script src="./js/jquery.min.js"></script>
      <script src="./js/jquery.validate.min.js"></script>
      <script src="./js/lunr.min.js"></script>
      <script src="./js/lunr.stemmer.support.js"></script>
      <script src="./js/lunr.fr.min.js"></script>      
      
      <!-- Favicons -->
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="icon" href="/images/favicon.ico">            
</head>
<body>
    <div class="skip-links sr-only">
        <a id="skip-nav" href="#sidebar">Aller à la navigation</a>
        <a id="skip-content" href="#content">Aller au contenu</a>
    </div>
    <header role="banner">
      <nav class="navbar navbar-dark navbar-fixed-top">
          <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
              <span class="sr-only">Menu de navigation</span>
              <span class="icon-menu"></span>
          </button>
          
              <a href="index.html" class="navbar-brand"><img src="../boosted/img/ORANGE_LOGO_rgb.jpg" alt="Retour à l’accueil" title="Retour à l’accueil"/></a>
              <ul class="nav navbar-nav collapse navbar-toggleable-xs pull-xs-left" id="collapsingNavbar">
                  <li class="nav-item"><a class="nav-link" href="../index.html">Accueil</a></li>                                    
                  <li class="nav-item">
                    <a class="nav-link" href="../web/index.html">Site Web</a>
                  </li>
                  <li class="nav-item active mobile">
                    <a href="../mobile/index.html" class="nav-link">Application mobile</a>
                    <ul id="navigation" class="nav navbar-nav">
                        <li><a class="page-index" href="index.html">Présentation</a></li>
                        <li><a class="page-criteria-android" href="criteria-android.html" aria-haspopup="true" aria-expanded="false">Critères incontournables Android</a></li>
                        <li><a class="page-criteria-ios" href="criteria-ios.html" aria-haspopup="true" aria-expanded="false">Critères incontournables iOS</a></li>            
                        <li><a class="page-mdan" href="mdan.html">Démonstrateur d’accessibilité sur mobile mDAN</a></li>                                                                  
                        <li><a class="page-screen-reader" href="screen-reader.html">Lecteur d’écran</a></li>
                        <li><a class="page-links" href="links.html">Liens utiles</a></li>
                        <li><a class="page-contact" href="contact.html">Contact</a></li>
                        <li><a class="page-about" href="about.html">À propos</a></li>                        
                    </ul>                                        
                  </li>   
                  <li class="nav-item"><a href="../others/index.html" class="nav-link">Contenu éditorial</a></li>
                  <li class="nav-item language hidden-sm-up">
                    <a href="#" class="nav-link active" aria-disabled="true" aria-label="version française">fr</a><a lang="en" aria-label="english version" href="../mobile_EN/index.html" class="nav-link">en</a>
                  </li>
              </ul> 
              <ul class="nav navbar-nav pull-xs-right" id="secondNavBar">        
                <li class="nav-item hidden-xs-down">
                  <span id="cdu">
                    <a href="http://confort-plus.orange.com/" target="_blank" 
                      title="Découvrir Confort + : extension navigateur permettant d’adapter le confort de lecture lors de la consultation d’un site web." 
                      aria-label="Découvrir Confort + : extension navigateur permettant d’adapter le confort de lecture lors de la consultation d’un site web (nouvelle fenêtre)">
                      Découvrir Confort
                      <span>+</span>
                    </a>
                  </span>
                </li>
                <li class="nav-item language hidden-xs-down">
                  <a href="#" class="nav-link active" aria-disabled="true" aria-label="version française">fr</a><a lang="en" aria-label="english version" href="../mobile_EN/index.html" class="nav-link">en</a> 
                </li>
                <li class="nav-item">
                    <a href="#searchbar" class="nav-link icon" id="searchIcon" data-toggle="collapse" aria-expanded="false" aria-controls="searchbar">
                        <span class="sr-only">Afficher la barre de recherche</span>
                        <span class="icon-search" aria-hidden="true"></span>
                    </a>                    
                </li>                
            </ul>             
          
          <form action="./search.html" class="navbar-form navbar-right collapse" role="search" id="searchbar">
            <label for="search">Rechercher</label>
            <input placeholder="Saisissez votre recherche" type="text" id="search" name="q">
            <button type="submit" class="btn btn-secondary icon">
              <span class="sr-only">Rechercher</span>
              <span class="icon-search" aria-hidden="true"></span>
            </button>
          </form>
      </nav>      
    </header>
    
    <span class="sr-only">Vous êtes ici&nbsp;: </span>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/mobile/index.html">Application mobile</a></li>
    </ol>

    <main role="main" class="container-fluid">
      <div class="row row-offcanvas row-offcanvas-left">       
        <div role="navigation" id="sidebar" class="col-xs-6 col-sm-3 sidebar-offcanvas">
        </div>
        <div class="col-xs-12 col-sm-9" id="content">          
          <h1 id="votre-avis-compte">Votre avis compte</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Contact"}]);
});</script>

<p>Vous avez une remarque, une suggestion à apporter&nbsp;?</p>
<p>Vérifiez que ceci n’a pas déjà été remonté par quelqu’un d’autre en consultant <a href="https://github.com/Orange-OpenSource/a11y-guidelines/issues">la liste des «&nbsp;<i lang="en">issues</i>&nbsp;»</a> sur notre compte github.<br>Si vous ne trouvez rien concernant votre remarque, <a href="https://github.com/Orange-OpenSource/a11y-guidelines/issues/new">adressez-nous votre commentaire</a> via github.</p>
<p>&nbsp;
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></p>

<h1 id="-propos">À propos</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"À propos"}]);
});</script>

<p>Documentation sous <a href="https://github.com/Orange-OpenSource/a11y-guidelines/blob/master/LICENSE">licence CC BY SA 3.0</a>. Le code source de ce site ainsi que celui des exemples est disponible <a href="https://github.com/Orange-OpenSource/a11y-guidelines">sur notre compte github</a>.  </p>
<p>Le logo Orange ainsi que certaines images et captures sont la propriété d&#39;Orange&nbsp;:  </p>
<p><span lang="en">Copyright (C) 2016 Orange SA All rights reserved</span><br><a href="/NOTICE.txt">Liste des fichiers concernés</a></p>
<p>&nbsp;
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></p>

<h1 id="les-crit-res-incontournables-sous-android-pour-le-d-veloppement">Les critères incontournables sous Android pour le développement</h1>
<script>$(document).ready(function () {

    setBreadcrumb([{"label":"Critères incontournables sous Android", "url": "./criteria-android.html"},
        {"label":"Pour le développement"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-android-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-android-dev.html", "expanded": true}
    ]);
});</script>

<p><span data-menuitem="criteria-android"></span></p>
<p>Ce guide a pour objectif de présenter les différentes options d’accessibilité du SDK Android.  À travers différentes catégories, ce guide explique comment utiliser les attributs et méthodes d’accessibilité et propose des liens vers la documentation officielle de Google. Des exemples de codes sont aussi présents pour illustrer les propos.</p>
<h2 id="alternatives-textuelles">Alternatives textuelles</h2>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Sous Android, la vocalisation d’un élément s’effectue à travers un attribut, à savoir le <code>contentDescription</code>. Cet attribut qui accepte une simple chaîne de caractère en paramètre (et donc internationalisable) redéfinit complètement le texte qui sera lu par le service d’accessibilité et notamment <span lang="en">TalkBack</span>. Cela permet d’avoir un texte de composant plus explicite que celui affiché à l’écran. Par exemple, dans le cas d’un bouton dont le titre est «&nbsp;OK&nbsp;», on pourra indiquer que le bouton sert à valider un choix.  </p>
<p>Le <code>contentDescription</code> doit aussi être utilisé sur les éléments <i lang="en">custom</i> pour indiquer leur nature. Par exemple, un <code>LinearLayout</code> que l’on rendrait cliquable doit avoir un <code>contentDescription</code> de la forme «&nbsp;nom_du_bouton, bouton&nbsp;» (il faut également permettre le focus du bouton pour l’accessibilité, voir la section correspondante).  </p>
<p>À noter que le <code>contentDescription</code> est disponible sous tout élément qui hérite de <code>View</code>. Il est donc possible de positionner un <code>contentDescription</code> sur une <code>TextView</code> par exemple, comme montré dans la section «&nbsp;guide d’accessibilité – alternative textuelle – abréviations, dates et heures&nbsp;».  </p>
<p><strong>Exemples&nbsp;: </strong>   </p>
<p>Exemple simple (internationalisé)&nbsp;:<br><code>myTextView.setContentDescription(getString(R.string.criteria_alt_ex1_cd_txt2));</code></p>
<p>Indiquer l’état et la nature de TabHost (non internationalisé)&nbsp;:  </p>
<pre><code>private class TabHostListener implements TabHost.OnTabChangeListener {
    [...]
    public void onTabChanged(String tabId) {setContentDescription(mTabHost, mTabsLabel);}
}

private void setContentDescription(TabHost mTabHost, String[] mTabsLabel) {
    int tab = mTabHost.getCurrentTab();
    int tabCount = mTabHost.getTabWidget().getTabCount();

    for (int tabNumber = 0; tabNumber < tabCount; tabNumber++) {
        CharSequence contentDescription = mTabsLabel[tabNumber];

        contentDescription = contentDescription + ", onglet " + (tabNumber + 1) + " sur " + tabCount;
        if (tabNumber == tab) {
            contentDescription = contentDescription + ", sélectionné";
        }
        mTabHost.getTabWidget().getChildAt(tabNumber).setContentDescription(contentDescription);
    }
}</code></pre>

<p><strong>Lien&nbsp;: </strong></p>
<ul>
<li><a href="http://developer.android.com/reference/android/view/View.html#attr_android:contentDescription"><code>contentDescription</code></a></li>
</ul>
<h2 id="masquer-des-l-ments-l-accessibilit-">Masquer des éléments à l’accessibilité</h2>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Il est possible via un attribut d’accessibilité de masquer des éléments aux outils d’accessibilité (<span lang="en">TalkBack</span> par exemple). Par extension, il est possible de forcer certains éléments à être visibles aux outils d’accessibilité.<br><code>ImportantForAccessibility</code>&nbsp;: suivant la valeur de l’attribut, cela permet d’indiquer qu’un élément est visible ou non de l’<abbr>API</abbr> d’accessibilité.  </p>
<ul>
<li><code>auto</code> (0)&nbsp;: valeur par défaut, c’est le système qui décide. Par exemple, un <code>Button</code> aura sa valeur par défaut à 1 (<i lang="en">yes</i>) et un <code>LinearLayout</code> à 2 (<i lang="en">no</i>).</li>
<li><code>yes</code> (1)&nbsp;: la vue est importante pour l’accessibilité. Elle peut par exemple recevoir le focus de <span lang="en">TalkBack</span>.</li>
<li><code>no</code>(2)&nbsp;: la vue n’est pas importante pour l’accessibilité. Elle ne déclenche plus d’événement d’accessibilité et est par conséquent ignorée par des services tel que <span lang="en">TalkBack</span>.</li>
<li><code>noHideDescendants</code>  (4)&nbsp;: la vue n’est pas importante pour l’accessibilité, mais également toutes ses vues filles. Cela permet de cacher tous les éléments d’une vue à l’accessibilité en une seule fois. Très utile sur les éléments custom.  </li>
</ul>
<p>À noter&nbsp;: l’attribut «&nbsp;<code>importantForAccessibility</code>&nbsp;» est disponible pour tout élément qui hérite de <code>View</code>.</p>
<p><strong>Exemples&nbsp;: </strong></p>
<p>Depuis le <abbr>xml</abbr>&nbsp;: 
<code>android:importantForAccessibility=&quot;no&quot;</code></p>
<p>Depuis le code&nbsp;:
<code>myView.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS);</code></p>
<p><strong>Lien&nbsp;: </strong>     </p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#setImportantForAccessibility%28int%29"><code>importantForAccessibility</code></a></li>
</ul>
<h2 id="d-clencher-une-vocalisation">Déclencher une vocalisation</h2>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Il est très facile de déclencher des vocalisations avec <span lang="en">TalkBack</span>. Déclencher une vocalisation est très utile dans le cas de contenu dynamique, au même titre que les <code>LiveRegion</code> (voir la section correspondante). Pour déclencher une vocalisation, il suffit de faire appel à la méthode <code>announceForAccessibility</code> en lui passant en paramètre l’<code>id</code> de la chaîne de caractères à vocaliser.  </p>
<p>À noter&nbsp;: la méthode <code>announceForAccessibility</code> est disponible sur tout élément qui hérite de <code>View</code> et se fait dans la langue du système.</p>
<p>Attention: nous parlons ici de vocalisation <span lang="en">TalkBack</span> et non pas de <abbr>TTS</abbr> (Text To Speech) qui peut fonctionner indépendamment du statut de <span lang="en">TalkBack</span>.</p>
<p><strong>Exemple&nbsp;: </strong></p>
<p>Il est fréquent de tester la version d’Android avant de déclencher une vocalisation <span lang="en">TalkBack</span>. En effet, <code>announceForAccessibility</code> ne fonctionne que depuis l’arrivée d’Android <i lang="en">Jelly Bean</i>.</p>
<pre><code>if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
    getView().announceForAccessibility(getString(R.string.criteria_contentchange_ex1_announce));
}</code></pre>

<p><strong>Lien&nbsp;: </strong></p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#announceForAccessibility%28java.lang.CharSequence%29"><code>announceForAccessibility</code></a></li>
</ul>
<h2 id="d-tecter-si-span-lang-en-talkback-span-est-activ-">Détecter si <span lang="en">TalkBack</span> est activé</h2>
<p><strong>Description&nbsp;: </strong> </p>
<p>Sous Android, il est possible de savoir si l’<abbr>API</abbr> d’accessibilité est activée, et par extension de savoir si <span lang="en">TalkBack</span> est activé.</p>
<p><strong>À l’usage&nbsp;: </strong> </p>
<pre><code>AccessibilityManager am = (AccessibilityManager) context.getSystemService(ACCESSIBILITY_SERVICE);  
boolean isAccessibilityEnabled = am.isEnabled();</code></pre>


<h2 id="r-gions-i-lang-en-live-i-contenu-dynamique-">Régions <i lang="en">live</i> (contenu dynamique)</h2>
<p><strong>Description&nbsp;: </strong></p>
<p>Il est possible de spécifier à une vue qu’elle est une région «&nbsp;<i lang="en">live</i>&nbsp;», c’est-à-dire que son contenu est susceptible d’être modifié dynamiquement et qu’elle doit dans ce cas prévenir l’<abbr>API</abbr> d’accessibilité. Cela aura pour conséquence de générer des vocalisations avec <span lang="en">TalkBack</span>. Un exemple type d’utilisation&nbsp;: sur un formulaire, si l’utilisateur fait une erreur et qu’un message d’erreur apparaît, la vue contenant le message doit être définie comme une région «&nbsp;<i lang="en">live</i>&nbsp;».</p>
<p>Il faut passer par la méthode <code>setAccessibilityLiveRegion</code> qui prend en paramètre un mode pour la région <i lang="en">live</i>. Il existe 3 modes&nbsp;:  </p>
<ul>
<li><code>ACCESSIBILITY_LIVE_REGION_NONE</code>&nbsp;: cette vue n’est pas une région «&nbsp;<i lang="en">live</i>&nbsp;». C’est la valeur par défaut de la plupart des vues.</li>
<li><code>ACCESSIBILITY_LIVE_REGION_POLITE</code>&nbsp;: en cas de changement dans la vue, des vocalisations sont effectuées sur les changements. Ces vocalisations sont «&nbsp;polies&nbsp;»&nbsp;: elles sont moins prioritaires que les vocalisations système par exemple.</li>
<li><code>ACCESSIBILITY_LIVE_REGION_ASSERTIVE</code>&nbsp;: en cas de changement dans la vue, des vocalisations seront effectuées sur les changements. Ces vocalisations sont «&nbsp;<i lang="en">rude</i>&nbsp;»&nbsp;: elles sont prioritaires et immédiatement vocalisées.  </li>
</ul>
<p>À noter&nbsp;: la méthode <code>setAccessibilityLiveRegion</code> est disponible sur tout élément qui hérite de <code>View</code>.</p>
<p><strong>Exemples&nbsp;: </strong></p>
<pre><code>&lt;TextView
   [...]
   android:accessibilityLiveRegion="polite" /&gt;</code></pre>

<p><strong>Lien&nbsp;: </strong></p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#setAccessibilityLiveRegion%28int%29"><code>setAccessibilityLiveRegion</code></a></li>
</ul>
<h2 id="g-rer-l-ordre-de-lecture-span-lang-en-talkback-span-">Gérer l’ordre de lecture (<span lang="en">TalkBack</span>)</h2>
<p><strong>Description&nbsp;: </strong>  </p>
<p>L’ordre du focus de la synthèse vocale par défaut prend en compte plusieurs paramètres&nbsp;: la lecture «&nbsp;logique&nbsp;», (en France) soit de gauche à droite et de haut en bas, et la lecture du <abbr>xml</abbr> (ordre de déclaration des éléments). Il est tout à fait possible de redéfinir cet ordre de lecture avec deux outils&nbsp;:  </p>
<ul>
<li><code>accessibilityTraversalAfter</code>&nbsp;: prend un id en paramètre et permet de spécifier à la vue qu’elle doit être décrite par l’accessibilité après la vue passée en paramètre.</li>
<li><code>accessibilityTraversalBefore</code>&nbsp;: prend un id en paramètre et permet de spécifier à la vue qu’elle doit être décrite par l’accessibilité avant la vue passée en paramètre.</li>
</ul>
<p>À noter&nbsp;: ces attributs peuvent être utilisés directement dans le <abbr>xml</abbr> mais également dans le code via les méthodes <code>setAccessibilityTraversalAfter</code> et <code>setAccessibilityTraversalBefore</code>. Ces méthodes sont disponibles pour tout élément qui hérite de <code>View</code>.</p>
<p><strong>Exemple&nbsp;: </strong> </p>
<pre><code>volupButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.remote0).getId());
voldownButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.volup).getId());
chaineplusButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.voldown).getId());
chainemoinsButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.chaineplus).getId());</code></pre>

<p><strong>Liens&nbsp;: </strong>      </p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#setAccessibilityTraversalAfter%28int%29"><code>setAccessibilityTraversalAfter</code></a></li>
<li><a href="https://developer.android.com/reference/android/view/View.html#setAccessibilityTraversalBefore%28int%29"><code>setAccessibilityTraversalBefore</code></a></li>
</ul>
<h2 id="formulaires">Formulaires</h2>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Il est important que les champs de formulaire soient liés à un label. Il existe 2 grandes techniques pour réaliser cette liaison&nbsp;:</p>
<ul>
<li><code>labelFor</code>&nbsp;: permet de spécifier à une vue qu’elle est le label d’une autre vue. Cette méthode prend en paramètre l’<code>id</code> de la vue que l’on labellise. On peut utiliser cette méthode avec quasiment tout type de champ de formulaire. Utilisable depuis le <abbr>xml</abbr> <code>android:labelFor</code> ou le code <code>setLabelFor</code>. <code>LabelFor</code> est utilisable depuis tout élément qui hérite de <code>View</code>.</li>
<li><code>hint</code>&nbsp;: pour les <code>EditText</code> ou <code>TextView</code>. Permet d’ajouter un texte d’exemple quand le champ de texte est vide. Cette méthode ne marche que pour les <code>TextView</code>. Prend en paramètre l’<code>id</code> d’une chaîne de caractère. Utilisable depuis le <abbr>xml</abbr> <code>android:hint</code> ou le code <code>setHint</code>.</li>
</ul>
<p><strong>Exemples&nbsp;: </strong></p>
<p><code>LabelFor</code> dans le <abbr>xml</abbr>&nbsp;: </p>
<pre><code>&lt;TextView
    [...]
  android:labelFor="@+id/imageView11"
  android:importantForAccessibility="no" /&gt;</code></pre>

<p>Remarque&nbsp;: il est très fréquent, une fois le label lié à son champ, de masquer le label à l’accessibilité. En effet, celui ci n’a plus besoin d’être reconnu par l’<abbr>API</abbr> d’accessibilité car son champ de formulaire l’utilise déjà (et sera donc restitué vocalement par <span lang="en">TalkBack</span> par exemple).</p>
<p><code>Hint</code> dans le <abbr>xml</abbr>&nbsp;:</p>
<pre><code>&lt;EditText
  [...]
   android:hint="@string/criteria_form_ex1_placeholder" /&gt;</code></pre>

<p><strong>Liens&nbsp;: </strong></p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#setLabelFor%28int%29"><code>setLabelFor</code></a></li>
<li><a href="https://developer.android.com/reference/android/widget/TextView.html#setHint%28java.lang.CharSequence%29"><code>setHint</code></a></li>
</ul>
<h2 id="taille-des-textes">Taille des textes</h2>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Afin de permettre à l’option «&nbsp;grands caractères&nbsp;» d’interagir correctement avec l’application, plusieurs points sont à respecter durant les développements.</p>
<ul>
<li>Utiliser une taille de police dynamique&nbsp;: le «&nbsp;sp&nbsp;». Cette unité, spécifique à Android, permet d’obtenir une taille de police en fonction de la densité de pixel de l’écran. Il est plus que recommandé de l’utiliser, ne serait-ce que pour obtenir un design uniforme sur tous les types de <i lang="en">devices</i> Android.</li>
<li>Gérer les débordements de contenu&nbsp;: une erreur courante est d’utiliser une taille de texte dynamique («&nbsp;sp&nbsp;» donc) mais de ne pas faire attention au conteneur. Si le texte grossit, le conteneur doit en faire autant pour ne pas qu’il y ait de débordement. On peut parfaitement jouer avec le <code>min-height</code> et le <code>height</code> des conteneurs pour obtenir un résultat correct (un <code>height</code> en <code>wrap_content</code> permet de laisser au système le soin de s’adapter).</li>
</ul>
<p><strong>Lien&nbsp;: </strong></p>
<ul>
<li><a href="https://www.google.com/design/spec/style/typography.html#typography-styles">typographie sous Android</a></li>
</ul>
<h2 id="-v-nements-d-accessibilit-i-lang-en-custom-views-i-">Événements d’accessibilité &amp; <i lang="en">custom views</i></h2>
<p><strong>Description&nbsp;: </strong> </p>
<p>Il existe sous Android un bon nombre d’événements liés à l’<abbr>API</abbr> d’accessibilité. Vous pouvez manipuler ces événements au même titre que d’autres événements. Ils permettent d’enrichir des composants <i lang="en">custom</i> insuffisamment accessibles. L’utilisation des événements d’accessibilité est assez rare dans les applications non dédiées à l’accessibilité, les autres options étant généralement suffisantes. Cependant, il faut savoir qu’ils existent et permettent de surcharger la vocalisation d’un composant.  </p>
<p>Pour plus d’informations, nous vous invitons à regarder les liens ci-dessous.</p>
<p><strong>Exemple&nbsp;: </strong></p>
<p>Dans cet exemple, on intercepte les événements d’accessibilité. En fonction de leur type (un texte a changé dans la vue ou <span lang="en">TalkBack</span> a mis le focus sur le composant), nous construisons une vocalisation à destination de <span lang="en">TalkBack</span>.</p>
<pre><code>@Override
@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)
public boolean dispatchPopulateAccessibilityEvent(AccessibilityEvent event) {

  boolean result = super.dispatchPopulateAccessibilityEvent(event);

  // Detect what type of accessibility event is being passed in.
  int eventType = event.getEventType();

  // Common case: The user has interacted with our view in some way. State may or may not have been changed. Read out the current status of the view.
  if (eventType == AccessibilityEvent.TYPE_VIEW_TEXT_CHANGED) {
    event.getText().clear();
    event.getText().add("Valeur de la cagnotte&nbsp;: " + getBankValue() + ".");
    result = true;
  }

  // When a user first focuses on our view, we’ll also read out some simple instructions to make it clear that this is an interactive element.
  if (eventType == AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED) {
    event.getText().add("Cliquez pour lancer la roue et augmenter vos gains.");
    result = true;
  }

  return result;
}</code></pre>

<p><strong>Liens&nbsp;: </strong></p>
<ul>
<li><a href="http://developer.android.com/reference/android/view/accessibility/AccessibilityEvent.html"><code>AccessibilityEvents</code></a></li>
<li><a href="http://developer.android.com/guide/topics/ui/accessibility/apps.html#custom-views">Construire une vue custom accessible</a></li>
</ul>
<h2 id="-i-lang-en-webview-i-"><i lang="en">WebView</i></h2>
<p><strong>Description&nbsp;: </strong> </p>
<p>Les <code>WebView</code> ont un traitement un peu particulier sous Android. Pour commencer, si on veut qu’une page soit accessible, il faut que le contenu HTML le soit, à savoir qu’il respecte les normes internationales sur le sujet&nbsp;: les WCAG2. Pour connaître ces règles et apprendre les techniques de développement pour un web accessible, nous vous invitons à visiter la section de notre site consacrée au sujet&nbsp;: <a href="../web/index.html">recommandations accessibilité pour le web</a>.  </p>
<p>Côté Android, il faut s’assurer que la <i lang="en">WebView</i> autorise le JavaScript&nbsp;: <code>mWebView.getSettings.setJavaScriptEnabled(true);</code><br>Dans ces conditions, la page affichée à travers la <code>WebView</code>  réagit convenablement à l’<abbr>API</abbr> d’accessibilité. </p>
<h2 id="vocalisation-des-listes">Vocalisation des listes</h2>
<p><strong>Description&nbsp;: </strong> </p>
<p>Il arrive parfois que les listes soient mal vocalisées&nbsp;: la synthèse vocale tente de vocaliser toute la liste en une seule fois (au moins ce qui est affiché à l’écran dans le cas de listes longues). C’est notamment le cas lorsque l’on utilise des <code>RecyclerView</code>. Pour pallier ce problème, une solution simple existe. Il suffit de positionner l’attribut <code>focusable</code> à <code>true</code> pour chaque item de la liste. Cela a pour effet de forcer la synthèse vocale (<span lang="en">TalkBack</span>) à lire les items un par un.</p>
<h2 id="navigation-au-focus-clavier-">Navigation au focus (clavier)</h2>
<p><strong>Description&nbsp;: </strong></p>
<p>Pour gérer la navigation au focus, il faut s’assurer de 3 choses&nbsp;:</p>
<ul>
<li>Permettre le focus sur les éléments interactifs&nbsp;: la navigation au focus ne concerne que les éléments interactifs. Si, par exemple, votre application possède des vues <i lang="en">custom</i> cliquables, il faut s’assurer que ces vues soient focusables en positionnant l’attribut <code>focusable</code> à <code>true</code>.</li>
<li>Gérer l’affichage du focus&nbsp;: tout élément interactif peut recevoir le focus, il faut donc que le <code>state_focused</code> soit défini et permette de distinguer d’un seul coup d’œil quel élément a le focus.</li>
<li>Gérer l’ordre du focus&nbsp;: à travers les options <code>nextFocusDown</code>, <code>nextFocusUp</code>, <code>nextFocusRight</code> et <code>nextFocusLeft</code>, vous pouvez spécifier quelle vue doit prendre le focus selon l’utilisation des flèches bas, haut, droit et gauche.  </li>
</ul>
<p>La plupart du temps, seuls les point 1 et 2 sont à prendre la compte. En effet, le système Android est capable de déterminer assez précisément les positions des éléments les uns par rapport aux autres et donc de fournir un ordre de lecture au clavier logique et cohérent.</p>
<p>À noter&nbsp;: <code>nextFocusDown</code>, <code>nextFocusUp</code>, <code>nextFocusRight</code>, <code>nextFocusLeft</code>, <code>focusable</code> ainsi que d’autres options de gestion du focus sont accessibles directement dans le <abbr>xml</abbr> ou dans le code à travers les méthodes correspondantes.</p>
<p><strong>Exemple&nbsp;: </strong></p>
<p>Exemple de sélecteur pour <code>TabHost</code> qui prend en compte l’état <code>state_focused</code> :</p>
<pre><code>&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;!-- Non focused states --&gt;
    &lt;item android:state_focused="false" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_unselected_tab_selector" /&gt;
    &lt;item android:state_focused="false" android:state_selected="true"  android:state_pressed="false" android:drawable="@drawable/tab_selected_tab_selector" /&gt;

    &lt;!-- Focused states --&gt;
    &lt;item android:state_focused="true" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_unselected_focused_tab_selector" /&gt;
    &lt;item android:state_focused="true" android:state_selected="true"  android:state_pressed="false" android:drawable="@drawable/tab_selected_focused_tab_selector" /&gt;

    &lt;!-- Pressed --&gt;
    &lt;!-- Non focused states --&gt;
    &lt;item android:state_focused="false" android:state_selected="false" android:state_pressed="true" android:drawable="@drawable/tab_unselected_pressed_tab_selector" /&gt;
    &lt;item android:state_focused="false" android:state_selected="true"  android:state_pressed="true" android:drawable="@drawable/tab_selected_pressed_tab_selector" /&gt;

    &lt;!-- Focused states --&gt;
    &lt;item android:state_focused="true" android:state_selected="false" android:state_pressed="true" android:drawable="@drawable/tab_unselected_pressed_tab_selector" /&gt;
    &lt;item android:state_focused="true" android:state_selected="true"  android:state_pressed="true" android:drawable="@drawable/tab_selected_pressed_tab_selector" /&gt;
&lt;/selector&gt;</code></pre>

<p><strong>Lien&nbsp;: </strong></p>
<ul>
<li><a href="http://developer.android.com/guide/topics/ui/accessibility/apps.html#focus-nav">Gestion du focus sous Android</a></li>
</ul>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="les-crit-res-incontournables-sous-ios-pour-le-d-veloppement">Les critères incontournables sous iOS pour le développement</h1>
<script>$(document).ready(function () {

    setBreadcrumb([{"label":"Les critères incontournables sous iOS", "url": "./criteria-ios.html"},
        {"label":"Pour le développement"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html", "expanded": true},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"}
    ]);    
});</script>

<p><span data-menuitem="criteria-ios"></span></p>
<p>Ce guide a pour objectif de présenter les différentes options du <abbr>SDK</abbr> d’accessibilité sous iOS 11 en associant&nbsp;:</p>
<ul>
<li>Des explications détaillées concernant les attributs et méthodes d&#39;accessibilité.</li>
<li>Des exemples de code en Swift 4 et en Objective C.</li>
</ul>
<p></br>... et des liens vers la <a href="https://developer.apple.com/documentation/uikit/accessibility"><code>documentation officielle d&#39;Apple</code></a>.</p>
<h2 id="alternatives-textuelles">Alternatives textuelles</h2>
<h3 id="description">Description</h3>
<p>Sous iOS, la vocalisation d’un élément s’effectue à travers 4 attributs&nbsp;: <code>label</code>, <code>hint</code>, <code>value</code> et <code>trait</code>.<br>L’ordre de vocalisation est toujours le même (<code>label</code>, <code>value</code>, <code>trait</code> et <code>hint</code>), il ne peut pas être changé et la vocalisation est réalisée en une seule fois à l’arrivée sur l’élément.  </p>
<p>Une section de ce guide étant dédiée au <code>trait</code>, nous décrivons ici les 3 autres attributs&nbsp;:  </p>
<ul>
<li><strong>accessibilityLabel</strong>&nbsp;: le label permet de préciser le titre spécifique à l’accessibilité qui est lu par <span lang="en">VoiceOver</span> en lieu et place du texte du composant si celui-ci en possède un, ce qui permet d’avoir un texte de composant plus explicite que celui affiché à l’écran.
</br>Par exemple, dans le cas d’un bouton dont le titre est « OK », on peut indiquer que le bouton sert à valider un choix.</li>
<li><strong>accessibilityValue</strong>&nbsp;: la valeur d’un élément est, par défaut, le pourcentage de progression.
</br>À noter que, pour la plupart des éléments ajustables disponibles dans le <abbr>SDK</abbr>, cette <code>value</code> n’a pas besoin d’être précisée car le système restitue automatiquement la valeur à l’utilisateur via <span lang="en">VoiceOver</span>.</li>
<li><strong>accessibilityHint</strong>&nbsp;: le <code>hint</code> permet de décrire le comportement du composant en incorporant des explications supplémentaires.
</br>Exemple&nbsp;: «&nbsp;cliquez pour obtenir le résultat&nbsp;».  </li>
</ul>
<p>Ces attributs sont disponibles via l’<i lang="en">interface builder</i> de Xcode mais également accessibles en programmation.
</br>Tout élément dérivant de <code>UIView</code> possède ces attributs qui acceptent une chaîne de caractère les rendant subséquemment internationalisables.</p>
<h3 id="exemple">Exemple</h3>
<pre><code class="objective-c">
@interface ChangeTextView() {

    __weak IBOutlet UILabel * monLabel;
    __weak IBOutlet UIProgressView * maProgressView;
}
@end

@implementation ChangeTextView

- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    monLabel.accessibilityLabel = @"bonjour";
    monLabel.accessibilityHint = @"Ceci est un commentaire supplémentaire.";

    maProgressView.accessibilityValue = @"45 pour cent";
}
@end
</code></pre><pre><code class="swift">
class ChangeTextView: UIViewController {

    @IBOutlet weak var monLabel: UILabel!
    @IBOutlet weak var maProgressView: UIProgressView!

    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        monLabel.accessibilityLabel = "bonjour"
        monLabel.accessibilityHint = "Ceci est un commentaire supplémentaire."

        maProgressView.accessibilityValue = "45 pour cent"

    }
}
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615181-accessibilitylabel"><code>accessibilityLabel</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615117-accessibilityvalue"><code>accessibilityValue</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615093-accessibilityhint"><code>accessibilityHint</code></a></li>
</ul>
<h2 id="nature-des-l-ments">Nature des éléments</h2>
<h3 id="description">Description</h3>
<p>L’attribut <code>accessibilityTraits</code> permet de donner une information à l’<abbr>API</abbr> d’accessibilité sur la nature d’un composant.
</br>On peut décider ainsi qu’un item de liste soit pris en compte comme un bouton par <span lang="en">VoiceOver</span> car celui-ci est cliquable.
</br>De ce fait, l’<code>accessibilityTrait</code> joue également sur la vocalisation de l’élément car cette nature est restituée par <span lang="en">VoiceOver</span>.  </p>
<p>Cet attribut d’accessibilité est disponible via l’<i lang="en">interface builder</i> de Xcode mais également utilisable directement via le code.  </p>
<p>Il existe beaucoup de traits dont les principaux sont fournis ci-dessous&nbsp;:  </p>
<ul>
<li><strong>accessibilityTraitNone</strong>&nbsp;: supprime toute valeur sémantique à l’élément.</li>
<li><strong>accessibilityTraitButton</strong>&nbsp;: ajoute le trait «&nbsp;bouton&nbsp;», l’élément est vu comme un bouton par <span lang="en">VoiceOver</span>.</li>
<li><strong>accessibilityTraitLink</strong>&nbsp;: utile pour définir un label en tant que «&nbsp;lien&nbsp;».</li>
<li><strong>accessibilityTraitHeader</strong>&nbsp;: permet de définir un élément comme un en-tête (voir la section <a href="criteria-ios-conception.html#titre-et-en-t-te">«&nbsp;titre et en-tête&nbsp;»</a>).</li>
<li><strong>accessibilityTraitAdjustable</strong>&nbsp;: permet de définir un élément comme un élément «&nbsp;ajustable&nbsp;», c’est-à-dire un élément dont la valeur instantanée peut être modifiée via un <a href="https://help.apple.com/iphone/9/#/iph3e2e2281">geste spécifique</a> de <span lang="en">VoiceOver</span>.</li>
</ul>
<h3 id="exemple">Exemple</h3>
<pre><code class="objective-c">
- (void)customTraits() {
    //Spécification d'un UIPageControl avec le trait ’ajustable’.
    pageControl.accessibilityTraits = UIAccessibilityTraitAdjustable;

    //Ajout d'un en-tête.  
    defaultHeaderViewCell.accessibilityTraits = UIAccessibilityTraitHeader;

    //Combinaison possible de plusieurs traits.  
    onePageButton.accessibilityTraits = UIAccessibilityTraitButton + UIAccessibilityTraitSelected;
}
</code></pre><pre><code class="swift">
func customTraits() {
    //Spécification d'un UIPageControl avec le trait ’ajustable’.
    pageControl.accessibilityTraits = UIAccessibilityTraitAdjustable

    //Ajout d'un en-tête. 
    defaultHeaderViewCell.accessibilityTraits = UIAccessibilityTraitHeader

    //Combinaison possible de plusieurs traits. 
    onePageButton.accessibilityTraits = UIAccessibilityTraitButton + UIAccessibilityTraitSelected
}
</code></pre>
<h3 id="lien">Lien</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615202-accessibilitytraits"><code>accessibilityTraits</code></a></li>
</ul>
<h2 id="masquer-des-l-ments-l-accessibilit-">Masquer des éléments à l’accessibilité</h2>
<h3 id="description">Description</h3>
<p>Il est possible de masquer des éléments aux outils d’accessibilité grâce aux attributs d’accessibilité mais aussi de forcer certains éléments à être visibles pour les outils d’accessibilité uniquement.  </p>
<ul>
<li><strong>isAccessibilityElement</strong>&nbsp;: booléen qui permet d’indiquer qu’un élément est visible ou non de l’<abbr>API</abbr> d’accessibilité (de <span lang="en">VoiceOver</span> ou autre).</li>
<li><strong>accessibilityElementsHidden</strong>&nbsp;: booléen qui permet d’indiquer que les éléments fils de l’élément cible sont visibles ou non de l’<abbr>API</abbr> d’accessibilité.</li>
<li><strong>accessibilityViewIsModal</strong>&nbsp;: booléen qui permet de rendre visible ou non les éléments frères de l’élément cible à l’<abbr>API</abbr> d’accessibilité.
</br>Très utile pour rendre accessible des <i lang="en">popup custom view</i> par exemple.  </li>
</ul>
<p>L’attribut <code>accessibilityElement</code> est disponible via l’<i lang="en">interface builder</i> de Xcode mais est également utilisable directement via le code.
</br>Les deux autres attributs sont utilisables uniquement via le code.</p>
<h3 id="exemple">Exemple</h3>
<p>L&#39;idée est de créer un carré rouge qui va contenir 2 autres carrés (bleu et jaune) pour appliquer les attributs définis précedémment.
<img style="max-width: 500px; height: auto; " src="./images/iOSdev/MasquerDesElements_1.png" /></p>
<pre><code class="objective-c">
- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    //Création d'un élément père dans lequel 2 autres éléments fils vont être insérés.
    CGRect parentViewRect = CGRectMake(100.0, 100.0, 40.0, 40.0);
    UIView * myParentView = [[UIView alloc]initWithFrame:parentViewRect];
    myParentView.backgroundColor = [UIColor redColor];

    [UIApplication.sharedApplication.keyWindow addSubview:myParentView];

    //L'élément père ne doit pas être accessible pour servir de conteneur à ses enfants.
    //Si la valeur est à 'YES', seul cet élément sera accessible sans ses enfants.
    myParentView.isAccessibilityElement = NO;

    //Indication du conteneur que ses enfants peuvent ne pas être accessibles même s'ils sont définis comme tels.
    //Si cette valeur est à 'NO' et la précedénte à 'NO', seuls ces élements seront accessibles.
    myParentView.accessibilityElementsHidden = NO;

    [self createViewWithColor:[UIColor yellowColor] 
                       inside:myParentView];
    [self createViewWithColor:[UIColor blueColor] 
                       inside:myParentView];
}

- (void)createViewWithColor:(UIColor*)color
                     inside:(UIView*)parentView {

    float delta = (color == [UIColor yellowColor]) ? 0.0 : 20.0;

    CGRect rect = CGRectMake(10.0 + delta, 10.0 + delta, 10.0, 10.0);
    UIView * theView = [[UIView alloc]initWithFrame:rect];
    theView.backgroundColor = color;

    [parentView addSubview:theView];

    theView.isAccessibilityElement = YES;
}
</code></pre><pre><code class="swift">
override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        //Création d'un élément père dans lequel 2 autres éléments fils vont être insérés.
        let parentViewRect = CGRect.init(x: 100.0,
                                         y: 100.0,
                                         width: 40.0,
                                         height: 40.0)
        let myParentView = UIView.init(frame: parentViewRect)
        myParentView.backgroundColor = .red

        UIApplication.shared.keyWindow?.addSubview(myParentView)

        //L'élément père ne doit pas être accessible pour servir de conteneur à ses enfants.
        //Si la valeur est à 'true', seul cet élément sera accessible sans ses enfants.
        myParentView.isAccessibilityElement = false

        //Indication du conteneur que ses enfants peuvent ne pas être accessibles même s'ils sont définis comme tels.
        //Si cette valeur est à 'false' et la précedénte à 'false', seuls ces élements seront accessibles.
        myParentView.accessibilityElementsHidden = false

        self.createViewWithColor(.yellow, inside: myParentView)
        self.createViewWithColor(.blue, inside: myParentView)
    }

    func createViewWithColor(_ color:UIColor, inside parentView:UIView) {

        let delta:CGFloat = ((color == .yellow) ? 0.0 : 20.0)
        let rect = CGRect.init(x: 10.0 + delta,
                               y: 10.0 + delta,
                               width: 10.0,
                               height: 10.0)

        let theView = UIView.init(frame: rect)
        theView.backgroundColor = color

        parentView.addSubview(theView)

        theView.isAccessibilityElement = true
    }
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615141-isaccessibilityelement"><code>isAccessibilityElement</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615080-accessibilityelementshidden"><code>accessibilityElementsHidden</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615089-accessibilityviewismodal"><code>accessibilityViewIsModal</code></a></li>
</ul>
<h2 id="d-clencher-une-vocalisation">Déclencher une vocalisation</h2>
<h3 id="description">Description</h3>
<p>Il est très facile de déclencher des vocalisations avec <span lang="en">VoiceOver</span>.
</br>Attention, nous parlons de vocalisation avec <span lang="en">VoiceOver</span> (ce qui implique que <span lang="en">VoiceOver</span> soit activé) et pas de <abbr>TTS</abbr> (<span lang="en">Text To Speech</span>) qui fonctionne indépendamment de l’activation ou non de <span lang="en">VoiceOver</span>.
</br></br>Pour déclencher une vocalisation qui se fera dans la langue du système, il faut envoyer une notification à l’<abbr>API</abbr> d’accessibilité via la méthode <strong>UIAccessibilityPostNotification</strong> avec en paramètres la notification permettant de déclencher une vocalisation <strong>UIAccessibilityAnnouncementNotification</strong> et la chaîne de caractères à vocaliser.</p>
<h3 id="exemple">Exemple</h3>
<pre><code class="objective-c">
UIAccessibilityPostNotification(UIAccessibilityAnnouncementNotification, @"Message pour la vocalisation.");
</code></pre><pre><code class="swift">
UIAccessibilityPostNotification(UIAccessibilityAnnouncementNotification, "Message pour la vocalisation.")
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/1615194-uiaccessibilitypostnotification"><code>UIAccessibilityPostNotification</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilityannouncementnotification"><code>UIAccessibilityAnnouncementNotification</code></a></li>
</ul>
<h2 id="conna-tre-l-tat-des-options-d-accessibilit-">Connaître l’état des options d’accessibilité</h2>
<h3 id="description">Description</h3>
<p>Est-ce que <span lang="en">VoiceOver</span> est activé&nbsp;? Est-ce que le mode audio-mono est activé&nbsp;?
</br>Plusieurs fonctions du <span lang="en">framework</span> <code>UIKit</code> permettent de connaître les statuts de ces options d&#39;accessibilité.
 </br>La plus utile est certainement celle qui permet de savoir si <span lang="en">VoiceOver</span> est activé au moment de l’appel (<strong>UIAccessibilityIsVoiceOverRunning</strong>).
 </br></br>D&#39;autres fonctions, peut-être moins utiles à première vue, sont fournies dans les liens ci-après.</p>
<h3 id="exemple">Exemple</h3>
<pre><code class="objective-c">
    BOOL isVoiveOverRunning = (UIAccessibilityIsVoiceOverRunning() ? 1 : 0);
    BOOL isSwitchControlRunning = (UIAccessibilityIsSwitchControlRunning() ? 1 : 0);

    NSLog(@"VoiceOver vaut %d et SwitchControl vaut %d.", isVoiveOverRunning, isSwitchControlRunning);
</code></pre><pre><code class="swift">
    let isVoiceOverRunning = (UIAccessibilityIsVoiceOverRunning() ? 1 : 0)
    let isSwitchControlRunning = (UIAccessibilityIsSwitchControlRunning() ? 1 : 0)

    print("VoiceOver vaut \(isVoiceOverRunning) et SwichControl vaut \(isSwitchControlRunning).")
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/1615087-uiaccessibilitydarkersystemcolor"><code>UIAccessibilityDarkerSystemColorsEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1648479-uiaccessibilityisassistivetouchr"><code>UIAccessibilityIsAssistiveTouchRunning</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615156-uiaccessibilityisboldtextenabled"><code>UIAccessibilityIsBoldTextEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615112-uiaccessibilityisclosedcaptionin"><code>UIAccessibilityIsClosedCaptioningEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615189-uiaccessibilityisgrayscaleenable"><code>UIAccessibilityIsGrayscaleEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615173-uiaccessibilityisguidedaccessena"><code>UIAccessibilityIsGuidedAccessEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615167-uiaccessibilityisinvertcolorsena"><code>UIAccessibilityIsInvertColorsEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615123-uiaccessibilityismonoaudioenable"><code>UIAccessibilityIsMonoAudioEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615133-uiaccessibilityisreducemotionena"><code>UIAccessibilityIsReduceMotionEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615074-uiaccessibilityisreducetranspare"><code>UIAccessibilityIsReduceTransparencyEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615103-uiaccessibilityisshaketoundoenab"><code>UIAccessibilityIsShakeToUndoEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615109-uiaccessibilityisspeakscreenenab"><code>UIAccessibilityIsSpeakScreenEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615154-uiaccessibilityisspeakselectione"><code>UIAccessibilityIsSpeakSelectionEnabled</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615131-uiaccessibilityisswitchcontrolru"><code>UIAccessibilityIsSwitchControlRunning</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/1615187-uiaccessibilityisvoiceoverrunnin"><code>UIAccessibilityIsVoiceOverRunning</code></a></li>
</ul>
<h2 id="informer-d-une-modification-sur-la-page">Informer d’une modification sur la page</h2>
<h3 id="description">Description</h3>
<p>Lors d’un changement de contenu sur une page, il est possible de notifier l’<abbr>API</abbr> d’accessibilité de ce changement à travers différentes notifications.
</br>Pour ce faire, il faut envoyer une notification de modification à l’<abbr>API</abbr> d’accessibilité via la méthode <strong>UIAccessibilityPostNotification</strong>.<br></br>Il existe plusieurs notifications de modification, mais les deux plus utiles sont&nbsp;:</p>
<ul>
<li><strong>UIAccessibilityLayoutChangedNotification</strong>&nbsp;: permet de spécifier à l’<abbr>API</abbr> d’accessibilité qu’une partie de la page a été modifiée et doit être accompagné d&#39;un <code>NSString</code> ou d&#39;un <code>UIObject</code>.
</br>Avec un <code>NSString</code>, la notification se comporte comme une <strong>UIAccessibilityAnnouncementNotification</strong> et lance une vocalisation <span lang="en">VoiceOver</span>.
</br>Avec un <code>UIObject</code>, le focus est repositionné sur l’élément précisé.
</br>Cette notification est très similaire à <strong>UIAccessibilityAnnouncementNotification</strong> mais son utilisation doit être mise en avant dès lors qu&#39;une modification dynamique du contenu se produit.</li>
<li><strong>UIAccessibilityScreenChangedNotification</strong>&nbsp;: permet d’annoncer un changement global de la page et accepte soit <code>nil</code>, soit l’élément qui doit recevoir le focus.
</br>Avec <code>nil</code>, la notification vocalise et sélectionne le premier élément accessible de la page.
</br>Avec un <code>UIObject</code>, le focus est repositionné sur l’élément précisé en lançant une vocalisation <span lang="en">VoiceOver</span>.
</br>Le son utilisé pour notifier la modification est similaire à l&#39;arrivée d&#39;une nouvelle page.</li>
</ul>
<h3 id="exemple">Exemple</h3>
<pre><code class="objective-c">
//L'élément 'myLabel' est sélectionné et vocalisé avec sa nouvelle valeur.
- (IBAction)tapHere:(UIButton *)sender {

    myLabel.accessibilityLabel = @"Ceci est un nouveau label.";
    UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel);
}

//Le premier élément accessible de la page est sélectioné et vocalisé avec un son spécifique.
- (IBAction)clic:(UIButton *)sender {

    UIAccessibilityPostNotification(UIAccessibilityScreenChangedNotification, nil);
}
</code></pre><pre><code class="swift">
//L'élément 'myLabel' est sélectionné et vocalisé avec sa nouvelle valeur.
@IBAction func clicHere(_ sender: UIButton) {

    myLabel.accessibilityLabel = "Ceci est un nouveau label."
    UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel)
}

//Le premier élément accessible de la page est sélectioné et vocalisé avec un son spécifique.
@IBAction func clic(_ sender: UIButton) {

    UIAccessibilityPostNotification(UIAccessibilityScreenChangedNotification, mySecondLabel)
}
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/1615194-uiaccessibilitypostnotification"><code>UIAccessibilityPostNotification</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilitylayoutchangednotification"><code>UIAccessibilityLayoutChangedNotification</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilityscreenchangednotification"><code>UIAccessibilityScreenChangedNotification</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilitypagescrollednotification"><code>UIAccessibilityPageScrolledNotification</code></a></li>
</ul>
<h2 id="modifier-la-langue-de-vocalisation">Modifier la langue de vocalisation</h2>
<h3 id="description">Description</h3>
<p>Afin de modifier la langue de prononciation de <span lang="en">VoiceOver</span> pour un mot ou un texte, il existe l’attribut <strong>accessibilityLanguage</strong>&nbsp;. </br>Disponible via le protocole <code>UIAccessibility</code>, cet attribut permet de redéfinir la langue de prononciation d’un texte.
</br>Par exemple, si on utilise cet attribut sur un <code>UILabel</code>, alors celui-ci sera vocalisé par <span lang="en">VoiceOver</span> dans la nouvelle langue donnée en valeur de l’attribut.</br></p>
<h3 id="exemple">Exemple</h3>
<pre><code class="objective-c">
- (IBAction)tapHere:(UIButton *)sender {

    myLabel.accessibilityLanguage = @"en";
    myLabel.accessibilityLabel = @"This is a new label. Thank you.";
    UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel);
}
</code></pre><pre><code class="swift">
@IBAction func tapHere(_ sender: UIButton) {

    myLabel.accessibilityLanguage = "en"
    myLabel.accessibilityLabel = "This is a new label. Thank you."
    UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel)
}
</code></pre>
<h3 id="lien">Lien</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615192-accessibilitylanguage"><code>accessibilityLanguage</code></a></li>
</ul>
<h2 id="modifier-la-zone-de-focus-de-span-lang-en-voiceover-span-">Modifier la zone de focus de <span lang="en">VoiceOver</span></h2>
<h3 id="description">Description</h3>
<p>Dans le cas d’objet modifié dynamiquement ou d’élément ne dérivant pas de <code>UIView</code>, il est possible de déterminer la zone géographique d’accessibilité de cet élément, c’est-à-dire la zone que <span lang="en">VoiceOver</span> met en surbrillance lors du focus.  </p>
<ul>
<li><strong>accessibilityFrame</strong>&nbsp;: permet de définir cette zone via un rectangle (<code>CGRect</code>).
</br>Par défaut pour un élément dérivant de <code>UIView</code>, cette zone est la partie «&nbsp;visible&nbsp;» de la vue.</li>
<li><strong>accessibilityPath</strong>&nbsp;: équivalent à <code>AccessibilityFrame</code> mais permet de définir la zone via des courbes de Bézier.</li>
<li><strong>accessibilityActivationPoint</strong>&nbsp;: le «&nbsp;point&nbsp;» d’activation d’un élément pour les outils d’accessibilité.
</br>Par défaut, ce point est au centre de l’élément.</li>
</ul>
<h3 id="exemple">Exemple</h3>
<p><img style="max-width: 700px; height: auto; " src="./images/iOSdev/ModifierLaZoneDeFocus_1.png" /></p>
<pre><code class="objective-c">
float xVal;
float yVal;
float widthVal;
float heightVal;

- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    xVal = myLabel.accessibilityFrame.origin.x;
    yVal = myLabel.accessibilityFrame.origin.y;
    widthVal = myLabel.accessibilityFrame.size.width;
    heightVal = myLabel.accessibilityFrame.size.height;

}

//Première façon d'augmenter la zone de focus.
- (IBAction)tapHere:(UIButton *)sender {

    myLabel.accessibilityFrame = CGRectMake(xVal,
                                            yVal,
                                            widthVal + 100.0,
                                            heightVal+ 100.0);

    UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel);
}

//Seconde façon d'augmenter la zone de focus (Bézier).
- (IBAction)clic:(UIButton *)sender {

    UIBezierPath * bezierPath = [UIBezierPath bezierPath];

    [bezierPath moveToPoint:CGPointMake(xVal, yVal)];

    [bezierPath addLineToPoint:CGPointMake(xVal + widthVal + 100.0, 
                                           yVal)];
    [bezierPath addLineToPoint:CGPointMake(xVal + widthVal + 100.0, 
                                           yVal + heightVal+ 100.0)];
    [bezierPath addLineToPoint:CGPointMake(xVal, 
                                           yVal + heightVal+ 100.0)];
    [bezierPath closePath];

    myLabel.accessibilityPath = bezierPath;

    UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel);
}
</code></pre><pre><code class="swift">
    var xVal: CGFloat = 0.0
    var yVal: CGFloat = 0.0
    var widthVal: CGFloat = 0.0
    var heightVal: CGFloat = 0.0

    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        xVal = myLabel.accessibilityFrame.origin.x;
        yVal = myLabel.accessibilityFrame.origin.y;
        widthVal = myLabel.accessibilityFrame.size.width;
        heightVal = myLabel.accessibilityFrame.size.height;
    }

    //Première façon d'augmenter la zone de focus.
    @IBAction func clicHere(_ sender: UIButton) {

        myLabel.accessibilityFrame = CGRect.init(x: xVal,
                                                 y: yVal,
                                                 width: widthVal + 100.0,
                                                 height: heightVal + 100.0)

        UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, myLabel)
    }

    //Seconde façon d'augmenter la zone de focus (Bézier).
    @IBAction func clic(_ sender: UIButton) {

        let bezierPath = UIBezierPath.init()

        bezierPath.move(to: CGPoint.init(x: xVal, y: yVal))

        bezierPath.addLine(to: CGPoint.init(x: xVal + widthVal + 100.0,
                                            y: yVal))
        bezierPath.addLine(to: CGPoint.init(x: xVal + widthVal + 100.0,
                                            y: yVal + heightVal + 100.0))
        bezierPath.addLine(to: CGPoint.init(x: xVal,
                                            y: yVal + heightVal + 100.0))
        bezierPath.close()

        myLabel.accessibilityPath = bezierPath

        UIAccessibilityPostNotification(UIAccessibilityScreenChangedNotification, myLabel)
    }
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilityelement/1619579-accessibilityframe"><code>accessibilityFrame</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615159-accessibilitypath"><code>accessibilityPath</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615179-accessibilityactivationpoint"><code>accessibilityActivationPoint</code></a></li>
</ul>
<h2 id="grouper-des-l-ments">Grouper des éléments</h2>
<h3 id="description">Description</h3>
<p>On peut envisager de grouper des éléments pour vocaliser l&#39;ensemble formé en une seule fois et associer au groupe ainsi créé une action dédiée par exemple.
</br>Dans ce cas, on va créer une vue qui va englober les éléments impactés puis implémenter une action qui va indiquer l&#39;action à réaliser en cas d&#39;activation de la zone par l&#39;utilisateur.
</br>Dès lors, les éléments encapsulés ne doivent plus être considérés comme accessibles car seul leur conteneur doit être perçu comme tel.
</br></br>Une autre possibilité de groupement d&#39;éléments pourrait utiliser l’attribut <strong>shouldGroupAccessibilityChildren</strong>, booléen qui permet d’indiquer à <span lang="en">VoiceOver</span> qu’il doit grouper les enfants de la vue qui porte l’attribut.
</br>Cela permet notamment de faire des vocalisations uniques ou de définir un ordre de lecture <span lang="en">VoiceOver</span> particulier pour une partie de la page seulement (voir la section <a href="http://a11y-guidelines.orange.com/mobile/criteria-ios-dev.html#ordre-de-lecture">Ordre de lecture</a>).</p>
<h3 id="exemple">Exemple</h3>
<p>Nous avons un &#39;label&#39; et un &#39;switch control&#39; que nous allons souhaitons regrouper et traiter d&#39;un seul bloc.
</br><img style="max-width: 700px; height: auto; " src="./images/iOSdev/GrouperDesElements_1.png" /></p>
<pre><code class="objective-c">
- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    //Création de la vue qui va encapsuler le 'label' et le 'Switch Control'.
    CGRect wrapFrame = CGRectUnion(myLabel.frame, mySwitchControl.frame);
    wrapView = [[UIView alloc]initWithFrame: wrapFrame];

    wrapView.isAccessibilityElement = YES;
    wrapView.accessibilityLabel = myLabel.accessibilityLabel;
    wrapView.accessibilityValue = mySwitchControl.accessibilityValue;


    //Création de la manipulation qui va permettre une action sur la vue précédente.
    UITapGestureRecognizer * tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self
                                                                                  action:@selector(changeValue:)];
    tapGesture.numberOfTapsRequired = 1;
    [wrapView addGestureRecognizer:tapGesture];

    [self.view addSubview:wrapView];
}

- (void)changeValue:(UITapGestureRecognizer *)sender {
    mySwitchControl.on = ![mySwitchControl.accessibilityValue boolValue];
}
</code></pre><pre><code class="swift">
    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        //Création de la vue qui va encapsuler le 'label' et le 'Switch Control'.
        let wrapFrame = myLabel.frame.union(mySwitchControl.frame)
        let wrapView = UIView.init(frame: wrapFrame)

        wrapView.isAccessibilityElement = true
        wrapView.accessibilityLabel = myLabel.accessibilityLabel
        wrapView.accessibilityValue = mySwitchControl.accessibilityValue


        //Création de la manipulation qui va permettre une action sur la vue précédente.
        let tapGesture = UITapGestureRecognizer.init(target: self,
                                                     action: #selector(changeValue(sender:)))
        tapGesture.numberOfTapsRequired = 1;
        wrapView.addGestureRecognizer(tapGesture)

        self.view.addSubview(wrapView)
    }

    @objc func changeValue(sender: UITapGestureRecognizer) {

        let switchBoolValue = NSString(string:mySwitchControl.accessibilityValue!).boolValue
        mySwitchControl.setOn(!switchBoolValue,
                              animated: false)
    }
</code></pre>
<h3 id="lien">Lien</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615143-shouldgroupaccessibilitychildren"><code>shouldGroupAccessibilityChildren</code></a></li>
</ul>
<h2 id="-v-nements-d-accessibilit-">Événements d’accessibilité</h2>
<h3 id="description">Description</h3>
<p>Le système iOS envoie un certain nombre d’événements d’accessibilité à destination des applications lors de la modification des options d’accessibilité.
</br>Par exemple, si <span lang="en">VoiceOver</span> est désactivé durant l’utilisation de l’application, celle-ci recevra l’événement <strong>UIAccessibilityVoiceOverStatusDidChange</strong>, ce qui peut être très utile couplé à la fonction <strong>UIAccessibilityIsVoiceOverRunning</strong> grâce à laquelle on peut exécuter un traitement particulier quand <span lang="en">VoiceOver</span> est activé.
</br>Mais que se passe-t-il si <span lang="en">VoiceOver</span> est désactivé alors que ce traitement a déjà eu lieu&nbsp;?
</br></br>C’est là que les événements système peuvent être utilisés et, en restant à leur écoute, il est possible d’appliquer des traitements spécifiques de manière dynamique.</p>
<h3 id="exemple">Exemple</h3>
<p>Dans cet exemple, on appelle une méthode spécifique au moment où le statut de VoiceOver ou du Switch Control change.</p>
<pre><code class="objective-c">
- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(methodToBeCalled:)
                                                 name:UIAccessibilitySwitchControlStatusDidChangeNotification
                                               object:nil];

    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(methodToBeCalled:)
                                                 name:UIAccessibilityVoiceOverStatusDidChangeNotification
                                               object:nil];
}

- (void)methodToBeCalled:(NSNotification *)notification {

    NSArray * checkStatus = @[@"NOK", @"OK"];

    NSLog(@"SWITCH CONTROL is %@ and VOICE OVER is %@",
          checkStatus[UIAccessibilityIsSwitchControlRunning()],
          checkStatus[UIAccessibilityIsVoiceOverRunning()]);
}
</code></pre><pre><code class="swift">
    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        NotificationCenter.default.addObserver(self,
                                               selector: #selector(methodToBeCalled(notification:)),
                                               name: .UIAccessibilitySwitchControlStatusDidChange,
                                               object: nil)

        NotificationCenter.default.addObserver(self,
                                               selector: #selector(methodToBeCalled(notification:)),
                                               name: .UIAccessibilityVoiceOverStatusDidChange,
                                               object: nil)
    }

    @objc private func methodToBeCalled(notification: Notification) {

        let switchControlStatus = (UIAccessibilityIsSwitchControlRunning() ? "OK" : "NOK")
        let voiceOverStatus = (UIAccessibilityIsVoiceOverRunning() ? "OK" : "NOK")

        print("SWITCH CONTROL is \(switchControlStatus) and VOICE OVER is \(voiceOverStatus).")
    }
</code></pre>
<h3 id="lien">Lien</h3>
<p>Tous les événements sont disponibles sur la <a href="https://developer.apple.com/documentation/uikit/accessibility/notification_names?language=objc">documentation officielle d&#39;Apple</a>.</p>
<h2 id="taille-des-textes">Taille des textes</h2>
<h3 id="description">Description</h3>
<p>Depuis iOS7, il est possible de modifier dynamiquement la taille des textes d&#39;une application à l’aide du paramétrage du téléphone.
</br><img style="max-width: 600px; height: auto; " src="./images/iOSdev/TailleDesTextes_1.png" />
</br>Quelques points sont néanmoins essentiels pour la bonne utilisation de l&#39;<abbr>API</abbr> mise à disposition&nbsp;:</p>
<ul>
<li><p>Utiliser la police système pour les textes de l’application afin de se faciliter grandement la tâche même si l&#39;utilisation d&#39;autres polices est devenue nettement plus aisée depuis l&#39;arrivée de <code>UIFontMetrics</code> avec iOS11.</p>
<pre><code class="objective-c">
 __weak IBOutlet UILabel * fontHeadline;
 __weak IBOutlet UILabel * fontFootNote;

 //Utilisation de la font native pour le titre principal d'un page.
 UIFont * myFont = [UIFont preferredFontForTextStyle:UIFontTextStyleHeadline];

 //Définition de la font pour le titre principal d'une page.
 UIFont * fontHead = [UIFont fontWithName:@"Chalkduster" size:30.0];
 UIFontMetrics * fontHeadMetrics = [[UIFontMetrics alloc]initForTextStyle:UIFontTextStyleHeadline];
 fontHeadline.font = [fontHeadMetrics scaledFontForFont:fontHead];
</code></pre><pre><code class="swift">
 @IBOutlet weak var fontHeadline: UILabel!
 @IBOutlet weak var fontFootNote: UILabel!

 //Utilisation de la police native par défaut pour le titre principal d'une page.
 let myFont = UIFont.preferredFont(forTextStyle: .headline)

 //Définition personnalisée de la police pour le titre principal d'une page.
 let fontHead = UIFont(name: "Chalkduster", size: 30.0)
 let fontHeadMetrics = UIFontMetrics(forTextStyle: .headline)
 fontHeadline.font = fontHeadMetrics.scaledFont(for: fontHead!)
</code></pre></li>
<li><p>Penser à écouter la notification <strong>UIContentSizeCategoryDidChange</strong> qui annonce le changement de la taille du texte à partir des paramètres du téléphone.
</br>Cette tâche est simplifiée depuis iOS10 où l&#39;attribut <strong>adjustsFontForContentSizeCategory</strong> se charge de la mise à jour automatique de la nouvelle taille de la police système au sein de l&#39;application (cet attribut ne peut s&#39;appliquer aux polices personnalisées qu&#39;avec l&#39;utilisation de <code>UIFontMetrics</code> en iOS11).
</br>Il est aussi possible d&#39;utiliser la méthode <strong>traitCollectionDidChange</strong> du protocole informel <code>UITraitEnvironment</code> qui sera automatiquement appelée dès qu&#39;une modification concernant l&#39;environnement de l&#39;interface iOS surviendra <em>(class/content size, portrait/paysage)</em>.</p>
<pre><code class="objective-c">
 //Écoute de la notification annonçant le changement de taille de la police.
 [[NSNotificationCenter defaultCenter] addObserver:self
                                          selector:@selector(methodToBeCalled:)
                                              name:UIContentSizeCategoryDidChangeNotification
                                            object:nil];

 //Modification automatique de la taille de la police sans utiliser la notification.
 fontHeadline.adjustsFontForContentSizeCategory = YES;

 - (void)methodToBeCalled:(NSNotification *)notification {

     //Il faut de nouveau affecter la police des éléments impactés lors du traitement de cette notification.
     fontFootNote.font = [UIFont preferredFontForTextStyle:UIFontTextStyleFootnote];
 }
</code></pre><pre><code class="swift">
 //Écoute de la notification annonçant le changement de taille de la police.
 NotificationCenter.default.addObserver(self,
                                        selector:#selector(methodToBeCalled(notification:)),
                                        name: .UIContentSizeCategoryDidChange,
                                        object: nil)

 //Modification automatique de la taille de la police sans utiliser la notification.
 fontHeadline.adjustsFontForContentSizeCategory = true

 @objc func methodToBeCalled(notification: Notification) {

     //Il faut de nouveau affecter la police des éléments impactés lors du traitement de cette notification.
     fontFootNote.font = UIFont.preferredFont(forTextStyle: .footnote)
 }
</code></pre></li>
<li>Ne pas oublier d&#39;adapter les contraintes graphiques aux éléments susceptibles de voir leur taille modifiée en privilégiant l&#39;utilisation de valeurs dynamiques.</li>
</ul>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/CustomTextProcessing/CustomTextProcessing.html#//apple_ref/doc/uid/TP40009542-CH4-SW65"><span lang="en">Dynamic Type <abbr>API</abbr></span></a></li>
<li><a href="https://developer.apple.com/documentation/foundation/nsnotification.name/1622948-uicontentsizecategorydidchange"><code>UIContentSizeCategoryDidChange</code></a></li>
<li><a href="https://developer.apple.com/documentation/uikit/uicontentsizecategoryadjusting/1771731-adjustsfontforcontentsizecategor?language=objc"><code>adjustsFontForContentSizeCategory</code></a></li>
</ul>
<h2 id="taille-des-l-ments-graphiques">Taille des éléments graphiques</h2>
<h3 id="description">Description</h3>
<p>Tout comme la taille des textes est adaptable selon les réglages d&#39;accessibilité (voir <a href="http://a11y-guidelines.orange.com/mobile/criteria-ios-dev.html#taille-des-textes">la rubrique précédente</a>), la taille des images ainsi que celle des éléments d&#39;une barre de tabulation ou d&#39;outils l&#39;est aussi mais <strong>uniquement depuis iOS11 avec Xcode 9</strong>.
</br></br>En suivant les différentes étapes ci-dessous, vous obtiendrez l&#39;effet défini précédemment et présenté graphiquement en exemple à la fin de cette rubrique&nbsp;:
</br></br>1. Sous Xcode, importer l&#39;image à grossir au format <code>pdf</code> à la résolution x1 dans le catalogue <code>xcassets</code>.
</br></br>2. Dans l&#39;<span lang="en">Image Set</span> qui vient d&#39;être créé, cocher la case <code>Preserve Vector Data</code> et spécifier <code>Single Scale</code> :
</br><img style="max-width: 700px; height: auto; " src="./images/iOSdev/TailleDesEltsGraphiques_4.png" />
</br></br>3. Si un <span lang="en">storyboard</span> est utilisé pour intégrer l&#39;image, cocher <code>Adjusts Image Size</code> dans la partie <span lang="en">Image View</span>, sinon mettre à <code>true</code> la propriété <code>adjustsImageSizeForAccessibilityContentSizeCategory</code> de l&#39;image si cette opération se fait de façon programmatique :
</br><img style="max-width: 350px; height: auto; " src="./images/iOSdev/TailleDesEltsGraphiques_5.png" />
</br></br>4. Si une <strong>barre de tabulation</strong> ou une <strong>barre d&#39;outils</strong> est aussi à intégrer dans l&#39;application, renouveler les 3 étapes précédentes pour chacune des images à utiliser en grossissement de l&#39;onglet au milieu de l&#39;écran puis associer l&#39;image souhaitée aux différents éléments impactés :
</br><img style="max-width: 350px; height: auto; " src="./images/iOSdev/TailleDesEltsGraphiques_6.png" />
</br><strong>ATTENTION : s&#39;assurer que les contraintes mises en place initialement permettent toujours un affichage cohérent et désiré après grossissement.</strong></p>
<h3 id="exemple">Exemple</h3>
<p>De façon à pouvoir tester à la fois le grossissement des images et celui d&#39;un onglet sélectionné, on crée une application contenant une barre de tabulations contenant 2 onglets dont seul le second nous intéresse et affiche l&#39;image du logo Orange.
</br></br>Après modification du grossissement de texte dans les réglages (voir <a href="http://a11y-guidelines.orange.com/mobile/criteria-ios-dev.html#taille-des-textes">la rubrique précédente</a>), on revient dans l&#39;application pour constater :</p>
<ul>
<li>Une taille de l&#39;image Orange nettement plus conséquente.</li>
<li>Au milieu de l&#39;écran, l&#39;affichage grossi de l&#39;onglet sur lequel on doit appuyer de façon continue pour provoquer cettte apparition.
</br><img style="max-width: 1200px; height: auto; " src="./images/iOSdev/TailleDesEltsGraphiques_9.png" /></li>
</ul>
<h3 id="lien">Lien</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilitycontentsizecategoryimageadjusting/2890929-adjustsimagesizeforaccessibility"><code>adjustsImageSizeForAccessibilityContentSizeCategory</code></a></li>
</ul>
<h2 id="ordre-de-lecture">Ordre de lecture</h2>
<h3 id="description">Description</h3>
<p>Redéfinir l’ordre de lecture pour <span lang="en">VoiceOver</span> s’effectue en respectant le protocole <strong>UIAccessibilityContainer</strong>.
</br>L’idée est d’avoir un tableau des éléments de la vue qui définit l’ordre de lecture des éléments.
</br>Il est bien souvent nécessaire d’utiliser l’attribut <strong>shouldGroupAccessibilityElement</strong> afin d’avoir un ordre précis mais pour une partie seulement de la vue (le reste étant l’ordre naturel de lecture proposé par <span lang="en">VoiceOver</span>).</p>
<h3 id="exemple">Exemple</h3>
<p>Le meilleur exemple pour illustrer cette fonctionnalité est le clavier pour lequel les touches sucessives ne suivent pas forcément l&#39;ordre natif proposé par <span lang="en">VoiceOver</span>.
</br>Dans cet exemple, on veut l&#39;ordre suivant : 1, 2, 3, 4, 7, 6, 8, 9, 5.
</br>On crée  les 2 vues grise et bleue au sein desquelles on incorpore les chiffres appropriés comme défini ci-dessous :
</br><img style="max-width: 500px; height: auto; " src="./images/iOSdev/OrdreDeLecture_1.png" /></p>
<pre><code class="objective-c">
    __weak IBOutlet UIView * blueBlock;
    __weak IBOutlet UIView * greyColumn;

- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    //Lecture des 3 premiers nombres dans la vue grise.
    greyColumn.shouldGroupAccessibilityChildren = YES;

    // Lecture des chiffres 6, 8, 9 et 5 au sein du bloc bleu.
    blueBlock.isAccessibilityElement = NO;
    blueBlock.accessibilityElements = @[key_6,
                                        key_8,
                                        key_9,
                                        key_5];
}
</code></pre><pre><code class="swift">
    @IBOutlet weak var greyColumn: UIView!
    @IBOutlet weak var blueBlock: UIView!

    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        //Lecture des 3 premiers nombres dans la vue grise.
        greyColumn.shouldGroupAccessibilityChildren = true

        // Lecture des chiffres 6, 8, 9 et 5 au sein du bloc bleu.
        blueBlock.isAccessibilityElement = false
        blueBlock.accessibilityElements = [key_6,
                                           key_8,
                                           key_9,
                                           key_5]
    }
</code></pre>
<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/accessibility/uiaccessibilitycontainer?language=objc"><code>UIAccessibilityContainer</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615143-shouldgroupaccessibilitychildren"><code>shouldGroupAccessibilityChildren</code></a></li>
</ul>
<h2 id="date-heure-et-nombres">Date, heure et nombres</h2>
<h3 id="description">Description</h3>
<p>La lecture des date, heure et nombres n&#39;est pas compliquée mais peut très vite devenir un réel casse-tête avec <span lang="en">VoiceOver</span>&nbsp;.</p>
<h4 id="lecture-des-dates-et-des-heures">Lecture des dates et des heures</h4>
<p>Si on met directement sous forme de texte la date ou l&#39;heure dans le <code>label</code>, on s&#39;aperçoit rapidement que le rendu n&#39;est pas naturel à l&#39;écoute.
</br><img style="max-width: 800px; height: auto; " src="./images/iOSdev/DateHeureNombres_10.png" />
</br>Il faut absolument formater les données en entrée pour obtenir une vocalisation descriptive naturelle et compréhensible.
</br><img style="max-width: 800px; height: auto; " src="./images/iOSdev/DateHeureNombres_4.png" /></p>
<pre><code class="objective-c">
    NSDateFormatter * dateFormatter = [[NSDateFormatter alloc]init];
    [dateFormatter setDateFormat:@"dd/MM/yyyy HH:mm"];

    NSDate * date = [dateFormatter dateFromString:@"01/04/2015 05:30"];

    dateLabel.text = [NSDateFormatter localizedStringFromDate:date
                                                    dateStyle:NSDateFormatterShortStyle
                                                    timeStyle:NSDateFormatterNoStyle];

    dateLabel.accessibilityLabel = [NSDateFormatter localizedStringFromDate:date
                                                                  dateStyle:NSDateFormatterMediumStyle
                                                                  timeStyle:NSDateFormatterNoStyle];


    hourLabel.text = [NSDateFormatter localizedStringFromDate:date
                                                    dateStyle:NSDateFormatterNoStyle
                                                    timeStyle:NSDateFormatterShortStyle];

    NSDateComponents * hourComponents = [[NSCalendar currentCalendar] components:NSCalendarUnitHour | NSCalendarUnitMinute
                                                                        fromDate:date];

    hourLabel.accessibilityLabel = [NSDateComponentsFormatter localizedStringFromDateComponents:hourComponents
                                                                                     unitsStyle:NSDateComponentsFormatterUnitsStyleSpellOut];
</code></pre><pre><code class="swift">
    let dateFormatter = DateFormatter()
    dateFormatter.dateFormat = "dd/MM/yyyy HH:mm"

    let date = dateFormatter.date(from: "01/04/2015 05:30")

    dateLabel.text = DateFormatter.localizedString(from: date!,
                                                   dateStyle: .short,
                                                   timeStyle: .none)

    dateLabel.accessibilityLabel = DateFormatter.localizedString(from: date!,
                                                                 dateStyle: .medium,
                                                                 timeStyle: .none)


    hourLabel.text = DateFormatter.localizedString(from: date!,
                                                   dateStyle: .none,
                                                   timeStyle: .short)

    let hourComponents = Calendar.current.dateComponents([.hour, .minute],
                                                         from: date!)
    hourLabel.accessibilityLabel = DateComponentsFormatter.localizedString(from: hourComponents,
                                                                           unitsStyle: .spellOut)
</code></pre>
<h4 id="lecture-des-nombres">Lecture des nombres</h4>
<p>En indiquant la valeur d&#39;un nombre directement dans le texte d&#39;un <code>label</code>, la vocalisation se fera sur chacun des chiffres présentés rendant la véritable valeur du nombre difficile à deviner.
</br><img style="max-width: 500px; height: auto; " src="./images/iOSdev/DateHeureNombres_8.png" />
</br>Comme pour les date et heure, il faut formater la donnée en entrée pour qu&#39;elle puisse être analysée et vocalisée selon la véritable valeur du nombre qu&#39;elle représente.
</br><img style="max-width: 700px; height: auto; " src="./images/iOSdev/DateHeureNombres_5.png" /></p>
<pre><code class="objective-c">
    NSNumber * numberValue = @54038921.7;

    NSNumberFormatter * numberFormatter = [[NSNumberFormatter alloc]init];
    numberFormatter.numberStyle = NSNumberFormatterDecimalStyle;

    numberLabel.text = [numberFormatter stringFromNumber:numberValue];

    numberLabel.accessibilityLabel = [NSNumberFormatter localizedStringFromNumber:numberValue
                                                                      numberStyle:NSNumberFormatterSpellOutStyle];
</code></pre><pre><code class="swift">
    let numberValue = NSNumber(value: 54038921.7)

    numberLabel.text = NumberFormatter.localizedString(from: numberValue,
                                                       number: .decimal)

    numberLabel.accessibilityLabel = NumberFormatter.localizedString(from: numberValue,
                                                                     number: .spellOut)
</code></pre>
<h4 id="lecture-des-num-ros-de-t-l-phone">Lecture des numéros de téléphone</h4>
<p>La problématique liée à la vocalisation d&#39;un numéro de téléphone est identique à celle des nombres puisqu&#39;elle s&#39;appuie entièrement sur le formatage à appliquer avec une prise en compte particulière des chiffres &quot;0&quot;.
</br>L&#39;exemple donné ci-dessous concerne la numérotation française avec une logique qui peut se décliner à n&#39;importe quel type de format de numérotation.
</br><img style="max-width: 550px; height: auto; " src="./images/iOSdev/DateHeureNombres_11.png" />
</br>L&#39;idée est de séparer chaque paire de chiffres par une virgule qui va fournir la ponctuation vocale.
</br><img style="max-width: 550px; height: auto; " src="./images/iOSdev/DateHeureNombres_6.png" /></p>
<pre><code class="objective-c">
    NSString * phoneNumberValue = @"06.11.22.33.06";
    NSArray * phoneNumberElts = [phoneNumberValue componentsSeparatedByString:@"."];

    NSNumberFormatter * nbFormatter = [[NSNumberFormatter alloc]init];
    nbFormatter.numberStyle = NSNumberFormatterSpellOutStyle;

    NSMutableString * spelledOutString = [[NSMutableString alloc]init];

    [phoneNumberElts enumerateObjectsUsingBlock:^(id  _Nonnull obj,
                                                  NSUInteger idx,
                                                  BOOL * _Nonnull stop) {
        NSString * elt = (NSString *)obj;

        if (idx != 0) {
            [spelledOutString appendString:@","];
        }

        if ([elt hasPrefix:@"0"]) {

            NSString * firstFigure = [nbFormatter stringFromNumber:@([[elt substringToIndex:1] integerValue])];
            NSString * secondFigure = [nbFormatter stringFromNumber:@([[elt substringFromIndex:1] integerValue])];

            [spelledOutString appendString:firstFigure];
            [spelledOutString appendString:secondFigure];

        } else {
            [spelledOutString appendString:[nbFormatter stringFromNumber:@([elt integerValue])]];
        }
    }];

    phoneNumberLabel.text = phoneNumberValue;
    phoneNumberLabel.accessibilityLabel = spelledOutString;
</code></pre><pre><code class="swift">
        let phoneNumberValue = "06.11.22.33.06"
        let phoneNumberElts = phoneNumberValue.components(separatedBy: ".")

        let nbFormatter = NumberFormatter()
        nbFormatter.numberStyle = .spellOut

        var spelledOutString = String()

        for (index, elt) in phoneNumberElts.enumerated() {

            if (index != 0) {
                spelledOutString.append(",")
            }

            if (elt.hasPrefix("0")) {

                let firstFigureValue = Int(String(elt[elt.startIndex]))!
                let firstFigure = nbFormatter.string(from: NSNumber(value:firstFigureValue))
                spelledOutString.append(firstFigure!)

                let secondFigureValue = Int(String(elt[elt.index(elt.startIndex, offsetBy: 1)]))!
                let secondFigure = nbFormatter.string(from: NSNumber(value:secondFigureValue))
                spelledOutString.append(secondFigure!)

            } else {

                let figure = nbFormatter.string(from: NSNumber(value:Int(elt)!))
                spelledOutString.append(figure!)
            }
        }

        phoneNumberLabel.text = phoneNumberValue
        phoneNumberLabel.accessibilityLabel = spelledOutString
</code></pre>

<h3 id="liens">Liens</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/accessibility/uiaccessibilitycontainer?language=objc"><code>UIAccessibilityContainer</code></a></li>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615143-shouldgroupaccessibilitychildren"><code>shouldGroupAccessibilityChildren</code></a></li>
</ul>
<h2 id="contr-le-de-s-lection">Contrôle de sélection</h2>
<h3 id="description">Description</h3>
<p>L&#39;utilisation du contrôle de sélection s&#39;articule autour du mode point et du mode élément définis ci-dessous.
</br><img style="max-width: 700px; height: auto; " src="./images/iOSdev/ControlesDeSelection.png" />
</br>La sélection des éléments avec le mode élément fonctionne globalement bien quand les éléments proposés sont natifs et que l&#39;application n&#39;est pas trop compliquée graphiquement.
</br>Il peut très bien arriver que ce mode de sélection ne suive pas la logique souhaitée et ne propose pas les éléments dans l&#39;ordre désiré.</p>
<h4 id="personnalisation-du-mode-l-ment">Personnalisation du mode élément</h4>
<p>La structure utilisée pour l&#39;exemple est présentée ci-dessous grâce à l&#39;<span lang="en">InterfaceBuilder</span> de Xcode :
</br><img style="max-width: 700px; height: auto; " src="./images/iOSdev/ControleDeSelectionIB_1.png" />
</br>Afin de personnaliser la sélection de ces éléments, on souhaite :</p>
<ul>
<li>Créer 2 groupes {Test_1 + Test_2 ; Btn 5 + Btn 6} sélectionnables en mode élément.</li>
<li>Avoir uniquement les éléments restants Btn 1 et Btn 2 accessibles séparément.</li>
</ul>
<pre><code class="objective-c">
@interface ViewController2 ()

@property (weak, nonatomic) IBOutlet UIStackView * btnsParentView;
@property (weak, nonatomic) IBOutlet UIButton * btn1;
@property (weak, nonatomic) IBOutlet UIButton * btn2;
@property (weak, nonatomic) IBOutlet UIButton * btn5;
@property (weak, nonatomic) IBOutlet UIButton * btn6;

@end


@implementation ViewController2
- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];

    //Création du premier groupe 'testWrap' en COMBINANT les boutons 'Test_1' et 'Test_2'.
    UIButton * testOneButton = [self.view viewWithTag:1];
    UIButton * testTwoButton = [self.view viewWithTag:2];
    CGRect testWrapFrame = CGRectUnion(testOneButton.frame, testTwoButton.frame);

    UIAccessibilityElement * testWrap = [[UIAccessibilityElement alloc]initWithAccessibilityContainer:self.view];

    testWrap.isAccessibilityElement = false;
    testWrap.accessibilityFrame = testWrapFrame;
    testWrap.accessibilityNavigationStyle = UIAccessibilityNavigationStyleCombined; //Property specifique au contrôle de sélection.
    testWrap.accessibilityElements = @[testOneButton, testTwoButton];


    //Création du second groupe 'secondGroup' en SÉPARANT les boutons 1 et 2.
    CGRect secondGroupRect = CGRectUnion(_btn1.frame, _btn2.frame);
    CGRect secondGroupFrame = [_btnsParentView convertRect:secondGroupRect
                                                    toView:self.view];
    UIAccessibilityElement * secondGroup = [[UIAccessibilityElement alloc]initWithAccessibilityContainer:_btnsParentView];

    secondGroup.isAccessibilityElement = false;
    secondGroup.accessibilityFrame = secondGroupFrame;
    secondGroup.accessibilityNavigationStyle = UIAccessibilityNavigationStyleSeparate;
    secondGroup.accessibilityElements = @[_btn1, _btn2];


    //Création du troisième groupe 'thirdGroup' en COMBINANT les boutons 5 et 6.
    CGRect thirdGroupRect = CGRectUnion(_btn1.frame, _btn2.frame);
    CGRect thirdGroupFrame = [_btnsParentView convertRect:thirdGroupRect
                                                   toView:self.view];
    UIAccessibilityElement * thirdGroup = [[UIAccessibilityElement alloc]initWithAccessibilityContainer:_btnsParentView];

    thirdGroup.isAccessibilityElement = false;
    thirdGroup.accessibilityFrame = thirdGroupFrame;
    thirdGroup.accessibilityNavigationStyle = UIAccessibilityNavigationStyleCombined;
    thirdGroup.accessibilityElements = @[_btn5, _btn6];


    self.view.accessibilityElements = @[testWrap, 
                                        secondGroup, 
                                        thirdGroup];
}
@end
</code></pre><pre><code class="swift">
class ViewController: UIViewController {

    @IBOutlet weak var btnsParentView: UIStackView!
    @IBOutlet weak var btn1: UIButton!
    @IBOutlet weak var btn2: UIButton!
    @IBOutlet weak var btn5: UIButton!
    @IBOutlet weak var btn6: UIButton!


    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        //Création du premier groupe 'testWrap' en COMBINANT les boutons 'Test_1' et 'Test_2'.
        let testOneButton = self.view.viewWithTag(1) as? UIButton
        let testTwoButton = self.view.viewWithTag(2) as? UIButton
        let testWrapFrame = testOneButton?.frame.union((testTwoButton?.frame)!)

        let testWrap = UIAccessibilityElement(accessibilityContainer: self.view)

        testWrap.isAccessibilityElement = false
        testWrap.accessibilityFrame = testWrapFrame!
        testWrap.accessibilityNavigationStyle = .combined   //Property specifique au contrôle de sélection.
        testWrap.accessibilityElements = [testOneButton!, testTwoButton!]


        //Création du second groupe 'secondGroup' en SÉPARANT les boutons 1 et 2.
        let secondGroupRect = btn1.frame.union(btn2.frame)
        let secondGroupFrame = btnsParentView.convert(secondGroupRect,
                                                      to: self.view)
        let secondGroup = UIAccessibilityElement(accessibilityContainer: btnsParentView)

        secondGroup.isAccessibilityElement = false
        secondGroup.accessibilityFrame = secondGroupFrame
        secondGroup.accessibilityNavigationStyle = .separate
        secondGroup.accessibilityElements = [btn1, btn2]


        //Création du troisième groupe 'thirdGroup' en COMBINANT les boutons 5 et 6.
        let thirdGroupRect = btn5.frame.union(btn6.frame)
        let thirdGroupFrame = btnsParentView.convert(thirdGroupRect,
                                                     to: self.view)
        let thirdGroup = UIAccessibilityElement(accessibilityContainer: btnsParentView)

        thirdGroup.isAccessibilityElement = false
        thirdGroup.accessibilityFrame = thirdGroupFrame
        thirdGroup.accessibilityNavigationStyle = .combined
        thirdGroup.accessibilityElements = [btn5, btn6]


        self.view.accessibilityElements = [testWrap,
                                           secondGroup, 
                                           thirdGroup]
    }
}
</code></pre>

<p></br>Le rendu de ce code est visualisable ci-dessous :
</br><img style="max-width: 1100px; height: auto; " src="./images/iOSdev/ControleDeSelection_1.png" />
</br>Les groupes créés permettent d&#39;accéder directement aux éléments qu&#39;ils contiennent dès qu&#39;ils sont activés.</p>
<h3 id="lien">Lien</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/objectivec/nsobject/1615200-accessibilitynavigationstyle"><code>accessibilityNavigationStyle</code></a></li>
</ul>
<h2 id="valeurs-contin-ment-ajustables">Valeurs continûment ajustables</h2>
<h3 id="description">Description</h3>
<p>Des éléments graphiques comme le <code>picker</code>, le <code>stepper</code> ou encore le <code>slider</code> permettent de changer de façon continue la valeur qu&#39;ils proposent de modifier.
</br><img style="max-width: 700px; height: auto; " src="./images/iOSdev/ValeursAjustables_1.png" />
</br>Quand on ne voit pas la modification dynamique se faire ou qu&#39;on n&#39;en est pas informé vocalement, il devient très compliqué de pouvoir se rendre compte de ce qui se passe.
</br>La méthodologie utilisée pour solutionner cette problématique pour une personne non voyante utilisant <span lang="en">VoiceOver</span> reste la même pour ces trois éléments, c&#39;est pourquoi seul le cas du <code>stepper</code> sera traité.
</br></br>L&#39;implémentation de cet objet graphique est relativement simple mais son utilisation avec VoiceOver requiert quelques ajustements pour obtenir un meilleur parcours utilisateur.
</br>Si on crée un <span lang="en">stepper</span> auquel on ajoute un <code>label</code> pour afficher sa valeur, on obtient le résultat suivant :
</br><img style="max-width: 900px; height: auto; " src="./images/iOSdev/ValeursAjustables_2.png" />
</br>À partir de là, on s&#39;aperçoit que le focus doit être déplacé pour :</p>
<ul>
<li>Atteindre chacun des deux éléments permettant d&#39;augmenter ou de diminuer la valeur.</li>
<li>Connaître la valeur obtenue via le <code>label</code>.</li>
</ul>
<p>De plus, il n&#39;y a aucune indication de changement de la valeur en temps réel.
</br>Certes, rien n&#39;est bloquant mais, si l&#39;on souhaite réellement mettre en place cet objet avec un rendu le plus fluide possible, ces quelques remarques conduisent tout naturellement à concevoir différemment cet exemple pourtant si simple.
</br></br>L&#39;idée est de pouvoir changer la valeur du <span lang="en">stepper</span>, être informé de son changement et d&#39;en connaître la valeur par le biais d&#39;un unique objet.
</br>Il faut donc <strong>regrouper le <span lang="en">stepper</span> et le <code>label</code></strong> <em>(à l&#39;aide d&#39;une <span lang="en">StackView</span> par exemple)</em> puis associer <strong><code>UIAccessibilityTraitAdjustable</code></strong> à ce nouveau groupe accessible.
</br>Ce nouveau <code>trait</code> va permettre de modifier de façon continue la valeur de l&#39;objet auquel il est associé en implémentant <strong>OBLIGATOIREMENT</strong> les méthodes <code>accessibilityIncrement()</code> et <code>accessibilityDecrement()</code>.
</br></br>On élimine ainsi toutes les contraintes rencontrées initialement et on obtient, en plus, un <code>hint</code> lié à ce nouveau <code>trait</code> qui indique la manipulation nécessaire au bon fonctionnement.
</br><img style="max-width: 1000px; height: auto; " src="./images/iOSdev/ValeursAjustables_3.png" /></p>
<ul>
<li>Pour aboutir à ce résultat, on définit tout d&#39;abord une classe conteneur {<span lang="en">stepper</span> + <code>label</code>} qui va permettre la délégation pour la modification ultérieure de la valeur.</li>
</ul>
<pre><code class="objective-c">
-===== StepperWrapper.h =====-
NS_ASSUME_NONNULL_BEGIN
@class StepperWrapper;

@protocol AdjustableForAccessibilityDelegate <NSObject>

- (void)adjustableDecrementForView:(StepperWrapper *)view;
- (void)adjustableIncrementForView:(StepperWrapper *)view;
@end


@interface StepperWrapper : UIStackView
@property(nonatomic,weak) id<AdjustableForAccessibilityDelegate> delegate;
@end
NS_ASSUME_NONNULL_END


-===== StepperWrapper.m =====-
NS_ASSUME_NONNULL_BEGIN
@implementation StepperWrapper

- (instancetype)initWithCoder:(NSCoder *)coder {

    self = [super initWithCoder:coder];

    self.isAccessibilityElement = YES;
    self.accessibilityTraits = UIAccessibilityTraitAdjustable;

    return self;
}

- (void)accessibilityDecrement {
    [_delegate adjustableDecrementForView:self];
}

- (void)accessibilityIncrement {
    [_delegate adjustableIncrementForView:self];
}
@end
NS_ASSUME_NONNULL_END
</code></pre><pre><code class="swift">
protocol AdjustableForAccessibilityDelegate: class {
    func adjustableDecrementFor(_ view: StepperWrapper)
    func adjustableIncrementFor(_ view: StepperWrapper)
}


class StepperWrapper: UIStackView {

    weak var delegate: AdjustableForAccessibilityDelegate?

    override init(frame: CGRect) {
        super.init(frame: frame)
    }

    required init(coder: NSCoder) {
        super.init(coder: coder)

        isAccessibilityElement = true
        accessibilityTraits = UIAccessibilityTraitAdjustable
    }

    override func accessibilityDecrement() {
        delegate?.adjustableDecrementFor(self)
    }

    override func accessibilityIncrement() {
        delegate?.adjustableIncrementFor(self)
    }
}
</code></pre>

<ul>
<li>Ensuite, il faut redéfinir les 2 méthodes du protocole implémenté pour indiquer ce qu&#39;elles doivent réaliser avant de mettre à jour la valeur modifiée et de la présenter vocalement dans le <span lang="en">ViewController</span>.</li>
</ul>
<pre><code class="objective-c">
NS_ASSUME_NONNULL_BEGIN
@interface ViewController () <AdjustableForAccessibilityDelegate>

@property (weak, nonatomic) IBOutlet UIStepper * stepperNoAccess;
@property (weak, nonatomic) IBOutlet UILabel * stepperValueNoAccess;

@property (weak, nonatomic) IBOutlet StepperWrapper * stepperStackViewAccess;
@property (weak, nonatomic) IBOutlet UIStepper * stepperAccess;
@property (weak, nonatomic) IBOutlet UILabel * stepperValueAccess;
@end


@implementation ViewController
- (void)viewDidLoad {
    [super viewDidLoad];

    _stepperStackViewAccess.delegate = self;
    _stepperStackViewAccess.accessibilityLabel = @"Compteur pour adapter la valeur";
    _stepperStackViewAccess.accessibilityValue = _stepperValueAccess.text;
}

- (void)adjustableDecrementForView:(StepperWrapper *)view {
    _stepperAccess.value  -= _stepperAccess.stepValue;
    [self updateStepperValue];
}

- (void)adjustableIncrementForView:(StepperWrapper *)view {
    _stepperAccess.value  += _stepperAccess.stepValue;
    [self updateStepperValue];
}

- (void) updateStepperValue {
    _stepperValueAccess.text = [NSString stringWithFormat:@"Valeur = %0.1f",_stepperAccess.value];
    _stepperStackViewAccess.accessibilityValue = _stepperValueAccess.text;
}
@end
NS_ASSUME_NONNULL_END
</code></pre><pre><code class="swift">
class ViewController: UIViewController, AdjustableForAccessibilityDelegate {

    @IBOutlet weak var stepperStackViewAccess: StepperWrapper!
    @IBOutlet weak var stepperAccess: UIStepper!
    @IBOutlet weak var stepperValueAccess: UILabel!


    override func viewDidLoad() {
        super.viewDidLoad()

        stepperStackViewAccess.delegate = self
        stepperStackViewAccess.accessibilityLabel = "Compteur pour adapter la valeur"
        stepperStackViewAccess.accessibilityValue = stepperValueAccess.text
    }

    func adjustableDecrementFor(_ view: StepperWrapper) {
        stepperAccess.value -= stepperAccess.stepValue
        updateStepperValue()
    }

    func adjustableIncrementFor(_ view: StepperWrapper) {
        stepperAccess.value += stepperAccess.stepValue
        updateStepperValue()
    }

    private func updateStepperValue() {
        stepperValueAccess.text = "Valeur = \(stepperAccess.value)"
        stepperStackViewAccess.accessibilityValue = stepperValueAccess.text
    }
}
</code></pre>
<h3 id="lien">Lien</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/uiaccessibilitytraitadjustable"><code>UIAccessibilityTraitAdjustable</code></a></li>
</ul>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="les-crit-res-incontournables-sous-android-pour-la-conception">Les critères incontournables sous Android pour la conception</h1>
<script>$(document).ready(function () {

    setBreadcrumb([{"label":"Critères incontournables sous Android", "url": "./criteria-android.html"},
        {"label":"Pour la conception"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-android-conception.html", "expanded": true}, 
        {"label":"Pour le développement","url":"criteria-android-dev.html"}
    ]);        
});</script>

<p><span data-menuitem="criteria-android"></span></p>
<p>Ce guide a pour objectif de présenter les différents critères d’accessibilité à respecter pour obtenir une application Android accessible. Chaque critère est présenté en expliquant pour qui ce critère est important, quand on peut le mettre en place, pourquoi il est important et la règle d’accessibilité qui en découle. Les critères sont explicités par des exemples de code et des captures d’exemples réels. Nous vous invitons à installer l’application <a href="./mdan.html">mDAN</a> pour obtenir des exemples fonctionnels avec <span lang="en">TalkBack</span>, le lecteur d’écran d’Android, et d’autres outils d’assistance. Pour plus d’information sur l’outil (comment l’activer, comment s’en servir…) nous vous invitons à vous référer à la <a href="./screen-reader-talkback.html">section concernant <span lang="en">TalkBack</span></a>.</p>
<h2 id="images">Images</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors de la conception et pendant le développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Les images sont très souvent utilisées pour transmettre de nombreuses informations. Comme le dit l’adage, une image vaut mille mots. Les non-voyants ne pouvant voir les images, il est important que celles-ci possèdent une alternative qui donne toutes les informations portées par l’image.<br>Dans le cas d’une image contenant du texte, l’alternative sera ledit texte. Dans le cas d’une image qui apporte des informations sous la forme d’un graphe, dessin ou autre, l’alternative devra contenir toutes les informations nécessaires présentes dans l’image.</p>
<p>Certaines images sont utilisées à des fins décoratives. Ces images ne nécessitent pas d’alternative. Par défaut sous Android, les images ne sont pas vocalisées par le lecteur d’écran <span lang="en">TalkBack</span>.<br>Les illustrations de l’application sont également considérées comme des images décoratives. La règle est donc la même&nbsp;: il n’y a pas d’alternative textuelle à ajouter.<br>Les icônes sont, a contrario, largement utilisées en tant que bouton pour des fonctionnalités diverses. Elles ont donc besoin d’alternatives textuelles pertinentes.</p>
<p>L’alternative d’une image est renseignée via l’attribut <code>contentDescription</code> (disponible pour tout élément héritant de <code>View</code>).</p>
<p><strong>À vérifier&nbsp;:</strong></p>
<ul>
<li>les images portant de l’information restituent cette information à travers leur alternative textuelle,</li>
<li>les images décoratives n’ont pas d’alternative textuelle.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre l’accès à l’information incluse dans une image pour des utilisateurs qui n’y ont pas accès. Point bloquant&nbsp;: une image sans description textuelle est inexploitable par des personnes ayant des déficiences visuelles ou celles n’affichant pas les images (mobile, faible bande passante...).</p>
<p><strong>Exemples&nbsp;:</strong></p>
<p><img src="./images/image_ex.png" alt="exemple complet d’image décorative et d’icône informative" width="400"></p>
<p>En décomposant l’image&nbsp;:</p>
<ul>
<li><img src="./images/montagnard.png" alt="exemple d’image décorative" width="256"> pas de <code>contentDescription</code></li>
<li><img src="./images/edit.png" alt="exemple d’icône informative - paramètres" width="48"> <code>imageView.setContentDescription(&quot;paramètres&quot;)</code></li>
<li><img src="./images/settings.png" alt="exemple d’icône informative - édition" width="48"> <code>imageView.setContentDescription(&quot;éditer le nom de l’image&quot;)</code></li>
</ul>
<h2 id="couleurs">Couleurs</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde, en particulier les personnes malvoyantes, les seniors et les personnes avec des problèmes de vision (daltonisme, vision des contrastes, etc.)<br><strong>Quand&nbsp;: </strong>  dès la phase de conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Les couleurs jouent un rôle très important dans la transmission des informations. On associe certaines couleurs à des concepts ou à des sensations, mais il ne faut pas oublier qu’une partie de la population ne distingue pas correctement les couleurs.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>La couleur ne doit jamais être le seul canal de transmission d’une information, d’indication d’une action, de sollicitation d’une réponse ou de distinction d’un élément. </li>
<li>Le contraste entre les couleurs de texte et de fond doit aussi être suffisant (7:1 sur mobile, 4,5:1 pour les textes larges, à calculer avec <span lang="en">Colour Constrast Analyzer</span> par exemple).</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong> </p>
<p>Faciliter la lecture à tous les utilisateurs, déficients visuels ou personnes dans un environnement lumineux défavorable (en mobilité).<br>Permettre aux utilisateurs ne distinguant pas les couleurs (daltoniens, déficients visuels, déficients auditifs, utilisateurs de mobile en luminosité extérieure... ) d’accéder tout de même à l’information par d’autres moyens.</p>
<p><strong>Outil&nbsp;: </strong>
L’application <a href="http://www.paciellogroup.com/resources/contrastanalyser/"><span lang="en">Colour Constrast Analyzer</span></a> permet de mesurer rapidement des niveaux de contraste de couleurs (gratuit pour Mac et Windows).  </p>
<p>L’application <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.accessibility.auditor&amp;hl=fr"><span lang="en">AccessibilityScanner</span></a> permet de tester directement vos applications sur certains critères d’accessibilité et notamment les couleurs. Disponible pour Android 6+. </p>
<p><strong>Exemple de contraste non valide&nbsp;: </strong><br>Le texte &quot;film | 20h40 ...&quot; ne présente pas un contraste suffisant. Celui-ci ne sera pas lisible par tous les utilisateurs.  </p>
<p><img src="images/contraste.png" alt="capture d’écran présentant du texte dont le contraste n’est pas suffisant">   </p>
<p><strong>Exemple de passage d’information par la couleur valide et non valide&nbsp;: </strong> </p>
<p><img src="./images/couleur.png" alt="exemple de passage d’information par la couleur valide et non valide" width="300"></p>
<h2 id="alternative-textuelle">Alternative textuelle</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> dès la conception, à la rédaction du contenu et pendant le développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Les alternatives textuelles sont au cœur de l’accessibilité sur mobile. Grâce à elles, un utilisateur non-voyant peut utiliser une application sans perte d’information.  </p>
<p>Tout comme pour les images, il est important de renseigner une alternative textuelle lorsque l’information n’est pas disponible pour les personnes malvoyantes/non-voyantes. C’est le cas des composants fournissant de l’information par la couleur, la forme, la position, le son... Sur mobile, tous les composants peuvent recevoir une alternative textuelle, il est donc possible d’enrichir la vocalisation native d’un élément, y compris celle d’un simple texte.  </p>
<p>La place sur mobile étant réduite, on utilise bien souvent des abréviations pour les textes. Mais cependant, cela pose un problème aux utilisateurs de synthèse vocale qui restituent les abréviations telles quelles. Pour corriger ces vocalisations, il suffit de placer une alternative textuelle sur le texte. Cette alternative contient le texte non abrégé. À noter que <span lang="en">TalkBack</span> sait reconnaître quelques abréviations courantes. Par exemple, «&nbsp;etc.&nbsp;» et «&nbsp;Dr.&nbsp;» sont bien vocalisées «&nbsp;et cetera&nbsp;» et «&nbsp;Docteur&nbsp;».  </p>
<p>Certaines images sont régulièrement associées à du texte pour donner une information. C’est le cas notamment des «&nbsp;messages non lus&nbsp;» où une infobulle donne le nombre de messages à lire et où une image donne l’information «&nbsp;message&nbsp;». Dans ce cas, la solution consiste à placer une alternative textuelle sur le texte qui donne toutes les informations nécessaires. Par exemple&nbsp;: «&nbsp;3 messages non lus&nbsp;». On peut également placer cette alternative sur l’image, mais dans ce cas, il faut penser à rendre le texte «&nbsp;invisible&nbsp;» pour le lecteur d’écran.</p>
<p>L’alternative textuelle d’un élément est renseignée via l’attribut <code>contentDescription</code> (disponible pour tout élément héritant de <code>View</code>). Pour les boutons présents dans l’<code>ActionBar</code> (ou <code>ToolBar</code>), c’est l’attribut <code>title</code> qu’il faut renseigner.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les éléments de l’application qui nécessitent une alternative en possèdent bien une,</li>
<li>Les alternatives textuelles de l’application sont explicites et compréhensibles.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs ayant des déficiences sensorielles (déficients visuels, déficients auditifs, utilisateurs de mobile en luminosité extérieure, en milieu bruyant, malentendant… ) d’accéder aux informations véhiculées par l’application par d’autres biais.</p>
<p><strong>Exemple&nbsp;: </strong></p>
<p>Ci-dessous, un exemple fréquent d’une icône qu’on couple avec du texte (infobulle) pour ajouter de l’information. Dans notre cas, l’icône «&nbsp;mail&nbsp;» couplée à l’infobulle de valeur «&nbsp;3&nbsp;» nous fait comprendre que nous avons «&nbsp;3 mails non lus&nbsp;». Si aucune alternative textuelle n’est ajoutée, 2 vocalisations seront lues «&nbsp;bouton sans libellé&nbsp;» et «&nbsp;3&nbsp;». On comprend bien ici l’importance d’ajouter des alternatives textuelles.<br><img src="./images/alt.png" alt="exemple d’icône couplée à du texte qui nécessite une alternative textuelle" width="80" class="pull-left"></p>
<pre><code>containerView.setContentDescription("3 mails non lus, bouton"); //On ajoute l’alternative complète (construite dynamiquement au préalable) sur le conteneur
containerView.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES); //Le conteneur est une View, non visible par l’<abbr>API</abbr> d’accessibilité par défaut. On le rend visible.
mailImageView.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO); //On masque le bouton-icône pour éviter une redondance d’information
infobulleTextView.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO); //On masque le texte pour éviter une redondance d’information</code></pre>


<h2 id="titre-et-en-t-te">Titre et en-tête</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde<br><strong>Quand&nbsp;: </strong> dès la conception et à la rédaction du contenu.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>Le titre de la page est le premier élément qui est vocalisé ou vu sur un écran mobile. Il facilite la navigation pour tout le monde&nbsp;: à tout moment, on sait où on se trouve dans l’application.<br>Une erreur commune est de mettre un titre unique pour toutes les pages d’une application (ou même pas de titre du tout).</p>
<p><strong>À vérifier&nbsp;: </strong> </p>
<ul>
<li>Chaque écran doit avoir un titre qui lui est propre ou qui permet de se repérer dans la navigation (couplé avec le bouton de retour),</li>
<li>Les éléments identifiés visuellement comme des en-têtes doivent être déclarés à l’<abbr>API</abbr> d’accessibilité comme tels.</li>
</ul>
<p><strong> Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs d’identifier le sujet d’une page, de se repérer et de se faire une idée précise du contenu de la page sans avoir à le lire.</p>
<p><strong>Exemple non valide&nbsp;: </strong></p>
<p><img src="./images/header.png" alt="exemple de titre non pertinent (absence de titre)" width="300"> </p>
<h2 id="-tat-des-l-ments">État des éléments</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Si un élément ne restitue pas à la vocalisation son statut, sa nature ou son état, l’utilisateur de <span lang="en">TalkBack</span> est dans l’impossibilité de comprendre ce qui se passe à l’écran. Ne pas préciser qu’une zone est dépliée ou que l’on se trouve face à un système d’onglets sont des exemples très fréquents.  </p>
<p>Grand classique de ce problème&nbsp;: les onglets. Par défaut, les onglets proposés dans Android ne donnent aucune information sur leur nature et sur leur état. Il est donc à la charge du développeur de donner ces informations à l’utilisateur via les attributs d’accessibilité correspondants (<code>contentDescription</code>). En l’occurrence, une bonne alternative pour le titre d’un onglet peut être&nbsp;: &quot;onglet, titre de l’onglet - 1 sur 3 - sélectionné&quot;  </p>
<p>Autre classique d’élément qui ne restitue pas par défaut son état&nbsp;: les zones dépliables. Encore une fois, c’est grâce à l’alternative textuelle du titre de la zone dépliable que l’on peut donner à l’utilisateur de <span lang="en">TalkBack</span> le statut de celle-ci. </p>
<p>Pour renseigner ce genre d’information, il faut utiliser l’attribut <code>contentDescription</code> (disponible pour tout élément héritant de <code>View</code>).</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Tout élément dont le statut est modifié durant l’utilisation de l’application doit restituer son état à travers son alternative textuelle. Par exemple, un élément qui peut être sélectionné/non sélectionné doit restituer son état à travers une alternative textuelle.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs de lecteurs d’écran d’avoir accès aux informations des composants, leur état, leur nature afin qu’ils puissent les utiliser sans difficultés.</p>
<p><strong>Exemple&nbsp;: </strong></p>
<p><img src="./images/tabs.png" alt="exemple d’onglets qui ne restituent pas leur état et nature par défaut" width="400"><br>Pour obtenir un exemple de code qui corrige ce problème, nous vous invitons à vous référer à la page du <a href="./criteria-android-dev.html#alternatives-textuelles">guide développeur</a> correspondante.</p>
<h2 id="composant-standard">Composant standard</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde.<br><strong>Quand&nbsp;: </strong> en phase de sélection des briques logicielles et lors des développements.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>L’accessibilité est prise en compte dans les composants natifs (la plupart du temps). De plus, l’utilisation de composants standards permet à l’utilisateur de se retrouver dans une situation et un comportement habituels. La navigation dans une interface standard est donc plus confortable.  </p>
<p>Utiliser au maximum les composants natifs en modifiant leur apparence. Si aucun composant standard ne permet de répondre au besoin, créer un composant dédié basé sur un composant standard en veillant à conserver la cohérence de navigation et l’accessibilité.  </p>
<p>Un exemple fréquent est l’utilisation d’un composant personnalisé pour le menu latéral de navigation (<code>NavigationDrawer</code>). Certains des palliatifs disponibles sur Internet ne sont absolument pas accessibles avec un lecteur d’écran. Malheureusement, cela rend de fait toute l’application non accessible.</p>
<p><strong>Objectif utilisateur&nbsp;: </strong> </p>
<p>Permet à tous les utilisateurs d’interagir plus intuitivement avec l’interface.</p>
<p><strong>Objectif technique&nbsp;: </strong></p>
<p>Améliore globalement la maintenabilité. Réduit les temps de développement. </p>
<h2 id="zone-de-clic">Zone de clic</h2>
<p><strong>Cible&nbsp;: </strong> pour tous et en particulier les personnes avec des déficiences motrices<br><strong>Quand&nbsp;: </strong> dès la phase de conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Une taille insuffisante pour la zone d’action d’un composant peut empêcher certains utilisateurs de profiter pleinement de l’application. Cela peut engendrer des frustrations qui peuvent conduire à la désinstallation de l’application. Chaque élément cliquable de l’application doit donner à l’utilisateur une taille suffisante pour sa zone d’action.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Google définit pour son système une taille de zone de clic minimum de 48dp (en hauteur ET largeur, avec 8 dp de marge autour de l’élément).</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Améliorer le confort de navigation au toucher (<i lang="en">touch</i>).</p>
<p><strong>Outil&nbsp;: </strong></p>
<p>L’application <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.accessibility.auditor&amp;hl=fr"><span lang="en">AccessibilityScanner</span></a> permet de tester directement vos applications sur certains critères d’accessibilité et notamment la taille des zones de clic. Disponible pour Android 6+. </p>
<p><strong>Exemple valide&nbsp;: </strong> </p>
<p>Dans les exemples ci-dessous, le cadre noir correspond à la taille de la zone interactive.<br><img src="./images/clic_ok.png" alt="exemple de composant interactif avec une zone d’interaction assez large" width="300"></p>
<p><strong>Exemple non-valide&nbsp;: </strong>  </p>
<p><img src="./images/clic_ko.png" alt="exemple de composant interactif avec une zone d’interaction trop petite" width="300"></p>
<h2 id="el-ment-fant-me">Elément fantôme</h2>
<p><strong>Cible&nbsp;: </strong> les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Bien qu’invisibles à l’écran, certains éléments peuvent être lus par le lecteur d’écran (éléments positionnés en dehors de la zone visible ou masqués par d’autres éléments). La superposition d’écrans est quelque chose de courant sur mobile, mais cela engendre des problèmes d’accessibilité très lourds à corriger si elle n’est pas faite correctement dès le départ. Un lecteur d’écran tel que <span lang="en">TalkBack</span> est capable de lire les informations d’une vue qui est placée «&nbsp;sous&nbsp;» une autre. Mais si l’utilisateur n’est plus capable d’interagir avec cette vue, cela perturbe totalement sa navigation et celle-ci devient vite impossible.  </p>
<p>Grand classique du problème&nbsp;: les fragments. Un fragment est un composant qu’on peut facilement superposer par-dessus un autre sous Android. Une mauvaise utilisation des fragments peut aboutir à une navigation impossible avec le lecteur d’écran.  </p>
<p>Consulter l’article sur l’<a href="https://developer.android.com/guide/components/fragments.html">utilisation des fragments</a> pour plus d’informations.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li><span lang="en">TalkBack</span> ne doit pas vocaliser d’éléments indésirables appartenant à un autre écran que celui en cours de consultation.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre la navigation dans l’application sans avoir d’élément perturbant, non utilisable, sur la vue courante.</p>
<p><strong>Exemple non-valide&nbsp;: </strong>  </p>
<p>Dans l’exemple ci-dessous, le cadre vert correspond au focus de <span lang="en">TalkBack</span>. Ce dernier vocalise (la vocalisation est affichée en bas de l’écran sur la capture) un contenu se trouvant derrière la vue active.<br><img src="./images/ghost.png" alt="exemple d’élément fantôme" width="300"></p>
<h2 id="taille-des-textes">Taille des textes</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors de la conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>L’utilisateur a la possibilité d’augmenter la taille du texte via une option d’accessibilité. Afin que l’application réagisse correctement à cette option, il est nécessaire d’utiliser des tailles de texte dynamiques qui s’ajusteront en fonction des paramètres utilisateurs. Un texte trop petit sera facilement ignoré par certains utilisateurs malvoyants.  </p>
<p>L’application devra mettre en œuvre des tailles de textes dynamiques, s’assurer de la bonne réactivité des zones d’affichage au grossissement de texte (conteneurs qui s’adaptent à la taille de leur contenu). Il faut aussi assurer une taille minimum pour les textes (14sp).  </p>
<p>Afin de permettre à l’option «&nbsp;grand caractère&nbsp;» d’interagir correctement avec l’application, plusieurs points sont à respecter durant les développements&nbsp;:</p>
<ul>
<li>Utiliser une taille de police dynamique&nbsp;: le «&nbsp;sp&nbsp;». Cette unité, spécifique à Android, permet d’obtenir une taille de police en fonction de la densité de pixel de l’écran. Il est plus que recommandé de l’utiliser pour les textes, ne serait-ce que pour obtenir un design uniforme sur tous les types de <i lang="en">devices</i> Android. </li>
<li>Gérer les débordements de contenu&nbsp;: une erreur courante est d’utiliser une taille de texte dynamique («&nbsp;sp&nbsp;» donc) mais de ne pas faire attention au conteneur. Si le texte grossit, le conteneur doit en faire autant pour ne pas qu’il y ait de débordement. On peut parfaitement jouer avec le <code>min-height</code> et le <code>height</code> des conteneurs pour obtenir un résultat correct (le <code>height</code> à <code>wrap_content</code> et le <code>min-height</code> à la hauteur voulue par défaut).</li>
</ul>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>L’application réagit correctement à l’option grand caractère,</li>
<li>Les textes de l’application ont une taille minimum de 14sp.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs (malvoyants, en mobilité, seniors...) d’augmenter la taille du texte sans perte d’information pour accéder plus aisément au contenu.</p>
<p><strong>Outil&nbsp;: </strong>
L’application <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.accessibility.auditor&amp;hl=fr"><span lang="en">AccessibilityScanner</span></a> permet de tester directement vos applications sur certains critères d’accessibilité et notamment la taille des textes. Disponible pour Android 6+.</p>
<p><strong>Exemple&nbsp;: </strong></p>
<p><img src="./images/text.png" alt="exemple d’utilisation de taille de police dynamique" width="300"> </p>
<h2 id="contr-le-de-contenu">Contrôle de contenu</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles et cognitives.<br><strong>Quand&nbsp;: </strong> lors de la conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>Sur mobile, les lecteurs d’écran essayent de transmettre au maximum à l’utilisateur les changements de contexte. Dans certains cas, cela peut donner des vocalisations permanentes, et donc inaudibles, ou empêcher toute action de l’utilisateur.<br>L’utilisateur doit rester maître du contenu à tout instant. C’est particulièrement vrai avec le contenu interactif. Il faut donc éviter par exemple qu’une vidéo ne se lance directement en plein écran, qu’une vidéo ne se lance directement sans une action au préalable de l’utilisateur, qu’un carrousel ne défile de manière automatique, etc.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les contenus interactifs peuvent être maîtrisés par l’utilisateur (présence d’un bouton pause sur carrousel automatique, bouton accessible pour sortir du mode plein-écran etc)</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs de rester maîtres de l’application. Permettre à l’utilisateur de lecteur d’écran d’éviter une pollution sonore qui peut nuire à sa navigation. </p>
<p><strong>Objectif technique&nbsp;: </strong></p>
<p>Améliorer le référencement naturel.</p>
<h2 id="changement-de-contenu">Changement de contenu</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>Lorsque du contenu est modifié dynamiquement à la suite d’une action de l’utilisateur, il faut le notifier à la synthèse vocale. Sans retour vocal, l’utilisateur ne sait pas qu’une action a été déclenchée.<br>Sur une page, si du contenu est modifié dynamiquement suite à une action utilisateur, il est important que le lecteur d’écran soit notifié afin qu’il déclenche une vocalisation. Par exemple, les listes qui se rafraîchissent, ou un compteur de temps.</p>
<p>Une simple vocalisation peut suffire à avertir l’utilisateur. Il est très facile de déclencher des vocalisations avec <span lang="en">TalkBack</span>. Attention: nous parlons de la vocalisation si <span lang="en">TalkBack</span> est activé et non pas de <abbr>TTS</abbr> (Text To Speech) qui peut fonctionner indépendamment du statut de <span lang="en">TalkBack</span>. Il suffit de faire appel à la méthode <code>announceForAccessibility</code> en lui passant en paramètre l’<code>id</code> de la chaîne de caractère à vocaliser. À noter&nbsp;: la méthode <code>announceForAccessibility</code> est disponible sur tout élément qui hérite de <code>View</code> et se fait dans la langue du système.</p>
<p>Il est également possible de spécifier à une vue qu’elle est une région <i lang="en">live</i>, c’est-à-dire que son contenu est susceptible d’être modifié dynamiquement et qu’elle doit dans ce cas prévenir l’<abbr>API</abbr> d’accessibilité. Cela aura pour conséquence de générer des vocalisations avec <span lang="en">TalkBack</span> par exemple. Un exemple type d’utilisation&nbsp;: sur un formulaire, si l’utilisateur fait une erreur et qu’un message d’erreur apparaît, la vue contenant le message doit être définie comme une région <i lang="en">live</i>.  Il faut passer par la méthode <code>setAccessibilityLiveRegion</code> qui prend en paramètre un mode pour la région <i lang="en">live</i>. Il existe 3 modes&nbsp;:</p>
<ul>
<li><code>ACCESSIBILITY_LIVE_REGION_NONE</code>&nbsp;: cette vue n’est pas une région <i lang="en">live</i>. C’est la valeur par défaut de la plupart des vues.</li>
<li><code>ACCESSIBILITY_LIVE_REGION_POLITE</code>&nbsp;: en cas de changement dans la vue, des vocalisations sont effectuées sur les changements. Ces vocalisations sont «&nbsp;polies&nbsp;»&nbsp;; elles sont moins prioritaires que les vocalisations système par exemple.</li>
<li><code>ACCESSIBILITY_LIVE_REGION_ASSERTIVE</code>&nbsp;: en cas de changement dans la vue, des vocalisations seront effectuées sur les changements. Ces vocalisations sont «&nbsp;<i lang="en">rude</i>&nbsp;»&nbsp;; elles sont prioritaires et immédiatement vocalisées. À noter, la méthode <code>setAccessibilityLiveRegion</code> est disponible sur tout élément qui hérite de <code>View</code>.</li>
</ul>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Avec un lecteur d’écran, s’assurer que les modifications dynamiques dans les pages sont bien vocalisées.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Donner accès aux modifications des informations de l’application aux utilisateurs de lecteurs d’écran.</p>
<h2 id="-i-lang-en-scroll-i-horizontal"><i lang="en">Scroll</i> horizontal</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> dès la phase de conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Un <i lang="en">scroll</i> horizontal peut être très difficile à détecter si aucun visuel n’aide l’utilisateur à comprendre qu’il existe plusieurs pages.<br>Ne pas hésiter à afficher un élément pour indiquer un <i lang="en">scroll</i> horizontal (des «&nbsp;points&nbsp;» par exemple). Quand cela est nécessaire, ajouter également des boutons «&nbsp;suivant&nbsp;» et «&nbsp;précédent&nbsp;».</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les scrolls horizontaux sont indiqués visuellement</li>
<li>Avec le lecteur d’écran activé, un mécanisme permet de passer de page en page lorsqu’un <i lang="en">scroll</i> horizontal est présent.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Donner une indication visuelle aux utilisateurs lors de la présence de <i lang="en">scrolls</i> horizontaux. Permettre aux utilisateurs de lecteur d’écran d’utiliser les <i lang="en">scrolls</i> horizontaux.</p>
<div class="sideToSide row">
<div class="col-sm-6 col-xs-12">
<strong>Exemple valide&nbsp;:</strong>

<img src="./images/scroll_h1.png" alt="exemple de scroll horizontal accessible" width="300">
</div>
<div class="col-sm-6 col-xs-12">
<strong>Exemple non-valide&nbsp;:</strong>

<img src="./images/scroll_h2.png" alt="exemple de scroll horizontal non accessible" width="300">
</div>
</div>

<h2 id="formulaire">Formulaire</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors de la conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Lier les champs de formulaires avec leurs labels apporte une vocalisation supplémentaire qui permet à l’utilisateur de comprendre quoi remplir lorsqu’il arrive sur un champ de formulaire.  </p>
<p>Il existe 2 grandes techniques pour réaliser cette liaison&nbsp;:</p>
<ul>
<li><code>labelFor</code>&nbsp;: permet de spécifier à une vue qu’elle est le label d’une autre vue. Cette méthode prend en paramètre l’<code>id</code> de la vue que l’on labellise. On peut utiliser cette méthode avec quasiment tout type de champ de formulaire. Utilisable depuis le <abbr>xml</abbr> <code>android:labelFor</code> ou le code <code>setLabelFor</code>.</li>
<li><code>hint</code>&nbsp;: permet d’ajouter un texte d’exemple quand le champ de texte est vide. Cette méthode ne marche que pour les <code>TextView</code>. Prend en paramètre l’<code>id</code> d’une chaîne de caractère. Utilisable depuis le <abbr>xml</abbr> <code>android:hint</code> ou le code <code>setHint</code>.</li>
</ul>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>les champs de formulaire doivent être liés à un label si celui-ci est visible, sinon un <code>hint</code> est présent</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Améliorer la navigation et la compréhension globale de la page, car les champs de formulaires décrivant le contenu attendu  facilitent leur saisie par les utilisateurs déficients visuels.</p>
<h2 id="ordre-de-lecture">Ordre de lecture</h2>
<p><strong>Cible&nbsp;: </strong> les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>L’ordre de lecture permet à l’utilisateur de lecteur d’écran de se repérer dans la navigation et d’assurer une cohérence fonctionnelle. Il est donc important d’y faire attention.  </p>
<p>Par défaut, l’ordre de lecture de la synthèse vocale prend en compte plusieurs paramètres&nbsp;: la lecture «&nbsp;logique&nbsp;» (en France), soit de gauche à droite et de haut en bas, et la lecture du <abbr>xml</abbr> (ordre de déclaration des éléments). Il existe cependant certain cas où le lecteur d’écran n’arrive pas à déterminer un ordre et dans ce cas, il utilise l’ordre de définition des éléments, ce qui peut amener des vocalisations incohérentes.  </p>
<p>Il est tout à fait possible de redéfinir cet ordre de lecture avec deux attributs&nbsp;:</p>
<ul>
<li><code>accessibilityTraversalAfter</code>&nbsp;: prend un <code>id</code> en paramètre et permet de spécifier à la vue qu’elle doit être «&nbsp;vue&nbsp;» par l’accessibilité après la vue passée en paramètre.</li>
<li><code>accessibilityTraversalBefore</code>&nbsp;: prend un <code>id</code> en paramètre et permet de spécifier à la vue qu’elle doit être «&nbsp;vue&nbsp;» par l’accessibilité avant la vue passée en paramètre.  </li>
</ul>
<p>À noter&nbsp;: ces attributs peuvent être utilisés directement dans le <abbr>xml</abbr> mais également dans le code via les méthodes <code>setAccessibilityTraversalAfter</code> et <code>setAccessibilityTraversalBefore</code>. Ces méthodes sont disponibles pour tout élément qui hérite de <code>View</code>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>L’ordre de lecture (celui de <span lang="en">TalkBack</span>) est logique et cohérent.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Assurer un ordre de lecture logique et cohérent aux utilisateurs de lecteurs d’écran pour leur assurer une complète compréhension du contenu.</p>
<p><strong>Exemple&nbsp;:</strong><br>Dans cet exemple, l’ordre de lecture par défaut dépend complètement de l’implémentation et de l’ordre de déclaration des éléments. Dans ce cas-ci&nbsp;: <code>vol+, vol-, 1, 2, 3, 4, 5, 6, 7, 8, 9, p+, p-, 0</code>. Un ordre de lecture plus cohérent serait <code>1, 2, 3, 4, 5, 6, 7, 8, 9, 0, vol+, vol-, p+, p-</code>.  </p>
<p><img src="./images/order.png" alt="exemple de scroll horizontal accessible" width="300">  </p>
<pre><code>volupButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.remote0).getId());
voldownButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.volup).getId());
chaineplusButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.voldown).getId());
chainemoinsButton.setAccessibilityTraversalAfter(myView.findViewById(R.id.chaineplus).getId());
[...]</code></pre>


<h2 id="navigation-au-focus">Navigation au focus</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes motrices qui utilisent un clavier pour naviguer.<br><strong>Quand&nbsp;: </strong> lors de la conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>La navigation au focus est très utile pour les personnes qui présentent des difficultés motrices ou cognitives. Cette navigation permet de passer d’élément interactif en élément interactif (élément sur lequel on peut effectuer une action). Elle correspond à la navigation que l’on peut faire avec un clavier Bluetooth lié à un smartphone.</p>
<p>Pour gérer la navigation au focus, il faut s’assurer de 3 choses&nbsp;:  </p>
<ul>
<li>Permettre le focus sur les éléments interactifs&nbsp;: la navigation au focus ne concerne que les éléments interactifs. Si, par exemple, votre application possède des vues <i lang="en">custom</i> cliquables, il faut s’assurer que ces vues soient focusables en positionnant l’attribut <code>focusable</code> à <code>true</code>.</li>
<li>Gérer l’ordre du focus&nbsp;: à travers les options <code>nextFocusDown</code>, <code>nextFocusUp</code>, <code>nextFocusRight</code> et <code>nextFocusLeft</code>, vous pouvez spécifier quelle vue doit prendre le focus selon l’utilisation des flèches bas, haut, droit et gauche.</li>
<li>Gérer l’affichage du focus&nbsp;: tout élément interactif peut recevoir le focus, il faut donc que le <code>state_focused</code> soit défini et permette de distinguer d’un seul coup d’œil quel élément a le focus.</li>
</ul>
<p>À noter&nbsp;: <code>nextFocusDown</code>, <code>nextFocusUp</code>, <code>nextFocusRight</code>, <code>nextFocusLeft</code>, <code>focusable</code> ainsi que d’autres options de gestion du focus sont accessibles directement dans le <abbr>xml</abbr> ou dans le code à travers les méthodes correspondantes.</p>
<p>Pour plus d’information sur la <a href="http://developer.android.com/guide/topics/ui/accessibility/apps.html#focus-nav">gestion du focus sous Android</a>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>L’ordre de navigation au focus (clavier) est logique et cohérent.</li>
<li>À la navigation au focus (clavier), il est possible de déterminer visuellement l’élément qui a le focus</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre l’utilisation de l’application avec un clavier, dock tablette ou tout autre dispositif de navigation séquentielle.</p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="les-crit-res-incontournables-sous-ios-pour-la-conception">Les critères incontournables sous iOS pour la conception</h1>
<script>$(document).ready(function () {

    setBreadcrumb([{"label":"Les critères incontournables sous iOS", "url": "./criteria-ios.html"},
        {"label":"Pour la conception"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html", "expanded": true}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"}
    ]);    
});</script>

<p><span data-menuitem="criteria-ios"></span></p>
<p>Ce guide a pour objectif de présenter les différents critères d’accessibilité à respecter pour obtenir une application iOS accessible. Chaque critère est présenté en expliquant pour qui ce critère est important, quand on peut le mettre en place, pourquoi il est important et la règle d’accessibilité qui en découle. Les critères sont explicités par des exemples de code et des captures d’exemples réels. Nous vous invitons à installer l’application <a href="./mdan.html">mDAN</a> pour obtenir des exemples fonctionnels avec <span lang="en">VoiceOver</span>, le lecteur d’écran d’iOS, et d’autres outils d’assistance. Pour plus d’information sur l’outil (comment l’activer, comment s’en servir…) nous vous invitons à vous référer à la <a href="./screen-reader-voiceover.html">section correspondant à <span lang="en">VoiceOver</span></a>.  </p>
<p>À noter&nbsp;: les quelques exemples de code dans cette section seront présentés en Swift.</p>
<h2 id="images">Images</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors de la conception et pendant le développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Les images sont très souvent utilisées pour transmettre de nombreuses informations. Comme le dit l’adage, une image vaut mille mots. Les non-voyants ne pouvant voir les images, il est important que celles-ci possèdent une alternative qui donne toutes les informations portées par l’image.<br>Dans le cas d’une image contenant du texte, l’alternative sera ledit texte. Dans le cas d’une image qui apporte des informations sous la forme d’un graphe, dessin ou autre, l’alternative devra contenir toutes les informations nécessaires présentes dans l’image.    </p>
<p>Certaines images sont utilisées à des fins décoratives. Ces images ne nécessitent pas d’alternative. Par défaut sous iOS, les images ne sont pas vocalisées par le lecteur d’écran <span lang="en">VoiceOver</span>.<br>Les illustrations de l’application sont également considérées comme des images décoratives. La règle est donc la même&nbsp;: il n’y a pas d’alternative textuelle à ajouter.<br>Les icônes sont, a contrario, largement utilisées en tant que boutons pour des fonctionnalités diverses. Elles ont donc besoin d’alternatives textuelles pertinentes.  </p>
<p>L’alternative d’une image est renseignée via l’attribut <code>accessibilityLabel</code> (via le protocole <code>UIAccessibility</code> implémenté par tout élément standard dérivant de <code>UIView</code>).</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>les images portant de l’information restituent cette information à travers leur alternative textuelle,</li>
<li>les images décoratives n’ont pas d’alternative textuelle.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong> </p>
<p>Permettre l’accès à l’information incluse dans une image pour des utilisateurs qui n’y ont pas accès. Point bloquant&nbsp;: une image sans description textuelle est inexploitable par des personnes ayant des déficiences visuelles ou celles n’affichant pas les images (mobile, faible bande passante…).</p>
<p><strong>Exemples&nbsp;: </strong>      </p>
<p><img src="./images/image_ex.png" alt="exemple complet d’image décorative et d’icône informative" width="400">  </p>
<p>En décomposant l’image&nbsp;:  </p>
<ul>
<li><img src="./images/montagnard.png" alt="exemple d’image décorative" width="256"> pas d’<code>accessibilityLabel</code>  </li>
<li><img src="./images/edit.png" alt="exemple d’icône informative - paramètres" width="48"> <code>buttonView.accessibilityLabel = &quot;example_image_edit_accessibilityLabel&quot;.localized</code>  </li>
<li><img src="./images/settings.png" alt="exemple d’icône informative - édition" width="48"> <code>buttonView.accessibilityLabel = &quot;example_image_settings_accessibilityLabel&quot;.localized</code></li>
</ul>
<h2 id="couleurs">Couleurs</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde, en particulier les personnes malvoyantes, les seniors et les personnes avec des problèmes de vision (daltonisme, vision des contrastes, etc.)<br><strong>Quand&nbsp;: </strong>  dès la phase de conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Les couleurs jouent un rôle très important dans la transmission des informations. On associe certaines couleurs à des concepts ou à des sensations, mais il ne faut pas oublier qu’une partie de la population ne distingue pas correctement les couleurs.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>La couleur ne doit jamais être le seul canal de transmission d’une information, d’indication d’une action, de sollicitation d’une réponse ou de distinction d’un élément. </li>
<li>Le contraste entre les couleurs de texte et de fond doit aussi être suffisant (7:1 sur mobile, 4,5:1 pour les textes larges, à calculer avec <span lang="en">Colour Contrast Analyzer</span> par exemple).</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong> </p>
<p>Faciliter la lecture à tous les utilisateurs, déficients visuels ou personnes dans un environnement lumineux défavorable (en mobilité).<br>Permettre aux utilisateurs ne distinguant pas les couleurs (daltoniens, déficients visuels, déficients auditifs, utilisateurs de mobile en luminosité extérieure…), d’accéder tout de même à l’information par d’autres moyens.</p>
<p><strong>Outil&nbsp;: </strong>
L’application <a href="http://www.paciellogroup.com/resources/contrastanalyser/"><span lang="en">Colour Contrast Analyzer</span></a> permet de mesurer rapidement des niveaux de contraste de couleurs (gratuit pour mac et windows).  </p>
<p><strong>Exemple de contraste non valide&nbsp;: </strong><br>Le texte «&nbsp;film | 20h40 …&nbsp;» ne présente pas un contraste suffisant. Celui-ci ne sera pas lisible par tous les utilisateurs.  </p>
<p><img src="images/contraste.png" alt="capture d’écran présentant du texte dont le contraste n’est pas suffisant">   </p>
<p><strong>Exemple de passage d’information par la couleur valide et non valide&nbsp;: </strong> </p>
<p><img src="./images/couleur_ios.png" alt="exemple de passage d’information par la couleur valide et non valide" width="300"></p>
<h2 id="alternative-textuelle">Alternative textuelle</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> dès la conception, à la rédaction du contenu et pendant le développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Les alternatives textuelles sont au cœur de l’accessibilité sur mobile. Grâce à elles, un utilisateur non voyant peut utiliser une application sans perte d’information.  </p>
<p>Tout comme pour les images, il est important de renseigner une alternative textuelle lorsque l’information n’est pas disponible pour les personnes malvoyantes/non-voyantes. C’est le cas des composants fournissant de l’information par la couleur, la forme, la position, le son… Sur mobile, tous les composants peuvent recevoir une alternative textuelle, il est donc possible d’enrichir la vocalisation native d’un élément, y compris celle d’un simple texte.  </p>
<p>La place sur mobile étant réduite, on utilise bien souvent des abréviations pour les textes. Mais cependant, cela pose un problème aux utilisateurs de synthèse vocale qui restitue les abréviations telles quelles. Pour corriger ces vocalisations, il suffit de placer une alternative textuelle sur le texte. Cette alternative contient le texte non abrégé. À noter que <span lang="en">VoiceOver</span> sait reconnaître quelques abréviations courantes. Par exemple, «&nbsp;etc.&nbsp;» est bien vocalisé «&nbsp;et cetera&nbsp;».  </p>
<p>Certaines images sont régulièrement associées à du texte pour donner une information. C’est le cas notamment des «&nbsp;messages non lus&nbsp;» où une infobulle donne le nombre de messages à lire et où une image donne l’information «&nbsp;message&nbsp;». Dans ce cas, la solution consiste à placer une alternative textuelle sur le texte qui donne toutes les informations nécessaires. Par exemple&nbsp;: «&nbsp;3 messages non lus&nbsp;». On peut également placer cette alternative sur l’image, mais dans ce cas, il faut penser à rendre le texte «&nbsp;invisible&nbsp;» pour le lecteur d’écran.</p>
<p>L’alternative textuelle d’un élément est renseignée via les attributs <code>accessibilityLabel</code>, <code>accessibilityHint</code>, <code>accessibilityValue</code> et <code>accessibilityTrait</code> (via le protocole <code>UIAccessibility</code> implémenté par tout élément standard dérivant de <code>UIView</code>).<br>L’ordre de vocalisation est toujours le suivant : <code>label</code>, <code>value</code>, <code>trait</code> et <code>hint</code>. Cet ordre ne peut pas être changé et la vocalisation est réalisée en une seule fois, à l’arrivée sur l’élément.<br>Pour plus d’informations techniques sur ces attributs, nous vous conseillons de lire la section des <a href="./criteria-ios-dev.html#alternatives-textuelles">alternatives textuelles dans le guide développeur</a>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les éléments de l’application qui nécessitent une alternative en possède bien une,</li>
<li>Les alternatives textuelles de l’application sont explicites et compréhensibles.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs ayant des déficiences sensorielles (déficients visuels, déficients auditifs, utilisateurs de mobile en luminosité extérieure, en milieu bruyant, malentendant…) d’accéder aux informations véhiculées par l’application par d’autres biais.</p>
<p><strong>Exemple&nbsp;: </strong>      </p>
<p>Ci-dessous, un exemple fréquent d’une icône qu’on couple avec du texte (infobulle) pour ajouter de l’information. Dans notre cas, l’icône «&nbsp;mail&nbsp;» couplée à l’infobulle de valeur «&nbsp;3&nbsp;» nous fait comprendre que nous avons «&nbsp;3 mails non lus&nbsp;». Si aucune alternative textuelle n’est ajoutée, 2 vocalisations seront lues «&nbsp;bouton sans libellé&nbsp;» et «&nbsp;3&nbsp;». On comprend bien ici l’importance d’ajouter des alternatives textuelles.<br><img src="./images/alt.png" alt="exemple d’icône couplée à du texte qui nécessite une alternative textuelle" width="80" class="pull-left"></p>
<pre><code class="swift">cell.mailImageView.accessibilityLabel = cell.badgeLabel.text! + " " + "exemple_textualAlternative_textImage_accessibilityLabel".localized //On ajoute l’alternative complète
cell.badgeLabel.isAccessibilityElemement = false //On masque le bouton-icône pour éviter une redondance d’information</code></pre>


<h2 id="titre-et-en-t-te">Titre et en-tête</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde<br><strong>Quand&nbsp;: </strong> dès la conception et à la rédaction du contenu.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>Le titre de la page est le premier élément qui est vocalisé ou vu sur un écran mobile. Il facilite la navigation pour tout le monde&nbsp;: à tout moment, on sait où on se trouve dans l’application.<br>Une erreur commune est de mettre un titre unique pour toutes les pages d’une application (ou même pas de titre du tout).</p>
<p>Les en-tête iOS permettent des structurer les pages en apportant une information supplémentaire. Cette information est utile à l’<abbr>API</abbr> d’accessibilité car <span lang="en">VoiceOver</span> est capable de naviguer d’en-tête en en-tête (molette de <span lang="en">VoiceOver</span>, mode en-tête). Cela permet de se déplacer plus rapidement dans la page.<br>Pour définir un élément en tant qu’en-tête, il faut positionner son attribut <code>accessibilityTraits</code> à la valeur <code>accessibilityTraitHeader</code>.</p>
<p><strong>À vérifier&nbsp;: </strong> </p>
<ul>
<li>Chaque écran doit avoir un titre qui lui est propre ou qui permet de se repérer dans la navigation (couplé avec le bouton de retour),</li>
<li>Les éléments identifiés visuellement comme des en-têtes doivent être déclarés à l’<abbr>API</abbr> d’accessibilité comme tels.</li>
</ul>
<p><strong> Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs d’identifier le sujet d’une page, de se repérer et se faire une idée précise du contenu de la page sans avoir à le lire. Permettre une navigation plus aisée.</p>
<p><strong>Exemple non valide&nbsp;: </strong>      </p>
<p><img src="./images/header_ios.png" alt="exemple de titre non pertinent (absence de titre)" width="300"> </p>
<h2 id="-tat-des-l-ments">État des éléments</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Si un élément ne restitue pas à la vocalisation son statut, sa nature ou son état, l’utilisateur de <span lang="en">VoiceOver</span> est dans l’impossibilité de comprendre ce qui se passe à l’écran. Ne pas préciser qu’une zone est dépliée ou que l’on se trouve face à un système d’onglets sont des exemples très fréquents.  </p>
<p>Par défaut, les onglets proposés dans iOS sont parfaitement accessibles. Cependant, il est fréquent de proposer des onglets personnalisés afin d’avoir un rendu différent. Il est donc à la charge du développeur de donner les informations de nature et d’états des onglets à l’utilisateur via les attributs d’accessibilité correspondants. Notons toutefois qu’il serait possible de rendre accessibles ces onglets personnalisés comme cela est montré avec l’exemple de la section «&nbsp;composants standards&nbsp;».</p>
<p>Autres éléments classiques qui ne restituent pas par défaut leur état&nbsp;: les zones dépliables. Encore une fois, c’est grâce à l’alternative textuelle du titre de la zone dépliable que l’on peut donner à l’utilisateur de <span lang="en">VoiceOver</span> le statut de celle-ci. </p>
<p>Pour renseigner ce genre d’information, il faut utiliser les attributs <code>accessibilityLabel</code> et <code>accessibilityTrait</code>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Tout élément dont le statut est modifié durant l’utilisation de l’application doit restituer son état à travers son alternative textuelle. Par exemple, un élément qui peut être sélectionné/non sélectionné doit restituer son état à travers une alternative textuelle.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs de lecteurs d’écran d’avoir accès aux informations des composants, leur état, leur nature afin qu’ils puissent les utiliser sans difficultés.</p>
<p><strong>Exemple&nbsp;: </strong>      </p>
<p><img src="./images/expandable_list.png" alt="exemple de liste dépliable qui nécessite une alternative textuelle" width="250" class="pull-left"></p>
<pre><code class="swift">if(accessibleIsFold) {
   accordionHeaderView.accessibilityHint = "example_elementState_foldArea_open_accessibilityHint".localized //"Cliquer pour ouvrir la section"
}else{
  accordionHeaderView.accessibilityHint = "example_elementState_foldArea_close_accessibilityHint".localized //"Cliquer pour fermer la section"
}</code></pre>


<h2 id="composant-standard">Composant standard</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde.<br><strong>Quand&nbsp;: </strong> en phase de sélection des briques logicielles et lors des développements.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>L’accessibilité est prise en compte dans les composants natifs (la plupart du temps). De plus, l’utilisation de composants standards permet à l’utilisateur de se retrouver dans une situation et un comportement habituels. La navigation dans une interface standard est donc plus confortable.  </p>
<p>Utiliser au maximum les composants natifs en modifiant leur apparence. Si aucun composant standard ne permet de répondre au besoin, créer un composant dédié basé sur un composant standard en veillant à conserver la cohérence de navigation et l’accessibilité.  </p>
<p><strong>Objectif utilisateur&nbsp;: </strong> </p>
<p>Permet à tous les utilisateurs d’interagir plus intuitivement avec l’interface.</p>
<p><strong>Objectif technique&nbsp;: </strong></p>
<p>Améliore globalement la maintenabilité. Réduit les temps de développement. </p>
<h2 id="zone-de-clic">Zone de clic</h2>
<p><strong>Cible&nbsp;: </strong> pour tous et en particulier les personnes avec des déficiences motrices<br><strong>Quand&nbsp;: </strong> dès la phase de conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Une taille insuffisante pour la zone d’action d’un composant peut empêcher certains utilisateurs de profiter pleinement de l’application. Cela peut engendrer des frustrations qui peuvent conduire à la désinstallation de l’application. Chaque élément cliquable de l’application doit donner à l’utilisateur une taille suffisante pour sa zone d’action.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Apple définit pour son système une taille de zone de clic minimum de 44pt (en hauteur ET largeur) ; <a href="https://developer.apple.com/ios/human-interface-guidelines/visual-design/layout/">lien vers les recommandations Apple</a></li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Améliorer le confort de navigation au toucher (<i lang="en">touch</i>).</p>
<p><strong>Exemple valide&nbsp;: </strong> </p>
<p>Dans les exemples ci-dessous, le cadre noir correspond à la taille de la zone interactive.<br><img src="./images/clic_ok.png" alt="exemple de composant interactif avec une zone d’interaction assez large" width="300"></p>
<p><strong>Exemple non-valide&nbsp;: </strong>  </p>
<p><img src="./images/clic_ko.png" alt="exemple de composant interactif avec une zone d’interaction trop petite" width="300"></p>
<h2 id="el-ment-fant-me">Elément fantôme</h2>
<p><strong>Cible&nbsp;: </strong> les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong>  </p>
<p>Bien qu’invisibles à l’écran, certains éléments peuvent être lus par le lecteur d’écran (éléments positionnés en dehors de la zone visible ou masqués par d’autres éléments). La superposition d’écrans est quelque chose de courant sur mobile, mais cela engendre des problèmes d’accessibilité très lourds à corriger si elle n’est pas faite correctement dès le départ. Un lecteur d’écran tel que <span lang="en">VoiceOver</span> est capable de lire les informations d’une vue qui est placée «&nbsp;sous&nbsp;» une autre. Mais si l’utilisateur n’est plus capable d’interagir avec cette vue, cela perturbe totalement sa navigation et celle-ci devient vite impossible.  </p>
<p>Un exemple fréquent d’élément fantôme survient lors de la création de composant personnalisé tel que des «&nbsp;<span lang="en">alert dialog</span>&nbsp;» (notification utilisateur). Notons toutefois que ce genre de composant personnalisé est tout à fait susceptible d’être accessible. Nous vous invitons à lire la section correspondante dans la <a href="./criteria-ios-dev.html#masquer-des-l-ments-l-accessibilit-">partie développeur</a>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li><span lang="en">VoiceOver</span> ne doit pas vocaliser d’éléments indésirables appartenant à un autre écran que celui en cours de consultation.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre la navigation dans l’application sans avoir d’élément perturbant, non utilisable, sur la vue courante.</p>
<p><strong>Exemple non-valide&nbsp;: </strong>  </p>
<p>Dans l’exemple ci-dessous, l’alerte personnalisée présente ce problème de vue fantôme. En effet, avec <span lang="en">VoiceOver</span> activé, il est possible de «&nbsp;lire&nbsp;» les éléments situés en dessous, comme nous le montre le focus de <span lang="en">VoiceOver</span> (en noir sur l’image)<br><img src="./images/ghost_ios.png" alt="exemple d’élément fantôme" width="300"></p>
<h2 id="contr-le-de-contenu">Contrôle de contenu</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles et cognitives.<br><strong>Quand&nbsp;: </strong> lors de la conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>Sur mobile, les lecteurs d’écran essayent de transmettre au maximum à l’utilisateur les changements de contexte. Dans certains cas, cela peut donner des vocalisations permanentes, et donc inaudibles, ou empêcher toute action de l’utilisateur.<br>L’utilisateur doit rester maître du contenu à tout instant. C’est particulièrement vrai avec le contenu interactif. Il faut donc éviter par exemple qu’une vidéo ne se lance directement en plein écran, qu’une vidéo ne se lance directement sans une action au préalable de l’utilisateur, qu’un carrousel défile de manière automatique, etc.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les contenus interactifs peuvent être maîtrisés par l’utilisateur (pause sur carrousel automatique, bouton accessible pour sortir du mode plein-écran etc)</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Permettre aux utilisateurs de rester maître de l’application. Permettre à l’utilisateur de lecteur d’écran d’éviter une pollution sonore qui peut nuire à sa navigation. </p>
<p><strong>Objectif technique&nbsp;: </strong></p>
<p>Améliorer le référencement naturel.</p>
<h2 id="changement-de-contenu">Changement de contenu</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong> </p>
<p>Lorsque du contenu est modifié dynamiquement à la suite d’une action de l’utilisateur, il faut le notifier à la synthèse vocale. Sans retour vocal, l’utilisateur ne sait pas qu’une action a été déclenchée.<br>Sur une page, si du contenu est modifié dynamiquement suite à une action utilisateur, il est important que le lecteur d’écran soit notifié afin qu’il déclenche une vocalisation. Par exemple, les listes qui se rafraîchissent, ou un compteur de temps.</p>
<p>Pour déclencher une vocalisation, il faut envoyer une notification à l’<abbr>API</abbr> d’accessibilité via la méthode <code>UIAccessibilityPostNotification</code> avec en paramètre la notification permettant de déclencher une vocalisation <code>UIAccessibilityAnnouncementNotification</code> et la chaîne de caractère à vocaliser.  </p>
<p>Il est également conseillé de notifier l’<abbr>API</abbr> d’accessibilité lorsqu’un changement de contexte survient. Pour ce faire, il faut envoyer une notification de modification à l’<abbr>API</abbr> d’accessibilité via la méthode <code>UIAccessibilityPostNotification</code>.<br>Il existe plusieurs notifications de modification, mais les deux plus utiles sont&nbsp;:  </p>
<ul>
<li><code>UIAccessibilityLayoutChangedNotification</code>&nbsp;: permet de spécifier à l’<abbr>API</abbr> d’accessibilité qu’une partie de la page a été modifiée.</li>
<li><code>UIAccessibilityScreenChangedNotification</code>&nbsp;: permet d’annoncer un changement global de la page.</li>
</ul>
<p>Pour plus d’information technique sur ces méthodes, nous vous invitons à regarder la section correspondante dans le <a href="./criteria-ios-dev.html#informer-d-une-modification-sur-la-page">guide développeur pour iOS</a>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Avec un lecteur d’écran, s’assurer que les modifications dynamiques dans les pages sont bien vocalisées.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Donner accès aux modifications des informations de l’application aux utilisateurs de lecteur d’écran.</p>
<h2 id="-i-lang-en-scroll-i-horizontal"><i lang="en">Scroll</i> horizontal</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> dès la phase de conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Un <i lang="en">scroll</i> horizontal peut être très difficile à détecter si aucun visuel n’aide l’utilisateur à comprendre qu’il existe plusieurs pages.<br>Ne pas hésiter à afficher un élément pour indiquer un <i lang="en">scroll</i> horizontal (les &quot;points&quot; d’un <code>UIPageControl</code>). Quand cela est nécessaire, ajouter également des boutons «&nbsp;suivant&nbsp;» et «&nbsp;précédent&nbsp;».</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les <i lang="en">scrolls</i> horizontaux sont indiqués visuellement</li>
<li>Avec le lecteur d’écran activé, un mécanisme permet de passer de page en page lorsqu’un <i lang="en">scroll</i> horizontal est présent.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Donner une indication visuelle aux utilisateurs lors de la présence de <i lang="en">scrolls</i> horizontaux. Permettre aux utilisateurs de lecteur d’écran d’utiliser les <i lang="en">scrolls</i> horizontaux.</p>
<div class="sideToSide row">
<div class="col-sm-6 col-xs-12">
<strong>Exemple valide&nbsp;:</strong>

<img src="./images/scroll_ios_h1.png" alt="exemple de scroll horizontal accessible" width="300">
</div>
<div class="col-sm-6 col-xs-12">
<strong>Exemple non-valide&nbsp;:</strong>

<img src="./images/scroll_ios_h2.png" alt="exemple de scroll horizontal non accessible" width="300">
</div>
</div>

<h2 id="formulaire">Formulaire</h2>
<p><strong>Cible&nbsp;: </strong> tout le monde et en particulier les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors de la conception et lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>Lier les champs de formulaires avec leurs labels apporte une vocalisation supplémentaire qui permet à l’utilisateur de comprendre quoi remplir lorsqu’il arrive sur un champ de formulaire.  </p>
<p>Sous iOS, on apporte une information supplémentaire sur les champs de formulaire via son alternative textuelle, soit l’attribut <code>accessibilityLabel</code>.</p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>les champs de formulaire doivent restituer leurs labels</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Améliorer la navigation en améliorant la compréhension globale de la page, les champs de formulaires décrivant le contenu attendu.</p>
<h2 id="ordre-de-lecture">Ordre de lecture</h2>
<p><strong>Cible&nbsp;: </strong> les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>L’ordre de lecture permet à l’utilisateur de lecteur d’écran de se repérer dans la navigation et d’assurer une cohérence fonctionnelle. Il est donc important d’y faire attention.  </p>
<p>Par défaut, l’ordre de lecture de la synthèse vocale prend en compte plusieurs paramètres&nbsp;: la lecture «&nbsp;logique&nbsp;» (en France), soit de gauche à droite et de haut en bas. Il existe cependant certains cas où le lecteur d’écran n’arrive pas à déterminer un ordre et, dans ce cas, il utilise l’ordre de définition des éléments, ce qui peut amener des vocalisations incohérentes.  </p>
<p>Redéfinir l’ordre de lecture dans <span lang="en">VoiceOver</span> s’effectue en respectant le protocole <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibilityContainer_Protocol/"><code>UIAccessibilityContainer</code></a>. L’idée est d’avoir un tableau des éléments de la vue qui définit l’ordre de lecture des éléments. Il est bien souvent nécessaire d’utiliser l’attribut <code>shouldGroupAccessibilityElement</code> afin d’avoir un ordre précis, mais pour une partie seulement de la vue (le reste étant l’ordre naturel de lecture).  </p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>L’ordre de lecture (celui de <span lang="en">VoiceOver</span>) est logique et cohérent.</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Assurer un ordre de lecture logique et cohérent aux utilisateurs de lecteur d’écran  pour leur assurer une complète compréhension du contenu.</p>
<p><strong>Exemple&nbsp;:</strong><br>Dans cet exemple, l’ordre de lecture par défaut dépend complètement de l’implémentation et de l’ordre de déclaration des éléments. Dans ce cas-ci&nbsp;: <code>1, 4, 7, 2, 5, 8, 0, 3, 6, 9, vol+, vol-, p+, p-</code>. Un ordre de lecture plus cohérent serait <code>1, 2, 3, 4, 5, 6, 7, 8, 9, 0, vol+, vol-, p+, p-</code>.  </p>
<p><img src="./images/order.png" alt="exemple de scroll horizontal accessible" width="300">  </p>
<pre><code>remoteView.isAccessibilityElement = false
remoteView.shouldGroupAccessibilityChildren = true
remoteView.accessibilityElements = []
remoteView.accessibilityElements?.append(oneButton)
remoteView.accessibilityElements?.append(twoButton)
remoteView.accessibilityElements?.append(threeButton)
remoteView.accessibilityElements?.append(fourButton)
[…]</code></pre>


<h2 id="langue">Langue</h2>
<p><strong>Cible&nbsp;: </strong> les personnes déficientes visuelles.<br><strong>Quand&nbsp;: </strong> lors du développement.</p>
<p><strong>Description&nbsp;: </strong></p>
<p>La vocalisation donnée par <span lang="en">VoiceOver</span> s’effectue, par défaut, dans la langue du système du mobile. Il arrive parfois que certain mots/textes d’une application soient dans une langue différente. Afin que la vocalisation soit audible, il faut déclarer ces textes dans la langue correspondante.  </p>
<p>Afin de modifier la langue de prononciation de <span lang="en">VoiceOver</span> pour un mot ou un texte, il existe l’attribut <code>accessibilityLanguage</code>. Disponible via le protocole <code>UIAccessibility</code>. </p>
<p><strong>À vérifier&nbsp;: </strong></p>
<ul>
<li>Les mots/textes dans une langue différente de celle du reste de l’application sont bien vocalisés dans leur langue</li>
</ul>
<p><strong>Objectif utilisateur&nbsp;: </strong></p>
<p>Assurer une compréhension des textes de l’application. </p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="les-crit-res-incontournables-sous-android">Les critères incontournables sous Android</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Les critères incontournables sous Android"}]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-android-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-android-dev.html"}
    ]);    
});</script>

<p><span data-menuitem="criteria-android"></span></p>
<h2 id="pour-la-conception">Pour la conception</h2>
<p>Ce socle de critères destiné aux applications mobiles Android Orange permettent d’éviter les erreurs d’accessibilité.<br>La mise en œuvre de ce socle doit permettre d’obtenir à coup sûr un site accessible. Ce socle pose les fondations qui permettent de s’engager dans une démarche de mise en accessibilité.</p>
<p>Le respect de la charte Orange pour Android, document disponible sur <a href="http://design.orange.com/">le site de la marque Orange</a> est un prérequis à l’utilisation de ce socle.
Certains points déjà présents dans la charte Orange (utilisation des couleurs notamment) n’ont pas été repris dans cette liste de critères.</p>
<h2 id="pour-le-d-veloppement">Pour le développement</h2>
<p>Les critères incontournables pour le développement ont pour vocation d’aider les développeurs avec les principales options d’accessibilité du <abbr>SDK</abbr> Android. À travers différentes catégories, ce guide explique comment utiliser les attributs et méthodes d’accessibilité et propose des liens vers la documentation officielle de Google.</p>
<p><div class="col-xs-12">
    <div class="row">
        <div class="mobileImg col-xs-12 col-md-6 col-lg-4">
            <h2 class="sr-only">Critères incontournables sous Android pour la conception</h2><br>            <a href="./criteria-android-conception.html" class="btn btn-info">
                <img src="./images/android.png" alt="">
                <div>Critères incontournables sous Android pour la conception</div>
            </a>
        </div>
        <div class="mobileImg col-xs-12 col-md-6 col-lg-4">
            <h2 class="sr-only">Critères incontournables sous Android pour le développement</h2><br>            <a href="./criteria-android-dev.html" class="btn btn-info">
                <img src="./images/android.png" alt="">
                <div>Critères incontournables sous Android pour le développement</div>
            </a>
        </div><br>    </div>
    &nbsp;&nbsp;
</div>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></p>

<h1 id="les-crit-res-incontournables-sous-ios">Les critères incontournables sous iOS</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Les critères incontournables sous iOS"}]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"}
    ]);    
});</script>

<p><span data-menuitem="criteria-ios"></span></p>
<h2 id="-pour-la-conception-criteria-ios-conception-html-"><a href="./criteria-ios-conception.html">Pour la conception</a></h2>
<p>Ce socle de critères destiné aux applications mobiles iOS Orange pose les fondations qui permettent de s’engager dans une démarche de mise en accessibilité.
</br>Le respect de la charte Orange pour iOS, document disponible sur <a href="http://design.orange.com/">le site de la marque Orange</a>, est un prérequis à l’utilisation de ce socle.
</br>Certains points déjà présents dans la charte Orange (utilisation des couleurs notamment) n’ont pas été repris dans cette liste de critères.</p>
<h2 id="-pour-le-d-veloppement-criteria-ios-dev-html-"><a href="./criteria-ios-dev.html">Pour le développement</a></h2>
<p>Les critères incontournables pour le développement ont pour vocation d’aider les développeurs avec les principales options d’accessibilité du <abbr>SDK</abbr> iOS.
</br>À travers différentes catégories, ce guide explique comment utiliser les attributs et méthodes d’accessibilité et propose des liens vers la documentation officielle d&#39;Apple.</p>
<h2 id="-wwdc-criteria-ios-wwdc-html-"><a href="./criteria-ios-wwdc.html">WWDC</a></h2>
<p>Cette section regroupe des présentations concernant l&#39;accessibilité faites par Apple à la World Wide Developers Conference.
</br>Chacune de ces présentations est détaillée et chaque thème décrit fait référence à une indication temporelle au sein de la vidéo de façon à pouvoir le visualiser le plus rapidement possible.</p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="wwdc-world-wide-developers-conference">WWDC : World Wide Developers Conference</h1>
<script>$(document).ready(function () {

    setBreadcrumb([{"label":"Les critères incontournables sous iOS", "url": "./criteria-ios.html"},
        {"label":"WWDC"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html", "expanded": true}
    ]);
});</script>

<p><span data-menuitem="criteria-ios"></span></p>
<p>Cette partie regroupe des <a href="https://developer.apple.com/videos/">présentations faites à la WWDC</a> et liées à l&#39;accessibilité.
</br>Chacune de ces présentations est détaillée et comprend une description de chaque thème qui fait référence à une indication temporelle au sein de la vidéo.
</br></br>La plupart des illustrations proviennent des supports de présentations fournies par Apple et sont disponibles dans la partie <code>Resources</code> de l&#39;onglet <code>Overview</code> propre à chaque vidéo.
</br>L&#39;accès au résumé de chacune de ces vidéos se fait en cliquant sur le titre ou directement sur l&#39;image de présentation.</p>
<h2 id="-2017-les-nouveaut-s-en-accessibilit-criteria-ios-wwdc-17215-html-"><a href="./criteria-ios-wwdc-17215.html">2017 - Les nouveautés en accessibilité</a></h2>
<p>Présentation des nouvelles fonctionnalités d&#39;accessibilité iOS 11 en associant la pratique de l&#39;utilisateur à la conception du développeur.
</br><a href="./criteria-ios-wwdc-17215.html"><img style="max-width: 700px; height: auto;" alt="Accès aux nouveautés en accessibilité 2017." src="./images/iOSdev/wwdc17-215.png" /></p>
<h2 id="-2017-application-du-dynamic-type-criteria-ios-wwdc-17245-html-"><a href="./criteria-ios-wwdc-17245.html">2017 - Application du Dynamic Type</a></h2>
<p>Permettre à l&#39;utilisateur de déterminer la taille de texte nécessaire à son confort visuel et adapter son application à cette modification sont des éléments essentiels que le <code>Dynamic Type</code> met en avant.
</br>Cette vidéo propose à la fois une approche théorique pour bien comprendre les possibilités offertes par le <code>Dynamic Type</code> ainsi qu&#39;une partie purement pratique au niveau développeur pour lui éviter de tomber dans les écueils classiques de programmation.
</br><a href="./criteria-ios-wwdc-17245.html"><img style="max-width: 700px; height: auto;" alt="Accès à l'application du dynalic type." src="./images/iOSdev/wwdc17-245.png" /></p>
<h2 id="-2016-audit-d-une-app-en-accessibilit-criteria-ios-wwdc-16407-html-"><a href="./criteria-ios-wwdc-16407.html">2016 - Audit d&#39;une app en accessibilité</a></h2>
<p>Après un rappel sur le fonctionnement de <span lang="en">VoiceOver</span> au niveau programmatique, cette présentation va détailler les différentes fonctionnalités proposées par l&#39;outil <span lang="en">Accessibility Inspector</span> de Xcode en s&#39;appuyant sur un exemple très simple pour une mise en situation concrète.
</br><a href="./criteria-ios-wwdc-16407.html"><img style="max-width: 700px; height: auto;" alt="Accès à l'audit d'une app en accessibilité" src="./images/iOSdev/wwdc16-407.png" /></p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="wwdc-2016-audit-d-une-app-en-accessibilit-">WWDC 2016 : Audit d&#39;une app en accessibilité</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Les critères incontournables sous iOS", "url": "./criteria-ios.html"},
                   {"label":"WWDC", "url": "./criteria-ios-wwdc.html"},
                   {"label":"2016 - Audit d'une app en accessibilité"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"}
    ]);
});</script>

<p><span data-menuitem="criteria-ios-wwdc"></span></p>
<p>Cette présentation visualisable sur le <strong>site développeur officiel d&#39;Apple</strong> (<a href="https://developer.apple.com/videos/play/wwdc2016/407/">session 407</a>) a pour but d&#39;expliquer l&#39;outil de développement <span lang="en">Accessibility Inspector</span> et comment l&#39;utiliser par le biais d&#39;une application d&#39;exemple très simple.
</br><img style="max-width: 200px; height: auto;" alt="" src="./images/iOSdev/wwdc16-logo.png" />
<img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc16-407.png" />
</br></br>Les thèmes abordés ainsi que leur référence temporelle au sein de la vidéo sont décrits ci-dessous :</p>
<ul>
<li><a href="#AccessibilityInspector">Accessibility Inspector</a> (09:38)</li>
<li><a href="#Audit">Audit</a> (11:21)</li>
<li><a href="#Inspection">Inspection</a> (20:30)</li>
<li><a href="#Settings">Settings</a> (28:33)</li>
</ul>
<p>Par la suite, le fait de cliquer sur un titre permet d&#39;ouvrir la vidéo de présentation <span lang="en">Apple</span> directement au moment indiqué.</p>
<p><a name="AccessibilityInspector"></a></p>
<h3 id="-accessibility-inspector-09-38-https-developer-apple-com-videos-play-wwdc2016-407-time-578-"><a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=578">Accessibility Inspector (09:38)</a></h3>
<p>Présentation générale de l&#39;outil en décrivant son contenu ainsi que les différents thèmes autour desquels va s&#39;articuler cette présentation.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc16-407-AccessibilityInspector.png" />
</br>La suite va s&#39;attacher à détailler spécifiquement les parties <span lang="en">audit</span>, <span lang="en">inspection</span> et <span lang="en">settings</span>.</p>
<p><a name="Audit"></a></p>
<h3 id="-audit-11-21-https-developer-apple-com-videos-play-wwdc2016-407-time-681-"><a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=681">Audit (11:21)</a></h3>
<p>Explications fournies sur l&#39;intérêt et l&#39;utilisation de cette fonctionnalité avec une démonstration par un exemple pratique <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=742">(12:22)</a> qui permet de mettre en avant la façon de trouver une solution au problème décelé par l&#39;outil <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=864">(14:24)</a> tout en pouvant remonter rapidement ce problème sous forme de rapport <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1027">(17:07)</a>.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc16-407-Audit.png" />
</br>Ce type d&#39;audit automatique est très important mais un <strong>audit manuel</strong> complémentaire est <strong>indispensable</strong> car il permet d&#39;éviter des écueils qui pourraient être dévastateurs dans l&#39;utilisation de l&#39;application <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1135">(18:55)</a>.</p>
<p><a name="Inspection"></a></p>
<h3 id="-inspection-20-30-https-developer-apple-com-videos-play-wwdc2016-407-time-1230-"><a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1230">Inspection (20:30)</a></h3>
<p>Seconde fonctionnalité expliquée en s&#39;appuyant sur un exemple <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1318">(21:58)</a> qui peut permettre de déceler différents types de problèmes :</p>
<ul>
<li>Ordonnancement chaotique d&#39;éléments dans la navigation. <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1391">(23:11)</a></li>
<li>Description absconse d&#39;un élément. <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1414">(23:34)</a></li>
<li>Action non souhaitée déclenchée par un élément. <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1442">(24:02)</a></li>
</ul>
<p>Lors de la visualisation de la hiérarchie des éléments par cette fonctionnalité <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1480">(24:40)</a>, il est précisé que les composants gérés par <span lang="en">CALayer</span> ne sont pas traités nativement par <span lang="en">VoiceOver</span>.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc16-407-Inspection.png" /></p>
<p><a name="Settings"></a></p>
<h3 id="-settings-28-33-https-developer-apple-com-videos-play-wwdc2016-407-time-1713-"><a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1713">Settings (28:33)</a></h3>
<p>Dernière fonctionnalité de l&#39;outil qui permet d&#39;éviter des allers-retours entre l&#39;application testée et les modifications des principaux réglages d&#39;accessibilité qu&#39;une démonstration met en évidence <a href="https://developer.apple.com/videos/play/wwdc2016/407/?time=1825">(30:25)</a>.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc16-407-Settings.png" /></p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="wwdc-2017-les-nouveaut-s-en-accessibilit-">WWDC 2017 : les nouveautés en accessibilité</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Les critères incontournables sous iOS", "url": "./criteria-ios.html"},
                   {"label":"WWDC", "url": "./criteria-ios-wwdc.html"},
                   {"label":"2017 - Les nouveautés en accessibilité"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"}
    ]);
});</script>

<p><span data-menuitem="criteria-ios-wwdc"></span></p>
<p>Cette présentation visualisable sur le <strong>site développeur officiel d&#39;Apple</strong> (<a href="https://developer.apple.com/videos/play/wwdc2017/215/">session 215</a>) a pour but de mettre en avant les principales nouveautés iOS 11 en terme d&#39;accessibilité avec une importance notable pour <span lang="en">VoiceOver</span>.
</br><img style="max-width: 200px; height: auto;" alt="" src="./images/iOSdev/wwdc17-logo.png" />
<img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215.png" />
</br></br>Les thèmes abordés ainsi que leur référence temporelle au sein de la vidéo sont décrits ci-dessous :</p>
<ul>
<li><a href="#ImageTextDetection">Détection de texte dans une image</a> (07:07)</li>
<li><a href="#ImprovedPhotoDescription">Amélioration de la description d&#39;une photo</a> (08:01)</li>
<li><a href="#TypeToSIRI">Ecrire des infos pour SIRI</a> (11:37)</li>
<li><a href="#AccessibilityInspector">Accessibility Inspector : cas pratique</a> (15:35)</li>
<li><a href="#UIAccessibilityProtocol">Découvrir le protocole UIAccessibility</a> (21:14)</li>
<li><a href="#AttributedProperties">Attributed Accessibility Properties</a> (26:07)</li>
<li><a href="#AccessibilityContainer">Accessibility Container Type</a> (27:20)</li>
<li><a href="#CustomActions">Les actions personnalisées</a> (35:43)</li>
<li><a href="#DefaultActivation">Action par défaut</a> (37:38)</li>
<li><a href="#AdjustableValues">Les valeurs continûment ajustables</a> (38:22)</li>
<li><a href="#PassThrough">Sélection en défilement continu</a> (39:40)</li>
<li><a href="#CustomScrolling">Défilement personnalisé</a> (41:02)</li>
<li><a href="#DragAndDrop">Drag &amp; Drop</a> (42:54)</li>
</ul>
<p></br>Au cours de cette présentation, de nombreuses solutions sont proposées par le biais d&#39;une application d&#39;exemple pour répondre aux questions que se posent les développeurs face aux problèmes rencontrés en accessibilité avec <span lang="en">VoiceOver</span> (regarder l&#39;<a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1007">application d&#39;exemple</a> avant de lire la suite) :</p>
<ul>
<li>Rendre un élément (in)accessible <a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1870">(31:10)</a></li>
<li>Remplir des propriétés <code>label</code> et <code>value</code> <a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1799">(29:59)</a>.</li>
<li>Rassembler plusieurs éléments pour n&#39;en former qu&#39;un seul <a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1910">(31:50)</a>.</li>
</ul>
<p>Par la suite, le fait de cliquer sur un titre permet d&#39;ouvrir la vidéo de présentation <span lang="en">Apple</span> directement au moment indiqué.</p>
<p><a name="ImageTextDetection"></a></p>
<h3 id="-d-tection-de-texte-dans-une-image-07-07-https-developer-apple-com-videos-play-wwdc2017-215-time-427-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=427">Détection de texte dans une image (07:07)</a></h3>
<p>Il est désormais possible de <strong>déterminer si du texte est incrusté dans une image</strong>.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-ImageTextDetection.png" />
</br>Cette détection très basique est obtenue en réalisant un <strong>tap avec 3 doigts</strong>.
</br>Elle permet ainsi de vocaliser cette inscription à une personne qui ne peut initialement pas la détecter.</p>
<p><a name="ImprovedPhotoDescription"></a></p>
<h3 id="-am-lioration-de-la-description-d-une-photo-08-01-https-developer-apple-com-videos-play-wwdc2017-215-time-481-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=481">Amélioration de la description d&#39;une photo (08:01)</a></h3>
<p>La <strong>vocalisation de la description d&#39;une photo</strong> est une nouvelle fonctionnalité de Voice Over et est obtenue par un simple <span lang="en">tap</span> à l&#39;aide de 3 doigts.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-ImprovedPhotoDescription.png" />
</br>Une détection très simple du contexte, des visages et de leurs expressions est donc exposée à l&#39;utilisateur pour qui ce type d&#39;informations devient plus que jamais un lien fort avec son environnement.</p>
<p><a name="TypeToSIRI"></a></p>
<h3 id="-ecrire-des-infos-pour-siri-11-37-https-developer-apple-com-videos-play-wwdc2017-215-time-697-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=697">Ecrire des infos pour SIRI (11:37)</a></h3>
<p>Nouveauté très utile pour les <strong>personnes ne pouvant pas utiliser SIRI vocalement</strong> ou désirant simplement <strong>effectuer des requêtes de façon discrète</strong>.
</br>Pour utiliser cette fonctionnalité, il faut se rendre dans la partie <code>Accessibilité</code> des <code>Réglages</code> pour rendre l&#39;activation effective.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-TypeToSiri.png" /></p>
<p><a name="AccessibilityInspector"></a></p>
<h3 id="-accessibility-inspector-cas-pratique-15-35-https-developer-apple-com-videos-play-wwdc2017-215-time-935-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=935">Accessibility Inspector : cas pratique (15:35)</a></h3>
<p>Dans cette partie, l&#39;outil <span lang="en">Accessibility Inspector</span> de Xcode est utilisé pour une démonstration d&#39;audit accessibilité d&#39;une application.
</br>Des exemples sont fournis sans expliquer fondamentalement les notions propres à l&#39;outil qui sont détaillées dans la session <a href="https://developer.apple.com/videos/play/wwdc2016/407/">407</a> (2016).</p>
<p><a name="UIAccessibilityProtocol"></a></p>
<h3 id="-d-couvrir-le-protocole-uiaccessibility-21-14-https-developer-apple-com-videos-play-wwdc2017-215-time-1274-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1274">Découvrir le protocole UIAccessibility (21:14)</a></h3>
<p>Petit rappel sur les fondements du protocole informel <code>UIAccessibility</code> qui vont être utilisés dans la suite de la présentation.
</br><img style="max-width: 450px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-UIAccessibilityProtocol.png" /></p>
<p><a name="AttributedProperties"></a></p>
<h3 id="-attributed-accessibility-properties-26-07-https-developer-apple-com-videos-play-wwdc2017-215-time-1567-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1567">Attributed Accessibility Properties (26:07)</a></h3>
<p>iOS 11 permet de transformer les propriétés d&#39;accessibilité <code>label</code>, <code>value</code> et <code>hint</code> de base en <code>NSAttributedString</code> de façon à pouvoir <strong>agir sur la façon dont ils vont être vocalisés</strong>.
</br><img style="max-width: 550px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-AttributedStrings.png" />
</br>Parmi les exemples fournis, on trouve la possibilité de vocaliser en langue étrangère un élément accessible bien particulier.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-AttributedStringsExample.png" />
</br>L&#39;ensemble des clés utilisables se trouve sur la <a href="https://developer.apple.com/documentation/uikit/accessibility/uiaccessibility/speech_attributes_for_attributed_strings">documentation officielle Apple</a>.</p>
<p><a name="AccessibilityContainer"></a></p>
<h3 id="-accessibility-container-type-27-20-https-developer-apple-com-videos-play-wwdc2017-215-time-1640-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=1640">Accessibility Container Type (27:20)</a></h3>
<p>Une définition de <strong>conteneur typé</strong> au niveau accessibilité est disponible en <strong>iOS 11</strong>.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-ContainerType.png" />
</br>La notion de conteneur existait déjà mais rien ne permettait à <span lang="en">VoiceOver</span> de savoir ce qu&#39;était réellement ce conteneur.
</br>Ce nouveau typage va donc permettre à <span lang="en">VoiceOver</span> de faciliter et de mieux appréhender la façon dont l&#39;utilisateur va pouvoir naviguer au sein de ce conteneur.</p>
<p><a name="CustomActions"></a></p>
<h3 id="-les-actions-personnalis-es-35-43-https-developer-apple-com-videos-play-wwdc2017-215-time-2143-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2143">Les actions personnalisées (35:43)</a></h3>
<p>Il est possible de définir sur une vue un ensemble constitué de <code>accessibilityCustomAction</code> de façon à lui <strong>attribuer différentes actions possibles</strong>.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-CustomActions.png" />
</br>Dès que cette vue est sélectionnée avec <span lang="en">VoiceOver</span>, un <strong>swipe vertical avec un doigt</strong> permet de déterminer l&#39;action de son choix.</p>
<p><a name="DefaultActivation"></a></p>
<h3 id="-action-par-d-faut-37-38-https-developer-apple-com-videos-play-wwdc2017-215-time-2258-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2258">Action par défaut (37:38)</a></h3>
<p>Afin de limiter ou de rendre plus faciles les manipulations à réaliser par les utilsateurs de <span lang="en">VoiceOver</span>, il est possible de déclencher des actions appropriées dès qu&#39;un élément est activé par un double tap.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-DefaultAction.png" /></p>
<p><a name="AdjustableValues"></a></p>
<h3 id="-les-valeurs-contin-ment-ajustables-38-22-https-developer-apple-com-videos-play-wwdc2017-215-time-2302-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2302">Les valeurs continûment ajustables (38:22)</a></h3>
<p>La <strong>modification de valeur</strong> pour des éléments tels que le <code>slider</code> ou le <code>picker</code> peut se faire de façon <strong>très fluide</strong> grâce à l&#39;implémentation de deux fonctions :
</br><img style="max-width: 470px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-AdjustableValues.png" />
</br>Dès que la vue est sélectionnée avec <span lang="en">VoiceOver</span>, un <strong>swipe vertical avec un doigt</strong> permet d&#39;augmenter (vers le haut) ou de diminuer (vers le bas) la valeur.
</br>La mise en place programmatique de ce type de fonctionnement est présentée dans la partie <a href="./criteria-ios-dev.html#valeurs-contin-ment-ajustables">développement</a>.</p>
<p><a name="PassThrough"></a></p>
<h3 id="-s-lection-en-d-filement-continu-39-40-https-developer-apple-com-videos-play-wwdc2017-215-time-2380-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2380">Sélection en défilement continu (39:40)</a></h3>
<p>L&#39;application d&#39;une <strong>double pression d&#39;un doigt accompagnée d&#39;un maintien à l&#39;issue</strong> sur un défilement panoramique permet de déclencher la fonctionnalité <span lang="en">pass-through</span> de <span lang="en">VoiceOver</span>.
</br><img style="max-width: 400px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-PassThrough_1.png" />
</br>Cette fonctionnalité permet d&#39;obtenir une sélection beaucoup plus précise de la valeur remontée.
</br>Il est donc possible de préciser à <span lang="en">VoiceOver</span> le focus de l&#39;élément sélectionné grâce à l&#39;attribut <a href="./criteria-ios-dev.html#modifier-la-zone-de-focus-de-span-lang-en-voiceover-span-">accessibilityActivationPoint</a> de façon à indiquer finement à l&#39;utilisateur où il se trouve au niveau du panoramique.
</br><img style="max-width: 500px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-PassThrough_2.png" /></p>
<p><a name="CustomScrolling"></a></p>
<h3 id="-d-filement-personnalis-41-02-https-developer-apple-com-videos-play-wwdc2017-215-time-2462-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2462">Défilement personnalisé (41:02)</a></h3>
<p>Le défilement classique de pages proposé par <span lang="en">VoiceOver</span> se fait avec un <span lang="en">swipe</span> à l&#39;aide de 3 doigts.
</br>Il est toutefois possible de personnaliser le résultat obtenu grâce à la méthode <code>accessibilityScroll</code> présente dans le protocole <code>UIAccessibilityAction</code>.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-CustomScrolling.png" /></p>
<p><a name="DragAndDrop"></a></p>
<h3 id="-drag-drop-42-54-https-developer-apple-com-videos-play-wwdc2017-215-time-2574-"><a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2574">Drag &amp; Drop (42:54)</a></h3>
<p>Nouveauté iOS11, le <span lang="en">drag-and-drop</span> présenté en accessibilité ne décrit pas la nouvelle API mais rappelle les 2 principes primordiaux autour desquels s&#39;appuie son fonctionnement : les <span lang="en">drag sources</span> et les <span lang="en">drop points</span>.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-215-DragAndDrop.png" />
</br>Leur utilisation est ensuite succinctement proposée par le biais d&#39;un <a href="https://developer.apple.com/videos/play/wwdc2017/215/?time=2729">exemple</a>.</p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="wwdc-2017-application-du-dynamic-type">WWDC 2017 : Application du Dynamic Type</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Les critères incontournables sous iOS", "url": "./criteria-ios.html"},
                   {"label":"WWDC", "url": "./criteria-ios-wwdc.html"},
                   {"label":"2017 - Application du Dynamic Type"}
    ]);
    addSubMenu([
        {"label":"Pour la conception","url":"criteria-ios-conception.html"}, 
        {"label":"Pour le développement","url":"criteria-ios-dev.html"},
        {"label":"WWDC","url":"criteria-ios-wwdc.html"}
    ]);
});</script>

<p><span data-menuitem="criteria-ios-wwdc"></span></p>
<p>Cette présentation visualisable sur le <strong>site développeur officiel d&#39;Apple</strong> (<a href="https://developer.apple.com/videos/play/wwdc2017/245/">session 245</a>) a pour but d&#39;expliquer ce qu&#39;est le <span lang="en">Dynamic Type</span> et comment le mettre en oeuvre par le biais de bonnes pratiques.
</br><img style="max-width: 200px; height: auto;" alt="" src="./images/iOSdev/wwdc17-logo.png" />
<img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245.png" />
</br></br>Les thèmes abordés ainsi que leur référence temporelle au sein de la vidéo sont décrits ci-dessous :</p>
<ul>
<li><a href="#TextStyles">Styles de texte</a> (06:06)</li>
<li><a href="#CustomFonts">Police personnalisée</a> (08:17)</li>
<li><a href="#WebViews">Utilisation de pages web</a> (09:25)</li>
<li><a href="#WrapToMultipleLines">Affichage sur plusieurs lignes</a> (10:14)</li>
<li><a href="#AutoLayoutSystemSpacingConstraints">ConstraintEqualToSystemSpacingBelow</a> (11:31)</li>
<li><a href="#ScaledValue">ScaledValue</a> (12:56)</li>
<li><a href="#SideBySideText">Grossissement d&#39;éléments voisins</a> (13:36)</li>
<li><a href="#PreferredContentSizeCategory">PreferredContentSizeCategory</a> (15:23)</li>
<li><a href="#TableViewCells">Table view cells</a> (16:38)</li>
<li><a href="#Images">Images</a> (20:13)</li>
<li><a href="#Demo">Exemple</a> (24:32)</li>
</ul>
<p>Par la suite, le fait de cliquer sur un titre permet d&#39;ouvrir la vidéo de présentation <span lang="en">Apple</span> directement au moment indiqué.</p>
<p><a name="TextStyles"></a></p>
<h3 id="-styles-de-texte-06-06-https-developer-apple-com-videos-play-wwdc2017-245-time-366-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=366">Styles de texte (06:06)</a></h3>
<p>Avec iOS 11, <strong>tous les styles de texte s&#39;adaptent aux 5 tailles de texte disponibles en accessibilité</strong> ce qui n&#39;était le cas que pour le style <em>body</em> auparavant.
</br>Dans l&#39;<span lang="en">Interface Builder</span> de Xcode, il suffit d&#39;indiquer le style souhaité dans la partie <span lang="en">Attribute Inspector</span> et de cocher la case <span lang="en">Dynamic Type</span> qui permettra d&#39;adapter automatiquement la taille selon les réglages.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TextStyle_1.png" />
</br>Au niveau code, on obtient exactement le même résulat de la façon suivante :
</br><img style="max-width: 500px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TextStyle_2.png" /></p>
<p><a name="CustomFonts"></a></p>
<h3 id="-police-personnalis-e-08-17-https-developer-apple-com-videos-play-wwdc2017-245-time-497-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=497">Police personnalisée (08:17)</a></h3>
<p>L&#39;introduction de la classe <code>UIFontMetrics</code> en iOS 11 permet à une police personnalisée de respecter le comportement du grossissement de caractères.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-CustomFonts.png" /></p>
<p><a name="WebViews"></a></p>
<h3 id="-utilisation-de-pages-web-09-25-https-developer-apple-com-videos-play-wwdc2017-245-time-565-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=565">Utilisation de pages web (09:25)</a></h3>
<p>Afin d&#39;assurer une compatibilité entre le comportement attendu sur un <strong>terminal iOS</strong> utilisant le <span lang="en">Dynamic Type</span> et l&#39;<strong>affichage de pages web</strong> sur ce même type de terminal, il est possible d&#39;indiquer le style de texte souhaité au niveau CSS :
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-WebViews.png" /></p>
<p><a name="WrapToMultipleLines"></a></p>
<h3 id="-affichage-sur-plusieurs-lignes-10-14-https-developer-apple-com-videos-play-wwdc2017-245-time-614-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=614">Affichage sur plusieurs lignes (10:14)</a></h3>
<p>Afin d&#39;éviter la troncature d&#39;un texte trop long dans un <code>label</code> après grossissement, il est conseillé de mettre la valeur <code>0</code> dans le nombre de lignes à afficher, ce qui aura pour signification d&#39;afficher l&#39;ensemble des lignes.
</br><img style="max-width: 1000px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-WrapToMultipleLines.png" /></p>
<p><a name="AutoLayoutSystemSpacingConstraints"></a></p>
<h3 id="-constraintequaltosystemspacingbelow-11-31-https-developer-apple-com-videos-play-wwdc2017-245-time-691-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=691">ConstraintEqualToSystemSpacingBelow (11:31)</a></h3>
<p>Dans la mise en place de contraintes graphiques entre deux éléments de type <code>label</code> s&#39;appuyant sur leur &#39;baseline&#39;, il est préférable de ne pas mettre de valeur fixe pour ne pas rencontrer la situation ci-dessous lors de grossissement de caractères :
</br><img style="max-width: 450px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-AutoLayoutsystemSpacingConstraints_1.png" />
</br>Une constante égale à &#39;Standard Value&#39; dans l&#39;<span lang="en">Interface Builder</span> de Xcode ou une définition programmatique de la contrainte utilisant <code>constraintEqualToSystemSpacingBelow</code> (nouveauté iOS 11) permet de résoudre ce problème.
</br><img style="max-width: 650px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-AutoLayoutsystemSpacingConstraints_2.png" /></p>
<p><a name="ScaledValue"></a></p>
<h3 id="-scaledvalue-12-56-https-developer-apple-com-videos-play-wwdc2017-245-time-776-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=776">ScaledValue (12:56)</a></h3>
<p>Introduite en iOS 11, la méthode <strong>scaledValue</strong> permet de déterminer la hauteur d&#39;un élement graphique contenant du texte selon le grossissement implémenté.
</br><img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-ScaledValue.png" />
</br>À utiliser par exemple pour un bouton contenant du texte dont la taille est liée au <span lang="en">Dynamic Type</span> et dont on souhaite connaître la hauteur.</p>
<p><a name="SideBySideText"></a></p>
<h3 id="-grossissement-d-l-ments-voisins-13-36-https-developer-apple-com-videos-play-wwdc2017-245-time-816-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=816">Grossissement d&#39;éléments voisins (13:36)</a></h3>
<p>Arrivé à un certain seuil de grossissement, des éléments verticalement voisins peuvent finir par devenir illisibles et même transformer une interface graphique initialement ergonomique en une juxtaposition grossière d&#39;objets.
</br>Dans ce cas, il est recommandé de passer à un alignement horizontal lorsque le grossisement problématique est atteint.
</br><img style="max-width: 700px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-SideBySideText.png" /></p>
<p><a name="PreferredContentSizeCategory"></a></p>
<h3 id="-preferredcontentsizecategory-15-23-https-developer-apple-com-videos-play-wwdc2017-245-time-923-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=923">PreferredContentSizeCategory (15:23)</a></h3>
<p>Il existe <strong>2 familles</strong> bien distinctes qui contiennent les paliers de grossissement souhaités :</p>
<ul>
<li>La première comprend les <strong>7 seuils</strong> de base allant de <code>extraSmall</code> à <code>extraExtraExtraLarge</code>.</li>
<li>La seconde est <strong>spécifique à l&#39;accessibilité</strong> et doit être activée pour être prise en compte : elle comprend <strong>5 seuils</strong> qui vont de <code>accessibilityMedium</code> à <code>accessibilityExtraExtraExtraLarge</code>.</li>
</ul>
<p>Ces différents seuils sont accessibles depuis le <code>traitCollection</code> de la vue ou bien directement depuis l&#39;application par le biais de la méthode <strong>preferredContentSizeCategory</strong>.
</br><img style="max-width: 900px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-PreferredContentSizeCategory_1.png" />
</br>Il est possible de mettre en place des conditions pour savoir si un seuil de grossissement a été atteint de façon à faire un réarrangement graphique des éléments quand cela est nécessaire.
</br><img style="max-width: 650px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-PreferredContentSizeCategory_2.png" /></p>
<p><a name="TableViewCells"></a></p>
<h3 id="-table-view-cells-16-38-https-developer-apple-com-videos-play-wwdc2017-245-time-998-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=998">Table view cells (16:38)</a></h3>
<p>L&#39;utilisation de <span lang="en">table view cells</span> standards va permettre d&#39;adapter automatiquement la disposition d&#39;une cellule en fonction du <span lang="en">Dynamic Type</span> grâce au <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1058">cell-sizing</a>.
</br><img style="max-width: 600px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TableViews_1.png" />
</br>Dans le cadre de cellules personnalisées, il faut mettre en place les contraintes pour définir le rendu souhaité et laisser le <span lang="en">cell-sizing</span> opérer.
</br><img style="max-width: 750px; height: auto;" alt="" src="./images/iOSdev/wwdc17-245-TableViews_2.png" /></p>
<p><a name="Images"></a></p>
<h3 id="-images-20-13-https-developer-apple-com-videos-play-wwdc2017-245-time-1213-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1213">Images (20:13)</a></h3>
<p>Le <span lang="en">Dynamic Type</span> permet aussi le grossissement des images à la fois sur les vues et les barres de tabulation.
</br>Les explications détaillées de ce point se trouvent dans la partie <a href="./criteria-ios-dev.html#taille-des-l-ments-graphiques">développement</a>.</p>
<p><a name="Demo"></a></p>
<h3 id="-exemple-24-32-https-developer-apple-com-videos-play-wwdc2017-245-time-1472-"><a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1472">Exemple (24:32)</a></h3>
<p>Une application d&#39;exemple est proposée pour répondre aux questions que se posent les développeurs face aux éventuels problèmes rencontrés dans l&#39;implémentation du <span lang="en">Dynamic Type</span> (regarder l&#39;<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1506">introduction</a> avant de lire la suite) :</p>
<ul>
<li><strong>Pourquoi mon implémentation du <span lang="en">Dynamic Type</span> ne fonctionne-t-elle pas</strong> ?
<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1579">(26:19)</a> (aide = <span lang="en"><code>adjustsFontForContentSizeCategory</code></span> (code) ou <span lang="en"><code>Automatically Adjusts Font</code></span> (<span lang="en">Attribute Inspector</span>) + <span lang="en"><code>scaledFont</code></span> si police personnalisée)</li>
<li><strong>Comment modifier le positionnement des éléments pour adapter la lisibilité à la largeur maximale de texte</strong> ?
<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1681">(28:01)</a> (aide = mettre en place les contraintes à activer pour un positionnement vertical des éléments impactés + déterminer le moment auquel activer ces nouvelles contraintes avec <span lang="en"><code>preferredContentSizeCategory</code></span> + <span lang="en"><code>traitCollectionDidChange</code></span> pour être notifié d&#39;un changement de taille de texte)</li>
<li><strong>Comment adapter la taille de mes <span lang="en"><code>table view cells</code></span> à leur contenu</strong> ?
<a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1863">(31:03)</a> (aide = <span lang="en"><code>UITableViewAutomaticDimension</code></span> + <span lang="en"><code>estimatedRowHeight</code></span>)</li>
<li><strong>Pourquoi la taille de mes images ne suit pas le grossissement de texte</strong> ? <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1931">(32:11)</a> (aide = <span lang="en"><code>adjustsImageSizeForAccessibilityContentSizeCategory</code></span>)</li>
<li><strong>Comment mettre une définition visuelle parfaite aux images après grossissement</strong> ? <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=1987">(33:07)</a> (aide = <span lang="en"><code>Preserve Vector Data</code></span> dans l&#39;<span lang="en">Attribute Inspector</span> du .xcassets)</li>
<li><strong>Comment utiliser l&#39;instrument <span lang="en">Accessibility Inspector</span> pour vérifer le grossissement de texte</strong> ? <a href="https://developer.apple.com/videos/play/wwdc2017/245/?time=2096">(34:56)</a></li>
</ul>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="recommandations-accessibilit-orange-pour-les-mobiles">Recommandations accessibilité Orange pour les mobiles</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Présentation"}]);
});</script>

<p><strong><em> L’accessibilité, une nécessité pour certains, un avantage pour tous&nbsp;! </em></strong></p>
<h2 id="d-finition-de-l-accessibilit-mobile">Définition de l’accessibilité mobile</h2>
<p><strong> C’est une application utilisable par tous </strong></p>
<ul>
<li>personnes valides&nbsp;;</li>
<li>seniors&nbsp;;</li>
<li>personnes en situation de handicap (temporaire ou permanent)&nbsp;;</li>
</ul>
<p><strong> et dans tous les contextes </strong></p>
<ul>
<li>avec tous types de matériel&nbsp;: navigateurs mobiles, Android, iOS, tablette&nbsp;;</li>
<li>dans un contexte dégradé&nbsp;: mauvaise luminosité, etc.&nbsp;;</li>
<li>avec des logiciels spécifiques de compensation du handicap.</li>
</ul>
<h2 id="organisation-de-ce-site">Organisation de ce site</h2>
<h3 id="crit-res-mobiles">Critères mobiles</h3>
<p>Liste des différents critères d’accessibilité à respecter pour obtenir une application mobile (Android ou iOS) accessible. Un bon moyen de prendre connaissance des critères à respecter pour s’engager vers une démarche de mise en accessibilité. </p>
<h3 id="guide-pour-les-d-veloppeurs">Guide pour les développeurs</h3>
<p>Section à destination des développeurs. Tout ce qu’il faut savoir pour coder accessible sur mobile, sous Android ou iOS.</p>
<h3 id="mdan">mDAN</h3>
<p>Présentation de l’application mDAN, le démonstrateur d’accessibilité numérique pour mobile. Vous y trouverez également des liens pour télécharger l’application (Android et iOS).</p>
<h3 id="lecteur-d-cran">Lecteur d’écran</h3>
<p>Un guide simple pour utiliser les lecteurs d’écran d’iOS et d’Android, respectivement <span lang="en">VoiceOver</span> et <span lang="en">TalkBack</span>.</p>
<h3 id="liens-utiles">Liens utiles</h3>
<p>Quelques liens utiles qui pourront compléter les explications de ce site.</p>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="d-monstrateur-d-accessibilit-sur-mobile-mdan">Démonstrateur d’accessibilité sur mobile mDAN</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Démonstrateur d’accessibilité sur mobile mDAN"}]);
});</script>

<p><span data-menuitem="mdan"></span></p>
<h2 id="mdan-kesako-nbsp-">mDAN, kesako&nbsp;?</h2>
<p>mDAN est une application mobile (Android et iOS) visant à présenter l’accessibilité d’un système mobile sous toutes ses formes. Ses objectifs sont&nbsp;: </p>
<ul>
<li>présentation de l’accessibilité,</li>
<li>critères d’accessibilité mobile,</li>
<li>guide pour les développeurs,</li>
<li>guide d’utilisation du lecteur d’écran (<span lang="en">Talkback</span> ou <span lang="en">VoiceOver</span>),</li>
<li>présentation des options d’accessibilité par plate-forme,</li>
<li>contact, etc.</li>
</ul>
<h2 id="mdan-oui-mais-pour-qui-nbsp-">mDAN, oui, mais pour qui&nbsp;?</h2>
<p>mDAN, de par son contenu riche, cible la plupart des corps de métier susceptibles d’être impactés par l’accessibilité&nbsp;: </p>
<ul>
<li>testeurs&nbsp;: avec les critères d’accessibilité et le guide d’utilisation du lecteur d’écran&nbsp;;</li>
<li>développeurs&nbsp;: avec le guide de développement&nbsp;;</li>
<li>managers, designers, etc&nbsp;: pour la sensibilisation à l’accessibilité.</li>
</ul>
<p>Pour tout le monde en somme&nbsp;!</p>
<h2 id="je-veux-mdan-nbsp-">Je veux mDAN&nbsp;!</h2>
<p><a href="https://github.com/Orange-OpenSource/m-dan">Le code source est disponible sur github</a></p>
<p>L&#39;application mDAN sera prochainement disponible pour Android et iOS sur le <span lang="en">Play Store</span> et l&#39;<span lang="en">App Store</span>.</p>
<p>Vous pouvez déjà <a href="/mDAN_v2.2.0.apk">télécharger la version Android</a></p>
<p>&nbsp;
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></p>

<h1 id="guide-d-utilisation-des-lecteurs-d-cran-span-lang-en-talkback-span-et-span-lang-en-voiceover-span-">Guide d’utilisation des lecteurs d’écran <span lang="en">TalkBack</span> et <span lang="en">VoiceOver</span></h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Lecteur d’écran"}]);
    addSubMenu([
        {"label":"Sous Android","url":"screen-reader-talkback.html"}, 
        {"label":"Sous iOS","url":"screen-reader-voiceover.html"}
    ]);                
});</script>

<p><span data-menuitem="screen-reader"></span></p>
<p>À travers cette section, nous allons présenter les gestes de base pour une utilisation des lecteurs d’écran d’Android et iOS. Ces outils sont riches en fonctionnalités mais nécessitent une connaissance minimale pour être utilisés efficacement. C’est cette utilisation standard qui sera présentée ici.</p>
<p>Deux versions sont disponibles&nbsp;:</p>
<ul>
<li><strong><span lang="en">TalkBack</span></strong> le lecteur d’écran intégré à Android.</li>
<li><strong><span lang="en">VoiceOver</span></strong>  le lecteur d’écran intégré à iOS.</li>
</ul>
<div class="mobileImg col-xs-12 col-md-6 col-lg-4">
    <h2 class="sr-only"><span lang="en">TalkBack</span></h2><br>    <a href="./screen-reader-talkback.html" class="btn btn-info">
        <img src="./images/android.png" alt="">
        <div>Guide d’utilisation de <span lang="en">TalkBack</span></div>
    </a>
</div>
<div class="mobileImg col-xs-12 col-md-6 col-lg-4">
    <h2 class="sr-only">Voiceover</h2><br>    <a href="./screen-reader-voiceover.html" class="btn btn-info">
        <img src="./images/iphone.png" alt="">
        <div>Guide d’utilisation de <span lang="en">VoiceOver</span></div>
    </a>
</div>      

<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->
<h1 id="guide-d-utilisation-de-span-lang-en-talkback-span-">Guide d’utilisation de <span lang="en">TalkBack</span></h1>
<script>$(document).ready(function () {
    setBreadcrumb([
        {"label":"lecteur d’écran", "url": "./screen-reader.html"},
        {"label":"Guide d’utilisation de <span lang=\"en\">TalkBack</span>"}
    ]);
    addSubMenu([
        {"label":"Sous Android","url":"screen-reader-talkback.html", "expanded": true}, 
        {"label":"Sous iOS","url":"screen-reader-voiceover.html"}
    ]);
});</script>

<p><span data-menuitem="screen-reader"></span></p>
<p><span lang="en">TalkBack</span> est un lecteur d’écran intégré à Android qui décrit à haute voix les éléments qui apparaissent sur l’écran du téléphone. Il est gratuit et permet à un utilisateur non- ou malvoyant, dyslexique ou illettré de pouvoir vocaliser tous les éléments visibles contenus dans la page. Un outil comme <span lang="en">TalkBack</span> est appelé indifféremment lecteur d’écran ou synthèse vocale, même si un lecteur d’écran est en fait un logiciel associé à une synthèse vocale.</p>
<p>Lorsque <span lang="en">TalkBack</span> est activé, les gestes standards effectués sur l’écran tactile donnent des résultats différents. En outre, des gestes supplémentaires permettent de déplacer le focus à l’écran et de contrôler les éléments sélectionnés. <span lang="en">TalkBack</span> comprend des gestes de toucher et de balayage à un, deux et trois doigts. Nous décrivons ici les gestes de base pour une utilisation courante de <span lang="en">TalkBack</span>. À noter&nbsp;: <span lang="en">TalkBack</span> n’est considéré comme accessible qu’à partir de la version <span lang="en">JellyBean</span> (4.1) car on peut naviguer séquentiellement.</p>
<p>Avant toute chose, commencez par mettre à jour <span lang="en">TalkBack</span>&nbsp;: <a href="https://play.google.com/store/apps/details?id=com.google.android.marvin.talkback">page de l’application sur le <span lang="en">PlayStore</span></a></p>
<h2 id="gestes-de-bases">Gestes de bases</h2>
<ul class="list-gesture">
  <li class="clearfix">
    <img src="./images/gesture1.png" alt="" width="80">
    <a name="se-deplacer-avec-un-doigt-sur-lecran"></a><h3>Se déplacer avec un doigt sur l’écran</h3>
    <p>Explorer l’écran et entendre la vocalisation de l’élément qui est touché.</p>
  </li>
  <li class="clearfix">
    <img src="./images/gesture2.png" alt="" width="80">
    <a name="double-cliquer-nimporte-ou-sur-lecran"></a><h3>Double-cliquer n’importe où sur l’écran</h3>
    <p>Ouvrir ou activer l’élément qui a été touché (vocalisé) en dernier.</p>
  </li>
  <li class="clearfix">
    <img src="./images/gesture3_1.png" alt="" width="80">
    <img src="./images/gesture3_2.png" alt="" width="80">
    <a name="slide-vers-le-haut-ou-le-bas-en-utilisant-deux-doigts"></a><h3><span lang="en">Slide</span> vers le haut ou le bas en utilisant deux doigts</h3>
    <p>Se déplacer verticalement sur une liste ou sur une page à condition qu’elle soit sélectionnée. Correspond à un <span lang="en">slide</span> vertical.</p><br>  </li>
  <li class="clearfix">
    <img src="./images/gesture4_1.png" alt="" width="80">
    <img src="./images/gesture4_2.png" alt="" width="80"><br>    <a name="slide-vers-la-gauche-ou-la-droite-en-utilisant-deux-doigts"></a><h3><span lang="en">Slide</span> vers la gauche ou la droite en utilisant deux doigts</h3>
    <p>Changer de page ou d’écran quand c’est possible. Correspond à un <span lang="en">slide</span> horizontal.</p><br>  </li>
  <li class="clearfix">
    <img src="./images/gesture5.png" alt="" width="80"><br>    <a name="slide-vers-la-droite-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers la droite en utilisant un doigt</h3>
    <p>Déplacer le focus <span lang="en">TalkBack</span> sur l’élément suivant.</p>
  </li>
  <li class="clearfix">
    <img src="./images/gesture6.png" alt="" width="80"><br>    <a name="slide-vers-la-gauche-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers la gauche en utilisant un doigt</h3>
    <p>Déplacer le focus <span lang="en">TalkBack</span> sur l’élément précédent.</p>
  </li>
  <li class="clearfix"><br>    <img src="./images/gesture7.png" alt="" width="80"><br>    <a name="slide-vers-le-haut-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers le haut en utilisant un doigt</h3>
    <p>Changer de mode de lecture&nbsp;: « pages », « par défaut (éléments) », « caractères », « mots », « lignes » et « paragraphes ».</p><br>  </li>
  <li class="clearfix"><br>    <img src="./images/gesture8.png" alt="" width="80">
    <a name="slide-vers-le-bas-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers le bas en utilisant un doigt</h3>
    <p>Explorer l’écran et entendre la vocalisation de l’élément qui est touché.</p>
  </li>
</ul>  

<p><span class="licence" lang="en">These images are licensed under a Creative Commons Share Alike 2.0 license. Photo credit: <a href="http://www.flickr.com/people/27512715@N02/" hreflang="en">openexhibits</a></span></p>
<p>Pour plus d’information sur <span lang="en">TalkBack</span> et une description détaillée de ses fonctionnalités, nous vous invitons à lire la <a href="https://support.google.com/accessibility/android/answer/6283677?hl=fr&amp;ref_topic=3529932">documentation officielle de Google sur <span lang="en">TalkBack</span></a>.  </p>
<p>&nbsp;
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></p>

<h1 id="guide-d-utilisation-de-span-lang-en-voiceover-span-">Guide d’utilisation de <span lang="en">VoiceOver</span></h1>
<script>$(document).ready(function () {
    setBreadcrumb([
        {"label":"lecteur d’écran", "url": "./screen-reader.html"},
        {"label":"Guide d’utilisation de <span lang=\"en\">VoiceOver</span>"}
    ]);
    addSubMenu([
        {"label":"Sous Android","url":"screen-reader-talkback.html"}, 
        {"label":"Sous iOS","url":"screen-reader-voiceover.html", "expanded": true}
    ]);
});</script>

<p><span data-menuitem="screen-reader"></span></p>
<p><span lang="en">VoiceOver</span> est un lecteur d’écran intégré qui décrit à haute voix les éléments qui apparaissent sur l’écran de votre téléphone. Il est gratuit et permet à un utilisateur non- ou malvoyant, dyslexique ou illettré de pouvoir vocaliser tous les éléments visibles contenus dans la page. Un outil comme <span lang="en">VoiceOver</span> est appelé indifféremment lecteur d’écran ou synthèse vocale, même si un lecteur d’écran est en fait un logiciel associé à une synthèse vocale.  </p>
<p>Lorsque <span lang="en">VoiceOver</span> est activé, les gestes standards effectués sur l’écran tactile donnent des résultats différents ; en outre, des gestes supplémentaires permettent de se déplacer à l’écran et de contrôler des éléments sélectionnés. <span lang="en">VoiceOver</span> comprend des gestes de toucher et de balayage à deux, trois et quatre doigts. Nous décrirons ici les gestes de base pour une utilisation courante de <span lang="en">VoiceOver</span>.</p>
<h2 id="gestes-de-bases">Gestes de bases</h2>
<ul class="list-gesture">
  <li class="clearfix">
    <img src="./images/gesture1.png" alt="" width="80"><br>    <a name="se-deplacer-avec-un-doigt-sur-lecran"></a><h3>Se déplacer avec un doigt sur l’écran</h3>
    <p>Explorer l’écran et entendre la vocalisation de l’élément qui est touché.</p>
  </li>
  <li class="clearfix"><br>    <img src="./images/gesture2.png" alt="" width="80">
    <a name="double-cliquer-nimporte-ou-sur-lecran"></a><h3>Double-cliquer n’importe où sur l’écran</h3>
    <p>Ouvrir ou activer l’élément qui a été touché (vocalisé) en dernier.</p>
  </li>
  <li class="clearfix">
    <img src="./images/gesture9_1.png" alt="" width="80">
    <img src="./images/gesture9_2.png" alt="" width="80">
    <a name="slide-vers-le-haut-ou-le-bas-en-utilisant-trois-doigts"></a><h3><span lang="en">Slide</span> vers le haut ou le bas en utilisant trois doigts</h3>
    <p>Se déplacer verticalement sur une liste ou sur une page à condition qu’elle soit sélectionnée. Correspond à un <span lang="en">slide</span> vertical.</p>
  </li>
  <li class="clearfix">
      <img src="./images/gesture10_1.png" alt="" width="80">
      <img src="./images/gesture10_2.png" alt="" width="80"><br>      <a name="slide-vers-la-gauche-ou-la-droite-en-utilisant-trois-doigts"></a><h3><span lang="en">Slide</span> vers la gauche ou la droite  en utilisant trois doigts</h3>
      <p>Changer de page ou d’écran quand c’est possible. Correspond à un <span lang="en">slide</span> horizontal.</p>
  </li>
  <li class="clearfix"><br>      <img src="./images/gesture5.png" alt="" width="80"><br>      <a name="slide-vers-la-droite-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers la droite en utilisant un doigt</h3>
      <p>Déplacer le focus <span lang="en">VoiceOver</span> sur le prochain élément.</p>
  </li>
  <li class="clearfix">
      <img src="./images/gesture6.png" alt="" width="80"><br>      <a name="slide-vers-la-gauche-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers la gauche en utilisant un doigt</h3>
      <p>Déplacer le focus <span lang="en">VoiceOver</span> sur l’élément précédent.</p>
  </li>
  <li class="clearfix"><br>      <img src="./images/gesture7.png" alt="" width="80"><br>      <a name="slide-vers-le-haut-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers le haut en utilisant un doigt</h3>
      <p>Permet d’augmenter la valeur d’un élément ajustable.</p>
  </li>
  <li class="clearfix">
      <img src="./images/gesture8.png" alt="" width="80"><br>      <a name="slide-vers-le-bas-en-utilisant-un-doigt"></a><h3><span lang="en">Slide</span> vers le bas en utilisant un doigt</h3>
      <p>Permet de diminuer la valeur d’un élément ajustable.</p>
  </li>
</ul>  

<p><span class="licence" lang="en">These images are licensed under a Creative Commons Share Alike 2.0 license. Photo credit: <a href="http://www.flickr.com/people/27512715@N02/" hreflang="en">openexhibits</a></span></p>
<p>Pour plus d’informations sur <span lang="en">VoiceOver</span> et une description détaillée des fonctionnalités qu’il propose, nous vous invitons à lire la <a href="https://help.apple.com/iphone/9/#/iph3e2e415f">documentation officielle d’Apple sur <span lang="en">VoiceOver</span></a>.  </p>
<p>&nbsp;
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></p>

<h1 id="liens-utiles">Liens utiles</h1>
<script>$(document).ready(function () {
    setBreadcrumb([{"label":"Liens utiles"}]);
});</script>

<p><span data-menuitem="links"></span></p>
<h2 id="en-compl-ment">En complément</h2>
<p>Vous trouverez de l’information sur le développement accessible pour iOS et Android sur <a href="https://github.com/DISIC/guide-mobile_app_dev_natif">le dépôt github de la DISIC</a> (Direction Interministérielle des Systèmes d’Information et de Communication)&nbsp;:</p>
<ul>
<li><a href="https://github.com/DISIC/guide-mobile_app_audit">Guide d’audit d’applications mobiles</a></li>
<li><a href="https://github.com/DISIC/guide-mobile_app_conception">Guide de conception d’applications mobiles accessibles</a></li>
<li><a href="https://github.com/DISIC/guide-mobile_app_dev_hybride">Guide de développement d’applications mobiles hybrides accessibles avec Ionic et OnsenUI</a></li>
</ul>
<h2 id="pour-android">Pour Android</h2>
<p>Présentation de l’accessibilité sous Android et de l’<abbr>API</abbr> Google  </p>
<ul>
<li><a href="https://developer.android.com/guide/topics/ui/accessibility/index.html">Documentation officielle de Google</a>  </li>
<li><a href="https://support.google.com/accessibility/android/answer/6283677?hl=fr&amp;ref_topic=3529932">Guide complet de <span lang="en">TalkBack</span></a></li>
</ul>
<p>Application <span lang="en">AccessibilityScanner</span> pour vous aider à tester une partie de l’accessibilité de vos applications rapidement et simplement</p>
<ul>
<li><a href="https://play.google.com/store/apps/details?id=com.google.android.apps.accessibility.auditor&amp;hl=fr">Application <span lang="en">AccessibilityScanner</span></a></li>
</ul>
<h2 id="pour-ios">Pour iOS</h2>
<p>Présentation de l’accessibilité sous iOS et de l’<abbr>API</abbr> Apple</p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/iPhoneAccessibility/Introduction/Introduction.html">Documentation officielle de l’<abbr>API</abbr> d’accessibilité Apple</a></li>
<li><a href="http://www.apple.com/fr/accessibility/">Présentation des options d’accessibilité d’iOS</a></li>
<li><a href="https://developer.apple.com/accessibility/ios/">Page officielle de l’accessibilité sous Apple</a></li>
<li><a href="https://help.apple.com/iphone/9/#/iph3e2e415f">Utilisation de <span lang="en">VoiceOver</span></a></li>
</ul>
<!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
 Copyright (C) 2016  Orange SA
 See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->

          
        </div>
      </div>
    </main>

    <a aria-hidden="true" id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Retour en haut de page" data-toggle="tooltip" data-placement="left"></a>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
    <script src="../boosted/js/boosted.min.js"></script>
    <script type="text/javascript" src="../js/reco.js"></script>
    <script type="text/javascript" src="../../../js/highlight.min.js"></script>
</body>
</html>
