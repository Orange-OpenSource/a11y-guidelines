<!doctype html>
<html lang="fr" dir="ltr" class="no-js">
  <head>
    <meta charset="utf-8">
    <title>Gestion dynamique du focus - Recommandations accessibilité numérique Orange</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://code.jquery.com" crossorigin="anonymous">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin="anonymous">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/HelvNeue55_W1G.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/HelvNeue75_W1G.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/assets/images/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/assets/images/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="mask-icon" href="/assets/images/safari-pinned-tab.svg" color="#563d7c">
    <link rel="icon" href="/assets/images/favicon.ico">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boosted@4.5.3/dist/css/boosted.min.css" integrity="sha384-2x94UsUfEIjfJm4eAvt3wXrWUC/pAef/uLL2Q6KkHM9bgnm7fHaLTVOfjHlijBJS" crossorigin="anonymous">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/a11y-light.min.css">
    
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="/assets/tarteaucitron-boosted.css"><link rel="stylesheet" href="style.css"></head>
  <body>
    

<header role="banner">
  <div class="navbar navbar-dark navbar-expand supra">
    <div class="container-lg">
      <nav role="navigation" aria-label="Liens d&#39;évitements">
  <ul class="navbar-nav"><li class="nav-item">
        <a href="#main-menu" class="nav-link">Aller au menu</a>
      </li><li class="nav-item">
        <a href="#main-content" class="nav-link">Aller au contenu</a>
      </li><li class="nav-item">
        <a href="#footer" class="nav-link">Aller au pied de page</a>
      </li></ul>
</nav>

      <nav role="navigation" aria-label="Changement de langue">
  <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/en/" class="nav-link" lang="en">
        English
        </a>
      </li>
      <li class="nav-item">
        <a href="/fr/" class="nav-link active" aria-current="true" lang="fr">
        Français
        </a>
      </li></ul>
</nav>
    </div>
  </div>
  

<div class="navbar navbar-dark navbar-expand-md">
  <nav id="main-menu" class="container-lg justify-content-md-start" role="navigation" aria-label="Navigation principale">
    <a href="/fr" class="navbar-brand" title="Orange, aller à l’accueil">
      <img src="/assets/images/orange-logo.svg" alt="Orange, aller à l’accueil" width="50" height="50">
    </a>

    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#main-menu-list" aria-controls="main-menu-list" aria-expanded="false" aria-label="Menu de navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <ul id="main-menu-list" class="navbar-nav navbar-collapse collapse"><li class="nav-item">
          <a href="/fr/" class="nav-link">
  Accueil
</a>
        </li><li class="nav-item">
          <a href="/fr/cadrage/" class="nav-link">
  Cadrage
</a>
        </li><li class="nav-item">
          <a href="/fr/web/" class="nav-link active" aria-current="true">
  Web
</a>
        </li><li class="nav-item">
          <a href="/fr/mobile/android/" class="nav-link">
  Android
</a>
        </li><li class="nav-item">
          <a href="/fr/mobile/ios/" class="nav-link">
  iOS
</a>
        </li><li class="nav-item">
          <a href="/fr/contenu-editorial/" class="nav-link">
  Contenu éditorial
</a>
        </li><li class="nav-item">
          <a href="/fr/articles/" class="nav-link">
  Articles
</a>
        </li><li class="nav-item d-md-none">
  <span class="sr-only">Changement de langue</span>
  <ul class="d-flex list-inline">
      <li class="list-inline-item flex-grow-1">
        <a href="/en/" class="nav-link" lang="en">
        English
        </a>
      </li>
      <li class="list-inline-item flex-grow-1">
        <a href="/fr/" class="nav-link active" aria-current="true" lang="fr">
        Français
        </a>
      </li></ul>
</li>
    </ul>
  </nav>
</div>

  <nav id="secondary-navigation" class="o-nav-local navbar-light mb-1" role="navigation" aria-label="Navigation secondaire">
  <div class="container-lg">
    <ul class="nav"><li class="nav-item">
              <a href="/fr/web/designer/" class="nav-link">
  Designer
</a>
            </li><li class="nav-item">
              <a href="/fr/web/developper/" class="nav-link">
  Développer
</a>
            </li><li class="nav-item">
              <a href="/fr/web/tester/" class="nav-link">
  Tester
</a>
            </li><li class="nav-item">
              <a href="/fr/web/audit-wcag/" class="nav-link">
  Évaluer
</a>
            </li><li class="nav-item">
              <a href="/fr/web/outils/" class="nav-link">
  Boite à outils
</a>
            </li><li class="nav-item">
              <a href="/fr/web/exemples-de-composants/" class="nav-link active" aria-current="true">
  Exemples de composants
</a>
            </li></ul>
  </div>
</nav>
</header>

    <div class="container-lg pt-2">
      
      
        

<nav role="navigation" aria-labelledby="breadcrumb-label">
  <p id="breadcrumb-label" class="sr-only">Vous êtes ici&amp;nbsp;:</p>
  <ol class="breadcrumb">
      
        <li class="breadcrumb-item d-none d-sm-flex">
          <a href="/fr/">Accueil</a>
        </li>
      
      
        <li class="breadcrumb-item d-none d-sm-flex">
          <a href="/fr/web/">Web</a>
        </li>
      
      
        <li class="breadcrumb-item">
          <a href="/fr/web/exemples-de-composants/">Exemples de composants</a>
        </li>
      
      
        <li class="breadcrumb-item d-none d-sm-flex" aria-current="location">
          Gestion dynamique du focus
        </li>
      </ol>
</nav>

      
      <div class="MobileDropdownNavigationContainer d-flex flex-column flex-sm-row justify-content-between">
        
        
      </div>
    </div>
    
  <main id="main-content" class="container-lg pt-4" role="main">
      
<h1>Gérer le focus pour du contenu dynamiquement généré</h1>

<h2>Introduction</h2>
<p>La gestion du focus dans des applications riches est complexe. Plusieurs cas se présentent&nbsp;: </p>
<ul>
	<li>Apparition/disparition de contenu généré par une action utilisateur avec rechargement de page</li>
	<li>Apparition/disparition de contenu dynamique généré par une action utilisateur sans rechargement de page</li>
	<li>Cas particulier&nbsp;: les <code>iframes</code> dynamiques </li>
</ul>

<h2>Contenu généré par une action utilisateur avec rechargement de page</h2>
<p>Ce cas, où l’on recharge la page pour modifier une partie du contenu de cette page, est à éviter car, même si c’est une action utilisateur, il y a perte de contexte et dans tous les cas un chargement asynchrone aurait été bien plus efficace. </p>
<h3>Apparition de contenu</h3>
<p>Donc, s’il n’y a aucun moyen de faire du chargement asynchrone, il faut pour le moins&nbsp;:</p>
<ol>
<li>Prévenir, si besoin, l’utilisateur de ce rechargement de page avec un message de type «&nbsp;Chargement en cours, veuillez patientez&nbsp;» sur lequel on met le focus, si il y a perte de contexte.</li>
<li>Au rechargement, mettre le focus, sur le contenu généré ou, lors d’une disparition, sur l’élément déclenchant (s’il existe toujours après rechargement) ou positionner le focus juste avant la partie qui a été enlevée.</li>
<li> S’assurer que le parcours du focus est demeuré logique et séquentiel après apparition/disparition de contenu.</li>
</ol>

<h2>Contenu dynamique généré par une action utilisateur sans rechargement de page (asynchrone)</h2>
<p>C’est le cas le plus fréquent : la page n’est pas rechargée, seul le DOM est modifié par addition ou suppression de contenu lors d’une action utilisateur (par exemple, affichage des résultats d’un moteur de recherche, apparition d’une popin…).</p>
<h3>Addition de contenu</h3>
<ol>
<li>Prévenir, si besoin, l’utilisateur de l’apparition de contenu (par exemple, pour un sous-menu à déplier, on peut ajouter un texte «&nbsp;déplier&nbsp;» et mettre une propriété <code>aria-haspopup</code>). Si ce contenu est susceptible de disparaître (popin, par exemple), garder en mémoire l’élément déclenchant l’apparition pour y remettre le focus lors de la disparition.</li>
<li>Le nouveau contenu doit apparaître dans le code source juste après l’élément déclenchant (exemple&nbsp;: menu dépliant),</li>
<li>Le focus doit être déplacé sur un des premiers éléments du nouveau contenu qui est apparu (le container, un titre, un lien, un bouton…).</li>
</ol>
<h3>Disparition de contenu</h3>
<ol>
<li>Prévenir si besoin l’utilisateur avant qu’il ne déclenche cette disparition,</li>
<li>Le focus doit être redonné à l’élément déclenchant ou, si c’est impossible, positionner le focus juste avant le contenu qui a disparu. Par exemple, à la fermeture d’une boîte de dialogue, le focus doit être repositionné sur l’élément qui a déclenché l’ouverture (bouton, lien, …).</li>
</ol>
<p>
<strong>Dans tous les cas, s’assurer que le parcours du focus est demeuré logique et séquentiel après apparition/disparition de contenu.</strong>
</p>
<h3>Avertir l'utilisateur de la modification du contenu</h3>

<p>C'est le principal problème posé à tout utilisateur, et en particulier les personnes déficientes visuelles, cognitives ou avec un trouble de l’attention ou sur des petits écrans. </p>
<p>L'utilisateur doit pouvoir repérer l’apparition ou la disparition de contenu et d’interagir avec ceux-ci, si besoin. <br />Il faut donc prévenir l’utilisateur, et pour cela, il existe plusieurs solutions en cas de modification de contenu&nbsp;:</p>
<ul><li>En fournissant à l'utilisateur un texte informatif,</li>
<li>En gérant le déplacement du focus,</li>
<li>En utilisant de l’<abbr>ARIA</abbr>.</li></ul>

<p>Voir [l’exemple de menu déroulant](./simple-menu/simple-menu.html) pour la mise en pratique de l’attribut <code>aria-haspopup</code>.</p>

<h3>Cas de l'attribut <code>Tabindex</code></h3>
<p>Il faut, autant que possible, ne pas redéfinir l'ordre de lecture en utilisant des attributs <code>tabindex</code> (avec des valeurs positives).</p>
<p>
En pratique, l’attribut <code>tabindex</code> ne devrait être utilisé qu’avec deux valeurs&nbsp;:</p>
<ul>
<li><code>tabindex="-1"</code>&nbsp;: pour interdire à un élément de recevoir le focus via la touche <kbd>TAB</kbd> et l’autoriser à recevoir le focus via Javascript.</li>
<li><code>tabindex="0"</code>&nbsp;: pour rendre un élément focusable via la touche <kbd>TAB</kbd> et via Javascript.</li>
</ul>	  
<h2>Cas particulier d’une modification dynamique d’une <code>iframe</code></h2>
<p>Lorsqu’une <code>iframe</code> est mise à jour dynamiquement par une action utilisateur, il faut&nbsp;:</p>
<ul>
<li>Informer l’utilisateur de cette mise à jour et mettre à jour l’attribut <code>title</code> pour informer l’utilisateur de cette mise à jour. </li>
<li> Si besoin (l’utilisateur doit avoir accès à l’<code>iframe</code> modifié immédiatement après l’action ayant abouti à la mise à jour), il faut mettre le focus sur la balise <code>iframe</code>.</li>
<li> S’assurer que le parcours du focus reste logique et séquentiel dans la page comme à l’intérieur de l’<code>iframe</code>.</li>
</ul>

    </main>
    <footer id="footer" class="o-footer" role="contentinfo">
  <div class="container-lg">
    <nav class="py-2" role="navigation">
      <ul class="nav flex-column flex-sm-row"><li class="nav-item">
            <a href="/fr/contact" class="nav-link"><u>Contact</u></a>
          </li><li class="nav-item">
            <a href="/fr/a-propos" class="nav-link"><u>À propos</u></a>
          </li><li class="nav-item ml-sm-auto">
          <a href="https://github.com/Orange-OpenSource/a11y-guidelines/issues/new?title=File%20path%20:%20'./src/fr/web/exemples-de-composants/gestion-dynamique-du-focus/index.njk'" class="nav-link" rel="noopener noreferrer" target="_blank" title="Signaler une erreur sur Github (nouvelle fenêtre)">
            <u>Signaler une erreur sur Github<span class="sr-only">&nbsp;(nouvelle fenêtre)</span><svg width="16" height="16" class="ml-1" viewBox="0 0 1000 1000" aria-hidden="true" focusable="false"><path class="cls-1" d="M374.908,308.958L600,309V109L921.719,430.9a74.988,74.988,0,0,1,0,106.044L600,859V659H325A150.027,150.027,0,0,0,175,809v81C98.941,830.528,50,737.929,50,633.891,50,454.436,195.466,308.958,374.908,308.958Z"/></svg></u>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</footer>

    <a href="#" id="back-to-top" class="o-scroll-up static" title="Retour en haut de page">
      <span class="d-none d-sm-inline-block">Retour en haut de page</span>
    </a>
    <script src="/assets/vendors/tarteaucitronjs/tarteaucitron.js"></script>
    
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    
    
      <script src="https://cdn.jsdelivr.net/npm/boosted@4.5.3/dist/js/boosted.min.js" integrity="sha384-dZ5yFPu4JLOG6APRar263bUkZl+uDJl2LWBDXvSyVocYb4g2FJrT0BxpETyjdqtj" crossorigin="anonymous"></script>
    
    
    
      <script src="/assets/vendors/highlightjs/highlight.js"></script>
    
    <script>
      const Application = {
        lang: "fr",
        vendors: {
          highlightJS: true
        }
      }
    </script>
    <script src="/assets/script.js"></script><script src="script.js"></script><script>
      var tarteaucitronForceLanguage = "fr"
      tarteaucitron.init({"privacyUrl":"","hashtag":"#cookie-consent","cookieName":"cookie-consent","orientation":"bottom","showAlertSmall":false,"cookieslist":true,"adblocker":false,"AcceptAllCta":true,"highPrivacy":true,"handleBrowserDNTRequest":false,"removeCredit":false,"moreInfoLink":true,"useExternalCss":true,"readmoreLink":"/cookiespolicy","mandatory":false});var dataLayer = [{
          'site_name': 'accessibility-guidelines',
          'phase': 'prod'
        }];
        tarteaucitron.user.googletagmanagerId = "GTM-N3M5VXS";
        (tarteaucitron.job = tarteaucitron.job || []).push('googletagmanager')</script>
    <div id="a11y_heading_anchor_label" hidden>Lien pour ancrage</div>
    <!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples. Copyright (C) 2016 - 2020 Orange SA. See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). -->

  </body>
</html>
